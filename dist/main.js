(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");



var routes = [];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Nav bar -->\r\n<nav id=\"main\">\r\n\t<!-- Mobile menu toggle -->\r\n\t<div id=\"mobileMenuButton\">\r\n\t\t<button (click)=\"toggleSidebar()\" aria-label=\"Menu\">\r\n\t\t\t<i id=\"menuButtonIcon\" class=\"far fa-bars\"></i>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<!-- Branding - logo and title -->\r\n\t<div class=\"branding\">\r\n\t\t<a href=\"https://usgs.gov\" class=\"branding-logo\">\r\n\t\t\t<span>\r\n\t\t\t\t<img alt=\"USGS identifier\" src=\"https://wim.usgs.gov/website-assets/usgs-logo.png\" />\r\n\t\t\t</span>\r\n\t\t</a>\r\n\t\t<div class=\"branding-title\">\r\n\t\t\t<span>Time of Travel</span>\r\n\t\t\t<small>Beta release</small>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<!-- Links -->\r\n\t<div nav-links class=\"nav-links\">\r\n\t\t<!-- Open about modal -->\r\n\t\t<a (click)=\"openAboutModal()\">\r\n\t\t\t<span>\r\n\t\t\t\t<i class=\"far fa-info-circle\"></i>\r\n\t\t\t\t<span class=\"nav-link-text\">About</span>\r\n\t\t\t</span>\r\n\t\t</a>\r\n\t</div>      \r\n</nav>\r\n\r\n<!-- App -->\r\n\r\n<!-- <div class=\"app-body\">\r\n\t<tot-sidebar></tot-sidebar>\r\n\t<div class=\"app-content\">\r\n\t\t<tot-map _nghost-c0 ng-version=\"6.1.3\" [modal]=\"false\"></tot-map>\r\n\t\t<tot-footer></tot-footer>\r\n\t</div>\r\n</div> -->\r\n<tot-core class=\"app-content\"></tot-core>\r\n\r\n"

/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "nav#main {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 50px;\n  min-height: 50px;\n  max-height: 50px;\n  background-color: #0C141E;\n  box-sizing: border-box;\n  padding: 0 20px;\n}\nnav#main #mobileMenuButton {\n  display: none;\n  flex-direction: column;\n  justify-content: center;\n  height: 52px;\n  padding-right: 10px;\n  box-sizing: border-box;\n  border: none;\n  width: 50px;\n}\n@media (max-width: 768px) {\n  nav#main #mobileMenuButton {\n    display: flex;\n  }\n}\nnav#main #mobileMenuButton button {\n  background-color: transparent;\n  color: white;\n  opacity: 0.7;\n  border: none;\n  text-align: center;\n  font-size: 24px;\n}\nnav#main #mobileMenuButton button:hover {\n  opacity: 1;\n  transition: 0.2s;\n}\nnav#main #mobileMenuButton button:focus, nav#main #mobileMenuButton button:active {\n  transform: rotate(180deg);\n  transition: 0.2s;\n  transform-origin: 50% 50%;\n  text-decoration: none;\n}\nnav#main .branding {\n  display: flex;\n  flex-grow: 3;\n}\nnav#main .branding .branding-logo {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\nnav#main .branding .branding-logo img {\n  height: 26px;\n  width: auto;\n}\nnav#main .branding .branding-title {\n  display: flex;\n  font-size: 20px;\n  color: white;\n  font-weight: 500;\n  box-sizing: border-box;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  padding-left: 15px;\n}\nnav#main .branding .branding-title span, nav#main .branding .branding-title small {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\nnav#main .branding .branding-title small {\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: -0.3px;\n  padding-left: 15px;\n  color: #FFFFFF;\n  display: inline-block;\n  vertical-align: top;\n  margin-top: 14px;\n  /*color: #F45D5D;*/\n}\nnav#main .nav-links {\n  display: flex;\n}\nnav#main .nav-links a {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  color: rgba(255, 255, 255, 0.7) !important;\n  transition: 0.2s;\n  font-weight: 600;\n}\nnav#main .nav-links a:hover {\n  cursor: pointer;\n  color: white;\n  transition: 0.2s;\n}\nnav#main .nav-links a i {\n  margin-right: 4px;\n}\ntot-core {\n  flex-grow: 3;\n  display: flex;\n  height: 98%;\n  height: calc(100% - 50px);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQzpcXFVzZXJzXFx0Z3Jvc3NcXHdpbS5naXRodWJcXFRyYXZlbFRpbWUvc3JjXFxhcHBcXGFwcC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7QUNDRDtBREVDO0VBQ0MsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDQUY7QURHRTtFQVhEO0lBWUUsYUFBQTtFQ0FEO0FBQ0Y7QURHRTtFQUNDLDZCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FDREg7QURHRztFQUNDLFVBQUE7RUFDQSxnQkFBQTtBQ0RKO0FESUc7RUFHQyx5QkFBQTtFQUVBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxxQkFBQTtBQ0hKO0FEU0M7RUFDQyxhQUFBO0VBQ0EsWUFBQTtBQ1BGO0FEVUU7RUFDQyxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtBQ1JIO0FEVUc7RUFDQyxZQUFBO0VBQ0EsV0FBQTtBQ1JKO0FEYUU7RUFDQyxhQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxxQkFBQTtFQUNBLGtCQUFBO0FDWEg7QURhRztFQUNDLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0FDWEo7QURjRztFQUNDLGVBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0EscUJBQUE7RUFDRyxtQkFBQTtFQUNILGdCQUFBO0VBQ0Esa0JBQUE7QUNaSjtBRGtCQztFQUNDLGFBQUE7QUNoQkY7QURrQkU7RUFDQyxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLDBDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQ2hCSDtBRGtCRztFQUNDLGVBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNoQko7QURtQkc7RUFDQyxpQkFBQTtBQ2pCSjtBRHdCQTtFQUNDLFlBQUE7RUFDQSxhQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0FDckJEIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsibmF2I21haW57XHJcblx0ZGlzcGxheTogZmxleDtcclxuXHRqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcblx0d2lkdGg6IDEwMCU7XHJcblx0aGVpZ2h0OiA1MHB4O1xyXG5cdG1pbi1oZWlnaHQ6IDUwcHg7XHJcblx0bWF4LWhlaWdodDogNTBweDtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMEMxNDFFO1xyXG5cdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcblx0cGFkZGluZzogMCAyMHB4O1xyXG5cclxuXHQvLyBNb2JpbGUgbWVudSBidXR0b25cclxuXHQjbW9iaWxlTWVudUJ1dHRvbntcclxuXHRcdGRpc3BsYXk6IG5vbmU7XHJcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRoZWlnaHQ6IDUycHg7XHJcblx0XHRwYWRkaW5nLXJpZ2h0OiAxMHB4O1xyXG5cdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcclxuXHRcdGJvcmRlcjogbm9uZTtcclxuXHRcdHdpZHRoOiA1MHB4O1xyXG5cclxuXHRcdC8vIE9ubHkgc2hvdyBvbiBtb2JpbGVcclxuXHRcdEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFjdHVhbCBidXR0b24gXHJcblx0XHRidXR0b24ge1xyXG5cdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuXHRcdFx0Y29sb3I6IHdoaXRlO1xyXG5cdFx0XHRvcGFjaXR5OiAwLjc7XHJcblx0XHRcdGJvcmRlcjogbm9uZTtcclxuXHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdFx0XHRmb250LXNpemU6IDI0cHg7XHJcblxyXG5cdFx0XHQmOmhvdmVyIHtcclxuXHRcdFx0XHRvcGFjaXR5OiAxO1xyXG5cdFx0XHRcdHRyYW5zaXRpb246IDAuMnM7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCY6Zm9jdXMsXHJcblx0XHRcdCY6YWN0aXZlIHtcclxuXHRcdFx0XHQtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7XHJcblx0XHRcdFx0dHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcclxuXHRcdFx0XHQtd2Via2l0LXRyYW5zaXRpb246IC4ycztcclxuXHRcdFx0XHR0cmFuc2l0aW9uOiAuMnM7XHJcblx0XHRcdFx0dHJhbnNmb3JtLW9yaWdpbjogNTAlIDUwJTtcclxuXHRcdFx0XHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEJyYW5kaW5nXHJcblx0LmJyYW5kaW5ne1xyXG5cdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdGZsZXgtZ3JvdzogMztcclxuXHJcblx0XHQvLyBMb2dvXHJcblx0XHQuYnJhbmRpbmctbG9nb3tcclxuXHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblxyXG5cdFx0XHRpbWd7XHJcblx0XHRcdFx0aGVpZ2h0OiAyNnB4O1xyXG5cdFx0XHRcdHdpZHRoOiBhdXRvO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQXBwIHRpdGxlXHJcblx0XHQuYnJhbmRpbmctdGl0bGV7XHJcblx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdGZvbnQtc2l6ZTogMjBweDtcclxuXHRcdFx0Y29sb3I6IHdoaXRlO1xyXG5cdFx0XHRmb250LXdlaWdodDogNTAwO1xyXG5cdFx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG5cdFx0XHRmb250LXdlaWdodDogNzAwO1xyXG5cdFx0XHRsZXR0ZXItc3BhY2luZzogMC41cHg7XHJcblx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcclxuXHJcblx0XHRcdHNwYW4sc21hbGx7XHJcblx0XHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzbWFsbHtcclxuXHRcdFx0XHRmb250LXNpemU6IDE0cHg7XHJcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDUwMDtcclxuXHRcdFx0XHRsZXR0ZXItc3BhY2luZzogLTAuM3B4O1xyXG5cdFx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcclxuXHRcdFx0XHRjb2xvcjogI0ZGRkZGRjtcclxuXHRcdFx0XHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBcdFx0XHR2ZXJ0aWNhbC1hbGlnbjogdG9wO1xyXG5cdFx0XHRcdG1hcmdpbi10b3A6MTRweDtcclxuXHRcdFx0XHQvKmNvbG9yOiAjRjQ1RDVEOyovXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIExpbmtzXHJcblx0Lm5hdi1saW5rc3tcclxuXHRcdGRpc3BsYXk6IGZsZXg7XHJcblxyXG5cdFx0YXtcclxuXHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRcdGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNykgIWltcG9ydGFudDtcclxuXHRcdFx0dHJhbnNpdGlvbjogMC4ycztcclxuXHRcdFx0Zm9udC13ZWlnaHQ6IDYwMDtcclxuXHJcblx0XHRcdCY6aG92ZXJ7XHJcblx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDEpO1xyXG5cdFx0XHRcdHRyYW5zaXRpb246IDAuMnM7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGl7XHJcblx0XHRcdFx0bWFyZ2luLXJpZ2h0OiA0cHg7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbi8vIENvcmUsIGNvbnRhaW5zIG1hcCwgc2lkZWJhciwgZGF0YVxyXG50b3QtY29yZXtcclxuXHRmbGV4LWdyb3c6IDM7XHJcblx0ZGlzcGxheTogZmxleDtcclxuXHRoZWlnaHQ6IDk4JTtcclxuXHRoZWlnaHQ6IGNhbGMoMTAwJSAtIDUwcHgpO1xyXG59XHJcblxyXG5cclxuIiwibmF2I21haW4ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDUwcHg7XG4gIG1pbi1oZWlnaHQ6IDUwcHg7XG4gIG1heC1oZWlnaHQ6IDUwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwQzE0MUU7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHBhZGRpbmc6IDAgMjBweDtcbn1cbm5hdiNtYWluICNtb2JpbGVNZW51QnV0dG9uIHtcbiAgZGlzcGxheTogbm9uZTtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGhlaWdodDogNTJweDtcbiAgcGFkZGluZy1yaWdodDogMTBweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgYm9yZGVyOiBub25lO1xuICB3aWR0aDogNTBweDtcbn1cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICBuYXYjbWFpbiAjbW9iaWxlTWVudUJ1dHRvbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgfVxufVxubmF2I21haW4gI21vYmlsZU1lbnVCdXR0b24gYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgb3BhY2l0eTogMC43O1xuICBib3JkZXI6IG5vbmU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAyNHB4O1xufVxubmF2I21haW4gI21vYmlsZU1lbnVCdXR0b24gYnV0dG9uOmhvdmVyIHtcbiAgb3BhY2l0eTogMTtcbiAgdHJhbnNpdGlvbjogMC4ycztcbn1cbm5hdiNtYWluICNtb2JpbGVNZW51QnV0dG9uIGJ1dHRvbjpmb2N1cywgbmF2I21haW4gI21vYmlsZU1lbnVCdXR0b24gYnV0dG9uOmFjdGl2ZSB7XG4gIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcbiAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAwLjJzO1xuICB0cmFuc2l0aW9uOiAwLjJzO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiA1MCUgNTAlO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5uYXYjbWFpbiAuYnJhbmRpbmcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWdyb3c6IDM7XG59XG5uYXYjbWFpbiAuYnJhbmRpbmcgLmJyYW5kaW5nLWxvZ28ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbm5hdiNtYWluIC5icmFuZGluZyAuYnJhbmRpbmctbG9nbyBpbWcge1xuICBoZWlnaHQ6IDI2cHg7XG4gIHdpZHRoOiBhdXRvO1xufVxubmF2I21haW4gLmJyYW5kaW5nIC5icmFuZGluZy10aXRsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXdlaWdodDogNTAwO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBmb250LXdlaWdodDogNzAwO1xuICBsZXR0ZXItc3BhY2luZzogMC41cHg7XG4gIHBhZGRpbmctbGVmdDogMTVweDtcbn1cbm5hdiNtYWluIC5icmFuZGluZyAuYnJhbmRpbmctdGl0bGUgc3BhbiwgbmF2I21haW4gLmJyYW5kaW5nIC5icmFuZGluZy10aXRsZSBzbWFsbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxubmF2I21haW4gLmJyYW5kaW5nIC5icmFuZGluZy10aXRsZSBzbWFsbCB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgbGV0dGVyLXNwYWNpbmc6IC0wLjNweDtcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xuICBjb2xvcjogI0ZGRkZGRjtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICBtYXJnaW4tdG9wOiAxNHB4O1xuICAvKmNvbG9yOiAjRjQ1RDVEOyovXG59XG5uYXYjbWFpbiAubmF2LWxpbmtzIHtcbiAgZGlzcGxheTogZmxleDtcbn1cbm5hdiNtYWluIC5uYXYtbGlua3MgYSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpICFpbXBvcnRhbnQ7XG4gIHRyYW5zaXRpb246IDAuMnM7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5uYXYjbWFpbiAubmF2LWxpbmtzIGE6aG92ZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdHJhbnNpdGlvbjogMC4ycztcbn1cbm5hdiNtYWluIC5uYXYtbGlua3MgYSBpIHtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG5cbnRvdC1jb3JlIHtcbiAgZmxleC1ncm93OiAzO1xuICBkaXNwbGF5OiBmbGV4O1xuICBoZWlnaHQ6IDk4JTtcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA1MHB4KTtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _components_about_about_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/about/about.component */ "./src/app/components/about/about.component.ts");




var AppComponent = /** @class */ (function () {
    function AppComponent(config, modalService) {
        this.modalService = modalService;
        this.title = 'USGS Time of Travel';
        this.mapSize = 'half';
        config.backdrop = 'static';
        config.keyboard = false;
    }
    AppComponent.prototype.openAboutModal = function () {
        var modalRef = this.modalService.open(_components_about_about_component__WEBPACK_IMPORTED_MODULE_3__["AboutModalComponent"]);
        modalRef.componentInstance.title = 'About';
    };
    AppComponent.prototype.toggleSidebar = function () {
        console.log('Toggling Sidebar');
        $('#sidebarWrapper').toggleClass('menu-visible');
        $('#menuButtonIcon').toggleClass('fa-bars, fa-times');
    };
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            providers: [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModalConfig"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModal"]],
            styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModalConfig"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModal"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _components_about_about_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/about/about.component */ "./src/app/components/about/about.component.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _modules_core_core_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/core/core.module */ "./src/app/modules/core/core.module.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _modules_core_components_modals_spill_response_spill_response_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/core/components/modals/spill-response/spill-response.component */ "./src/app/modules/core/components/modals/spill-response/spill-response.component.ts");
/* harmony import */ var _modules_core_components_date_time_picker_date_time_picker_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/core/components/date-time-picker/date-time-picker.component */ "./src/app/modules/core/components/date-time-picker/date-time-picker.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _modules_core_components_modals_configuration_configuration_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/core/components/modals/configuration/configuration.component */ "./src/app/modules/core/components/modals/configuration/configuration.component.ts");
/* harmony import */ var _modules_core_components_modals_gages_gages_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modules/core/components/modals/gages/gages.component */ "./src/app/modules/core/components/modals/gages/gages.component.ts");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ng2-charts */ "./node_modules/ng2-charts/fesm5/ng2-charts.js");
/* harmony import */ var _asymmetrik_ngx_leaflet__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @asymmetrik/ngx-leaflet */ "./node_modules/@asymmetrik/ngx-leaflet/dist/index.js");
/* harmony import */ var _modules_core_components_map_map_module__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./modules/core/components/map/map.module */ "./src/app/modules/core/components/map/map.module.ts");
/* harmony import */ var _modules_core_core_routing_module__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./modules/core/core-routing.module */ "./src/app/modules/core/core-routing.module.ts");
/* harmony import */ var _modules_core_components_modals_report_report_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./modules/core/components/modals/report/report.module */ "./src/app/modules/core/components/modals/report/report.module.ts");
/* harmony import */ var _modules_core_components_modals_spill_planning_spillplanning_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./modules/core/components/modals/spill-planning/spillplanning.component */ "./src/app/modules/core/components/modals/spill-planning/spillplanning.component.ts");















//import { AppchartsComponent } from './modules/core/components/appcharts/appcharts.component';





var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"],
                _components_about_about_component__WEBPACK_IMPORTED_MODULE_4__["AboutModalComponent"],
                _modules_core_components_modals_spill_response_spill_response_component__WEBPACK_IMPORTED_MODULE_9__["SpillResponseComponent"],
                _modules_core_components_date_time_picker_date_time_picker_component__WEBPACK_IMPORTED_MODULE_10__["DateTimePickerComponent"],
                _modules_core_components_modals_configuration_configuration_component__WEBPACK_IMPORTED_MODULE_12__["ConfigurationComponent"],
                _modules_core_components_modals_gages_gages_component__WEBPACK_IMPORTED_MODULE_13__["GagesComponent"],
                _modules_core_components_modals_spill_planning_spillplanning_component__WEBPACK_IMPORTED_MODULE_19__["SpillPlanningComponent"]
            ],
            imports: [
                _asymmetrik_ngx_leaflet__WEBPACK_IMPORTED_MODULE_15__["LeafletModule"].forRoot(),
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_8__["HttpClientModule"],
                _modules_core_core_module__WEBPACK_IMPORTED_MODULE_7__["CoreModule"],
                _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__["NgbTabsetModule"],
                ng2_charts__WEBPACK_IMPORTED_MODULE_14__["ChartsModule"],
                _modules_core_components_map_map_module__WEBPACK_IMPORTED_MODULE_16__["MapModule"],
                _modules_core_components_modals_report_report_module__WEBPACK_IMPORTED_MODULE_18__["ReportModule"],
                _modules_core_core_routing_module__WEBPACK_IMPORTED_MODULE_17__["AppRoutingModule"],
                ngx_toastr__WEBPACK_IMPORTED_MODULE_6__["ToastNoAnimationModule"].forRoot({
                    timeOut: 5000,
                    positionClass: 'toast-bottom-right',
                    progressAnimation: 'decreasing',
                    preventDuplicates: true,
                    countDuplicates: true
                }),
                _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__["NgbModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_11__["ReactiveFormsModule"]
            ],
            providers: [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__["NgbActiveModal"]],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"]],
            entryComponents: [_app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"], _components_about_about_component__WEBPACK_IMPORTED_MODULE_4__["AboutModalComponent"], _modules_core_components_modals_spill_response_spill_response_component__WEBPACK_IMPORTED_MODULE_9__["SpillResponseComponent"], _modules_core_components_date_time_picker_date_time_picker_component__WEBPACK_IMPORTED_MODULE_10__["DateTimePickerComponent"], _modules_core_components_modals_configuration_configuration_component__WEBPACK_IMPORTED_MODULE_12__["ConfigurationComponent"], _modules_core_components_modals_gages_gages_component__WEBPACK_IMPORTED_MODULE_13__["GagesComponent"], _modules_core_components_modals_spill_planning_spillplanning_component__WEBPACK_IMPORTED_MODULE_19__["SpillPlanningComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/components/about/about.component.html":
/*!*******************************************************!*\
  !*** ./src/app/components/about/about.component.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-wrapper\">\r\n\t<div class=\"modal-box\">\r\n\t\t<!-- Header -->\r\n\t\t<div class=\"modal-top\">\r\n\t\t\t<div class=\"title\">About the Time of Travel application {{this.version}}</div>\r\n\t\t\t<div class=\"close-modal\" (click)=\"activeModal.dismiss()\">\r\n\t\t\t\t<i class=\"far fa-times\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Main content -->\r\n\t\t<div class=\"modal-middle\">\r\n\t\t\t<p>The Time of Travel application estimates travel times and concentrations between a user-selected spill location and locations of downstream critical infrastructure, such as municipal water intakes based on a user-specified distance. Estimates of travel time are provided for the leading edge, peak, and trailing edge, and peak concentration will be provided under the most-probable velocity and the maximum-probable velocity of the spilled oil, assuming the flow is steady and the spill is instantaneously and completely mixed. Users are required to input the mass of the spilled contaminant and the decay rate to obtain estimates of concentrations. Users also are able to search the stream network upstream from a selected location and identify potential spill travel times within a specified distance. \r\n\r\n\t\t\t<h4>Behind the scenes...</h4>\r\n\t\t\t<p>The Time of Travel application utilizes <a href=\"https://nhdplus.com/NHDPlus/\" target=\"_blank\">NHDPlus Version 2</a> for its data network and is built with <a href=\"https://angular.io/\" target=\"_blank\">Angular</a>, <a\r\n\t\t\t\thref=\"https://github.com/Asymmetrik/ngx-leaflet\" target=\"_blank\">Assymetrik ngx-leaflet</a>, and <a\r\n\t\t\t\thref=\"https://ng-bootstrap.github.io/\" target=\"_blank\">Angular powered Bootstrap</a>.</p>\r\n\t  \r\n\t\t\t<p>This web application was developed by <a href=\"https://wim.usgs.gov\" target=\"_blank\">USGS Web Informatics and Mapping\r\n\t\t\t(WIM)</a> in cooperation with the <a href=\"https://www.doi.gov/oepc/inland-oil-spill-preparedness-program-iospp\" target=\"_blank\">Inland Oil Spill Preparedness Program (IOSPP)</a>.</p>\r\n\t\t\t\r\n\t\t\t<small>This web application has been made possible thanks to <a href=\"https://valor-software.com/ng2-charts/\" target=\"_blank\">ng2-charts</a></small>\r\n\r\n\t\t</div>\r\n\t\t<!-- Footer -->\r\n\t\t<div class=\"modal-buttons center\">\r\n\t\t\t<button (click)=\"activeModal.dismiss()\">Close </button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/about/about.component.scss":
/*!*******************************************************!*\
  !*** ./src/app/components/about/about.component.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-body p {\n  padding-top: 15px;\n}\n\n.modal-title {\n  color: #6e7490;\n  padding-top: 0;\n  font-size: 21px !important;\n}\n\n.modal-footer {\n  align-items: center;\n  text-align: center;\n  display: block;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9hYm91dC9DOlxcVXNlcnNcXHRncm9zc1xcd2ltLmdpdGh1YlxcVHJhdmVsVGltZS9zcmNcXGFwcFxcY29tcG9uZW50c1xcYWJvdXRcXGFib3V0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL2Fib3V0L2Fib3V0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUJBQUE7QUNDSjs7QURDQTtFQUNJLGNBQUE7RUFDQSxjQUFBO0VBQ0EsMEJBQUE7QUNFSjs7QURBQTtFQUNJLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FDR0oiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2Fib3V0L2Fib3V0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1vZGFsLWJvZHkgcCB7XHJcbiAgICBwYWRkaW5nLXRvcDogMTVweDtcclxufVxyXG4ubW9kYWwtdGl0bGUge1xyXG4gICAgY29sb3I6ICM2ZTc0OTA7XHJcbiAgICBwYWRkaW5nLXRvcDogMDtcclxuICAgIGZvbnQtc2l6ZTogMjFweCFpbXBvcnRhbnQ7XHJcbn1cclxuLm1vZGFsLWZvb3RlciB7ICAgIFxyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59IiwiLm1vZGFsLWJvZHkgcCB7XG4gIHBhZGRpbmctdG9wOiAxNXB4O1xufVxuXG4ubW9kYWwtdGl0bGUge1xuICBjb2xvcjogIzZlNzQ5MDtcbiAgcGFkZGluZy10b3A6IDA7XG4gIGZvbnQtc2l6ZTogMjFweCAhaW1wb3J0YW50O1xufVxuXG4ubW9kYWwtZm9vdGVyIHtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBkaXNwbGF5OiBibG9jaztcbn0iXX0= */"

/***/ }),

/***/ "./src/app/components/about/about.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/about/about.component.ts ***!
  \*****************************************************/
/*! exports provided: AboutModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AboutModalComponent", function() { return AboutModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");




var AboutModalComponent = /** @class */ (function () {
    function AboutModalComponent(http, config, activeModal) {
        var _this = this;
        this.activeModal = activeModal;
        // customize default values of modals used by this component tree
        config.backdrop = 'static';
        config.keyboard = false;
        http.get("assets/data/config.json").subscribe(function (data) {
            var conf = data;
            _this.version = conf.version;
        });
    }
    AboutModalComponent.prototype.ngOnInit = function () { };
    AboutModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'aboutModal',
            template: __webpack_require__(/*! ./about.component.html */ "./src/app/components/about/about.component.html"),
            styles: [__webpack_require__(/*! ./about.component.scss */ "./src/app/components/about/about.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModalConfig"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"]])
    ], AboutModalComponent);
    return AboutModalComponent;
}());



/***/ }),

/***/ "./src/app/modules/core/components/appcharts/appcharts.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/modules/core/components/appcharts/appcharts.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n<div id=\"appChartsWrapper\">\r\n\r\n\t<!-- Toggle Between Max and Most probable -->\r\n\t<div class=\"most-max-probable-toggle\">\r\n\t\t<!-- Max probable -->\r\n\t\t<button (click)=\"open()\" v-if=\"viewChart == 'max'\" [ngClass]=\"{'active': viewChart === 'most'}\">\r\n\t\t\tMaximum Probable\r\n\t\t</button>\r\n\t\t<!-- Most probable toggle -->\r\n\t\t<button (click)=\"open()\" v-if=\"viewChart == 'most'\" [ngClass]=\"{'active': viewChart === 'max'}\">\r\n\t\t\tMost Probable\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<div *ngIf=\"SelectedMethodType === 'response'\">\r\n\t\t<!-- Selected Group Dropdown -->\r\n\t\t<div class=\"flex-end flex\" id=\"groupSelection\">\r\n\t\t\t<ng-select #selectGroup [items]=\"reachesGrouped\"\r\n\t\t\t\twidth=\"100%\"\r\n\t\t\t\t[disabled]=\"isDisabled\"\r\n\t\t\t\t[virtualScroll]=\"true\"\r\n\t\t\t\tbindLabel=\"label\"\r\n\t\t\t\tbindValue=\"id\"\r\n\t\t\t\t(change)=\"chartIsActive($event)\"\r\n\t\t\t\tplaceholder=\"Select a group\"\r\n\t\t\t\t[(ngModel)]=\"selectedGroupId\">\r\n\t\t\t</ng-select>\r\n\t\t</div>\r\n\r\n\r\n\r\n\r\n\t\t<div style=\"display: block;\" *ngIf=\"mostLineChartData.length > 1 && showMost\">\r\n\t\t\t<canvas baseChart width=\"600\"\r\n\t\t\t\t\t\t\t[datasets]=\"mostLineChartData\"\r\n\t\t\t\t\t\t\t[labels]=\"mostLineChartLabels\"\r\n\t\t\t\t\t\t\t[options]=\"mostLineChartOptions\"\r\n\t\t\t\t\t\t\t[colors]=\"lineChartColors\"\r\n\t\t\t\t\t\t\t[legend]=\"lineChartLegend\"\r\n\t\t\t\t\t\t\t[chartType]=\"lineChartType\"\r\n\t\t\t\t\t\t\t[plugins]=\"lineChartPlugins\"\r\n\t\t\t\t\t\t\t(chartHover)=\"chartHovered($event)\"\r\n\t\t\t\t\t\t\t(chartClick)=\"chartClicked($event)\"></canvas>\r\n\t\t</div>\r\n\r\n\t\t<div style=\"display: block;\" *ngIf=\"maxLineChartData.length > 1 && showMax\">\r\n\t\t\t<canvas baseChart width=\"600\"\r\n\t\t\t\t\t\t\t[datasets]=\"maxLineChartData\"\r\n\t\t\t\t\t\t\t[labels]=\"maxLineChartLabels\"\r\n\t\t\t\t\t\t\t[options]=\"maxLineChartOptions\"\r\n\t\t\t\t\t\t\t[colors]=\"lineChartColors\"\r\n\t\t\t\t\t\t\t[legend]=\"lineChartLegend\"\r\n\t\t\t\t\t\t\t[chartType]=\"lineChartType\"\r\n\t\t\t\t\t\t\t[plugins]=\"lineChartPlugins\"\r\n\t\t\t\t\t\t\t(chartHover)=\"chartHovered($event)\"\r\n\t\t\t\t\t\t\t(chartClick)=\"chartClicked($event)\"></canvas>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\r\n</div>"

/***/ }),

/***/ "./src/app/modules/core/components/appcharts/appcharts.component.scss":
/*!****************************************************************************!*\
  !*** ./src/app/modules/core/components/appcharts/appcharts.component.scss ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#appChartsWrapper {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: visible;\n}\n\n.most-max-probable-toggle {\n  display: flex;\n  width: 100%;\n  text-align: center;\n  padding-bottom: 10px;\n  margin: 0 auto;\n  justify-content: flex-end;\n  margin-top: -35px;\n}\n\n.most-max-probable-toggle button {\n  margin: 0;\n  border-radius: 0;\n  font-size: 12px;\n  background-color: #f2f3f5;\n  color: #253F60;\n  padding: 8px 12px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.most-max-probable-toggle button:nth-child(1) {\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n  border-right: none;\n}\n\n.most-max-probable-toggle button:last-child {\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n  border-left: none;\n}\n\n.most-max-probable-toggle button.active {\n  background-color: #0652D6;\n  color: white;\n}\n\n.most-max-probable-toggle button.active:hover {\n  text-decoration: none;\n  cursor: default;\n}\n\n.modal-wrapper .most-max-probable-toggle {\n  margin-top: 0;\n}\n\nng-select {\n  text-align: center;\n  text-align-last: center;\n}\n\nng-select > div {\n  border: none !important;\n}\n\nng-select > div > div.single > div.toggle {\n  color: white !important;\n  background: none;\n}\n\nng-select > div > div.single > div.toggle:hover {\n  background-color: #4389a9;\n}\n\nng-select > div > div.single > div.placeholder {\n  color: white;\n  font-size: 35px;\n  font-family: MontserratRegular;\n}\n\nng-select > div > div.single > div.clear:hover {\n  background-color: #4389a9;\n}\n\nselect-dropdown {\n  display: none;\n}\n\n#groupSelection {\n  width: 100%;\n  max-width: 240px;\n  padding-bottom: 8px;\n  box-sizing: border-box;\n}\n\n#groupSelection ng-select {\n  width: 100%;\n  background-color: white;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvYXBwY2hhcnRzL0M6XFxVc2Vyc1xcdGdyb3NzXFx3aW0uZ2l0aHViXFxUcmF2ZWxUaW1lL3NyY1xcYXBwXFxtb2R1bGVzXFxjb3JlXFxjb21wb25lbnRzXFxhcHBjaGFydHNcXGFwcGNoYXJ0cy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvYXBwY2hhcnRzL2FwcGNoYXJ0cy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGFBQUE7RUFDRyxzQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0MsYUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0EsY0FBQTtFQUNBLHlCQUFBO0VBQ0EsaUJBQUE7QUNDRDs7QURDQztFQUNDLFNBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLG9DQUFBO0FDQ0Y7O0FEQ0U7RUFDQyw0QkFBQTtFQUNBLCtCQUFBO0VBQ0Esa0JBQUE7QUNDSDs7QURDRTtFQUNDLDZCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxpQkFBQTtBQ0NIOztBREVFO0VBQ0MseUJBQUE7RUFDQSxZQUFBO0FDQUg7O0FERUc7RUFDQyxxQkFBQTtFQUNBLGVBQUE7QUNBSjs7QURLQTtFQUNDLGFBQUE7QUNGRDs7QURLQTtFQUNDLGtCQUFBO0VBQ0csdUJBQUE7QUNGSjs7QURHRTtFQXdCRSx1QkFBQTtBQ3hCSjs7QURFTTtFQUNFLHVCQUFBO0VBQ0EsZ0JBQUE7QUNBUjs7QURFUTtFQUNFLHlCQUFBO0FDQVY7O0FESU07RUFDRSxZQUFBO0VBQ0EsZUFBQTtFQUNBLDhCQUFBO0FDRlI7O0FETVE7RUFDRSx5QkFBQTtBQ0pWOztBRGFBO0VBQ0UsYUFBQTtBQ1ZGOztBRGFBO0VBQ0MsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtBQ1ZEOztBRFlDO0VBQ0MsV0FBQTtFQUNBLHVCQUFBO0FDVkYiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2NvcmUvY29tcG9uZW50cy9hcHBjaGFydHMvYXBwY2hhcnRzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2FwcENoYXJ0c1dyYXBwZXJ7XHJcblx0ZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcclxufVxyXG5cclxuLm1vc3QtbWF4LXByb2JhYmxlLXRvZ2dsZXtcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG5cdHdpZHRoOiAxMDAlO1xyXG5cdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRwYWRkaW5nLWJvdHRvbTogMTBweDtcclxuXHRtYXJnaW46IDAgYXV0bztcclxuXHRqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG5cdG1hcmdpbi10b3A6IC0zNXB4O1xyXG5cclxuXHRidXR0b257XHJcblx0XHRtYXJnaW46IDA7XHJcblx0XHRib3JkZXItcmFkaXVzOiAwO1xyXG5cdFx0Zm9udC1zaXplOiAxMnB4O1xyXG5cdFx0YmFja2dyb3VuZC1jb2xvcjogI2YyZjNmNTtcclxuXHRcdGNvbG9yOiAjMjUzRjYwO1xyXG5cdFx0cGFkZGluZzogOHB4IDEycHg7XHJcblx0XHRib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMSk7XHJcblxyXG5cdFx0JjpudGgtY2hpbGQoMSl7XHJcblx0XHRcdGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDIwcHg7XHJcblx0XHRcdGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDIwcHg7XHJcblx0XHRcdGJvcmRlci1yaWdodDogbm9uZTtcclxuXHRcdH1cclxuXHRcdCY6bGFzdC1jaGlsZHtcclxuXHRcdFx0Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDIwcHg7XHJcblx0XHRcdGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAyMHB4O1xyXG5cdFx0XHRib3JkZXItbGVmdDogbm9uZTtcclxuXHRcdH1cclxuXHJcblx0XHQmLmFjdGl2ZXtcclxuXHRcdFx0YmFja2dyb3VuZC1jb2xvcjogIzA2NTJENjtcclxuXHRcdFx0Y29sb3I6IHdoaXRlO1xyXG5cclxuXHRcdFx0Jjpob3ZlcntcclxuXHRcdFx0XHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcblx0XHRcdFx0Y3Vyc29yOiBkZWZhdWx0O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbi5tb2RhbC13cmFwcGVyIC5tb3N0LW1heC1wcm9iYWJsZS10b2dnbGV7XHJcblx0bWFyZ2luLXRvcDogMDtcclxufVxyXG5cclxubmctc2VsZWN0IHtcclxuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB0ZXh0LWFsaWduLWxhc3Q6IGNlbnRlcjtcclxuICA+IGRpdiB7XHJcbiAgICA+IGRpdi5zaW5nbGUge1xyXG4gICAgICA+IGRpdi50b2dnbGUge1xyXG4gICAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xyXG4gICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQzODlhOTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgID4gZGl2LnBsYWNlaG9sZGVyIHtcclxuICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgZm9udC1zaXplOiAzNXB4O1xyXG4gICAgICAgIGZvbnQtZmFtaWx5OiBNb250c2VycmF0UmVndWxhcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgPiBkaXYuY2xlYXIge1xyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQzODlhOTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxuICB9XHJcbn1cclxuXHJcbnNlbGVjdC1kcm9wZG93biB7XHJcbiAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuI2dyb3VwU2VsZWN0aW9uIHtcclxuXHR3aWR0aDogMTAwJTtcclxuXHRtYXgtd2lkdGg6IDI0MHB4O1xyXG5cdHBhZGRpbmctYm90dG9tOiA4cHg7XHJcblx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcclxuXHJcblx0bmctc2VsZWN0e1xyXG5cdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuXHR9XHJcbn0iLCIjYXBwQ2hhcnRzV3JhcHBlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGhlaWdodDogMTAwJTtcbiAgb3ZlcmZsb3c6IHZpc2libGU7XG59XG5cbi5tb3N0LW1heC1wcm9iYWJsZS10b2dnbGUge1xuICBkaXNwbGF5OiBmbGV4O1xuICB3aWR0aDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIG1hcmdpbi10b3A6IC0zNXB4O1xufVxuLm1vc3QtbWF4LXByb2JhYmxlLXRvZ2dsZSBidXR0b24ge1xuICBtYXJnaW46IDA7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjNmNTtcbiAgY29sb3I6ICMyNTNGNjA7XG4gIHBhZGRpbmc6IDhweCAxMnB4O1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG4ubW9zdC1tYXgtcHJvYmFibGUtdG9nZ2xlIGJ1dHRvbjpudGgtY2hpbGQoMSkge1xuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAyMHB4O1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAyMHB4O1xuICBib3JkZXItcmlnaHQ6IG5vbmU7XG59XG4ubW9zdC1tYXgtcHJvYmFibGUtdG9nZ2xlIGJ1dHRvbjpsYXN0LWNoaWxkIHtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDIwcHg7XG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAyMHB4O1xuICBib3JkZXItbGVmdDogbm9uZTtcbn1cbi5tb3N0LW1heC1wcm9iYWJsZS10b2dnbGUgYnV0dG9uLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwNjUyRDY7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbi5tb3N0LW1heC1wcm9iYWJsZS10b2dnbGUgYnV0dG9uLmFjdGl2ZTpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgY3Vyc29yOiBkZWZhdWx0O1xufVxuXG4ubW9kYWwtd3JhcHBlciAubW9zdC1tYXgtcHJvYmFibGUtdG9nZ2xlIHtcbiAgbWFyZ2luLXRvcDogMDtcbn1cblxubmctc2VsZWN0IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB0ZXh0LWFsaWduLWxhc3Q6IGNlbnRlcjtcbn1cbm5nLXNlbGVjdCA+IGRpdiB7XG4gIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xufVxubmctc2VsZWN0ID4gZGl2ID4gZGl2LnNpbmdsZSA+IGRpdi50b2dnbGUge1xuICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZDogbm9uZTtcbn1cbm5nLXNlbGVjdCA+IGRpdiA+IGRpdi5zaW5nbGUgPiBkaXYudG9nZ2xlOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQzODlhOTtcbn1cbm5nLXNlbGVjdCA+IGRpdiA+IGRpdi5zaW5nbGUgPiBkaXYucGxhY2Vob2xkZXIge1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogMzVweDtcbiAgZm9udC1mYW1pbHk6IE1vbnRzZXJyYXRSZWd1bGFyO1xufVxubmctc2VsZWN0ID4gZGl2ID4gZGl2LnNpbmdsZSA+IGRpdi5jbGVhcjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0Mzg5YTk7XG59XG5cbnNlbGVjdC1kcm9wZG93biB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbiNncm91cFNlbGVjdGlvbiB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtd2lkdGg6IDI0MHB4O1xuICBwYWRkaW5nLWJvdHRvbTogOHB4O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuI2dyb3VwU2VsZWN0aW9uIG5nLXNlbGVjdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/modules/core/components/appcharts/appcharts.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/modules/core/components/appcharts/appcharts.component.ts ***!
  \**************************************************************************/
/*! exports provided: AppchartsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppchartsComponent", function() { return AppchartsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ng2-charts */ "./node_modules/ng2-charts/fesm5/ng2-charts.js");
/* harmony import */ var chartjs_plugin_annotation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! chartjs-plugin-annotation */ "./node_modules/chartjs-plugin-annotation/src/index.js");
/* harmony import */ var chartjs_plugin_annotation__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(chartjs_plugin_annotation__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _services_chart_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/chart.service */ "./src/app/modules/core/services/chart.service.ts");
/* harmony import */ var _ng_select_ng_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ng-select/ng-select */ "./node_modules/@ng-select/ng-select/fesm5/ng-select-ng-select.js");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/map.service */ "./src/app/modules/core/services/map.service.ts");









var AppchartsComponent = /** @class */ (function () {
    function AppchartsComponent(toastr, studyservice, chartservice, mapservice) {
        //#region "Declarations"
        this.lineChartColors = [];
        this.maxLineChartLabels = [];
        this.maxLineChartData = [];
        this.mostLineChartLabels = [];
        this.mostLineChartData = [];
        this.lineChartLegend = true;
        this.lineChartType = 'line';
        this.lineChartPlugins = [chartjs_plugin_annotation__WEBPACK_IMPORTED_MODULE_5__];
        // site grouping disabled;
        this.isDisabled = false;
        this.maxTimeLabels = [];
        this.maxConcentration = [];
        this.mostTimeLabels = [];
        this.mostConcentration = [];
        // Which chart is currently being viewed
        this.viewChart = 'max';
        this.showMost = true;
        this.showMax = false;
        //#endregion
        //#region "Chart options"
        this.mostLineChartOptions = {
            responsive: true,
            elements: { line: { tension: 0 } },
            legend: { position: 'left' },
            title: {
                text: 'Most probable Time of Travel',
                display: false
            },
            data: [{
                    xValueType: 'dateTime',
                }],
            tooltips: {
                callbacks: {
                    label: function (tooltipItem, data) {
                        return "Reach ID: " + data.datasets[tooltipItem.datasetIndex].label + "   Peak Concentration: " + tooltipItem.yLabel; //add _units here
                    }
                }
            },
            scales: {
                yAxes: [{
                        ticks: {
                            //max: this.maxMostProbableY,
                            min: 0,
                        }
                    }],
                xAxes: [{
                        type: 'time',
                        time: {
                            tooltipFormat: 'MM/DD/YYYY h:mm a'
                        }
                    }],
            }
        };
        this.maxLineChartOptions = {
            responsive: true,
            elements: { line: { tension: 0 } },
            legend: { position: 'left' },
            title: {
                text: 'Maximum probable Time of Travel',
                display: false
            },
            data: [{
                    xValueType: 'dateTime',
                }],
            tooltips: {
                callbacks: {
                    label: function (tooltipItem, data) {
                        return "Reach ID: " + data.datasets[tooltipItem.datasetIndex].label + "   Peak Concentration: " + tooltipItem.yLabel;
                    }
                }
            },
            scales: {
                yAxes: [{
                        ticks: {
                            //max: this.maxMaxProbableY,
                            min: 0,
                        }
                    }],
                xAxes: [{
                        type: 'time',
                        time: {
                            tooltipFormat: 'MM/DD/YYYY h:mm a'
                        }
                    }],
            }
        };
        this.StudyService = studyservice;
        this.ChartService = chartservice;
        this.MapService = mapservice;
        this.ChartService.displayAction('max', false);
        this.ChartService.displayAction('most', true);
    }
    Object.defineProperty(AppchartsComponent.prototype, "SelectedMethodType", {
        // public _units = 'cms'; //implement soon in chart popup labels
        // public get Units() {
        //   return this._units;
        // }
        //#endregion
        get: function () {
            return (this.StudyService && this.StudyService.selectedStudy ? this.StudyService.selectedStudy.MethodType : '');
        },
        enumerable: true,
        configurable: true
    });
    AppchartsComponent.prototype.ngOnInit = function () {
        if (this.SelectedMethodType === 'response') {
            this.getAllMostProbable();
            this.generateData();
        }
    }; // Get time all, subscribe to selected row and plot selected one;
    //#endregion
    //#region "Chart methods"
    AppchartsComponent.prototype.open = function () {
        if (this.viewChart === 'most') { // move this to the service;
            this.viewChart = 'max';
            this.ChartService.displayAction('most', true);
            this.ChartService.displayAction('max', false);
            this.showMax = false;
            this.showMost = true;
        }
        else {
            this.viewChart = 'most';
            this.ChartService.displayAction('most', false);
            this.ChartService.displayAction('max', true);
            this.showMost = false;
            this.showMax = true;
        }
        this.flushChartData();
        this.getAllMostProbable();
        this.generateData();
        this.chart.update();
        this.chart.updateColors();
        // Call to clear
        this.ngSelectComponent.handleClearClick();
    };
    AppchartsComponent.prototype.flushChartData = function () {
        // most probable
        this.maxMostProbableY = 0;
        // maximum probable
        this.maxMaxProbableY = 0;
        while (this.maxTimeLabels.length > 0) {
            this.maxTimeLabels.pop();
            this.maxConcentration.pop();
            this.mostTimeLabels.pop();
            this.mostConcentration.pop();
            this.maxLineChartData.pop();
            this.mostLineChartData.pop();
        }
        while (this.chart.datasets.length > 0) {
            this.chart.datasets.pop();
        }
        while (this.chart.labels.length > 0) {
            this.chart.labels.pop();
        }
    };
    AppchartsComponent.prototype.chartIsActive = function (e) {
        if (typeof (e) === 'undefined') { // if nothing selected, plot all
            // Call to clear
            this.flushChartData();
            this.getAllMostProbable();
            this.generateData();
            this.chart.update();
            this.chart.updateColors();
            this.ref['placeholder'] = 'Select a group';
            return null;
        }
        this.ref['placeholder'] = '';
        this.flushChartData();
        this.getAllForGroup(e.value);
        this.generateDataGroup(e.value);
        this.lineChartLegend = true;
        this.mostLineChartOptions.legend = { position: 'left' };
        this.maxLineChartOptions.legend = { position: 'left' };
        // Reverse the data display
        $('#footerData').toggleClass('reverse');
        this.chart.update();
        this.chart.updateColors();
    };
    //#endregion
    //#region "Chart control"
    // PARSE ENTIRE DATA RETURN FOR THE CHARTS
    AppchartsComponent.prototype.generateData = function () {
        var _this = this;
        var c = 0;
        this.output$.forEach((function (o) {
            var myarray = [];
            for (var i = 0; i < _this.output$.length * 3; i++) {
                myarray.push(null);
            }
            myarray[c] = _this.mostConcentration[c];
            myarray[c + 1] = _this.mostConcentration[c + 1];
            myarray[c + 2] = _this.mostConcentration[c + 2];
            var myobj = { data: myarray, label: o.name };
            _this.mostLineChartData.push(myobj);
            c += 3;
        }));
        // for maxConcentration
        c = 0;
        this.output$.forEach((function (o) {
            var myarray = [];
            for (var i = 0; i < _this.output$.length * 3; i++) {
                myarray.push(null);
            }
            myarray[c] = _this.maxConcentration[c];
            myarray[c + 1] = _this.maxConcentration[c + 1];
            myarray[c + 2] = _this.maxConcentration[c + 2];
            var myobj = { data: myarray, label: o.name };
            _this.maxLineChartData.push(myobj);
            c += 3;
        }));
        if (this.output$.length <= 5) {
            this.isDisabled = true;
        }
        if (this.mostLineChartData.length > 20) {
            this.lineChartLegend = false;
        }
    };
    // SELECT AND PARSE DATA ONLY FOR A GROUP
    AppchartsComponent.prototype.generateDataGroup = function (o) {
        var _this = this;
        var c = 0;
        o.forEach((function (o) {
            var myarray = [];
            if (o.length > 1) {
                for (var i = 0; i < o.length * 3; i++) {
                    myarray.push(null);
                }
            }
            else { }
            myarray[c] = _this.mostConcentration[c];
            myarray[c + 1] = _this.mostConcentration[c + 1];
            myarray[c + 2] = _this.mostConcentration[c + 2];
            var myobj = { data: myarray, label: o.name };
            _this.mostLineChartData.push(myobj);
            c += 3;
        }));
        // for maxConcentration
        c = 0;
        o.forEach((function (o) {
            var myarray = [];
            for (var i = 0; i < o.length * 3; i++) {
                myarray.push(null);
            }
            myarray[c] = _this.maxConcentration[c];
            myarray[c + 1] = _this.maxConcentration[c + 1];
            myarray[c + 2] = _this.maxConcentration[c + 2];
            var myobj = { data: myarray, label: o.name };
            _this.maxLineChartData.push(myobj);
            c += 3;
        }));
    };
    AppchartsComponent.prototype.splitToarray = function (arr) {
        var size = 5;
        var array = [];
        var tempvar;
        var id = 0;
        if (arr.length > size) {
            var i = void 0, j = void 0, temparray = void 0;
            for (i = 0, j = arr.length; i < j; i += size) {
                temparray = arr.slice(i, i + size);
                if (temparray.length < 2) {
                    array[array.length - 1].value.push(temparray[0]);
                }
                else {
                    tempvar = { id: id, label: 'Reach group #' + id, value: temparray };
                    array.push(tempvar);
                    id += 1;
                }
            }
        }
        else {
            array = arr;
        }
        return (array);
    };
    AppchartsComponent.prototype.getAllForGroup = function (groupArray) {
        var _this = this;
        groupArray.forEach((function (o) {
            _this.mostTimeLabels.push(o.result['tracer_Response'].leadingEdge.MostProbable.date);
            _this.mostConcentration.push(o.result['tracer_Response'].leadingEdge.MostProbable.concentration);
            _this.mostTimeLabels.push(o.result['tracer_Response'].peakConcentration.MostProbable.date);
            _this.mostConcentration.push(o.result['tracer_Response'].peakConcentration.MostProbable.concentration);
            _this.mostTimeLabels.push(o.result['tracer_Response'].trailingEdge.MostProbable.date);
            _this.mostConcentration.push(o.result['tracer_Response'].trailingEdge.MostProbable.concentration);
            _this.maxTimeLabels.push(o.result['tracer_Response'].leadingEdge.MaximumProbable.date);
            _this.maxConcentration.push(o.result['tracer_Response'].leadingEdge.MaximumProbable.concentration);
            _this.maxTimeLabels.push(o.result['tracer_Response'].peakConcentration.MaximumProbable.date);
            _this.maxConcentration.push(o.result['tracer_Response'].peakConcentration.MaximumProbable.concentration);
            _this.maxTimeLabels.push(o.result['tracer_Response'].trailingEdge.MaximumProbable.date);
            _this.maxConcentration.push(o.result['tracer_Response'].trailingEdge.MaximumProbable.concentration);
        }));
        for (var i = 0; i < this.mostTimeLabels.length; i++) {
            this.mostLineChartLabels.push(this.mostTimeLabels[i]);
            this.maxLineChartLabels.push(this.maxTimeLabels[i]);
        }
        this.mostTimeLabels.sort(function (a, b) {
            return (a < b) ? -1 : ((a > b) ? 1 : 0);
        });
        this.maxTimeLabels.sort(function (a, b) {
            return (a < b) ? -1 : ((a > b) ? 1 : 0);
        });
        this.maxMostProbableY = Math.max.apply(Math, this.mostConcentration);
        this.maxMaxProbableY = Math.max.apply(Math, this.maxConcentration);
    };
    AppchartsComponent.prototype.getAllMostProbable = function () {
        var _this = this;
        // if(this.StudyService.isMetric()) { //add this in when implementing unit abbreviation in chart popup label
        //   this._units = "cms";
        // } else {
        //   this._units = "cfs";
        // }
        this.output$.forEach((function (o) {
            _this.mostTimeLabels.push(o.result['tracer_Response'].leadingEdge.MostProbable.date);
            _this.mostConcentration.push(o.result['tracer_Response'].leadingEdge.MostProbable.concentration);
            _this.mostTimeLabels.push(o.result['tracer_Response'].peakConcentration.MostProbable.date);
            _this.mostConcentration.push(o.result['tracer_Response'].peakConcentration.MostProbable.concentration);
            _this.mostTimeLabels.push(o.result['tracer_Response'].trailingEdge.MostProbable.date);
            _this.mostConcentration.push(o.result['tracer_Response'].trailingEdge.MostProbable.concentration);
            _this.maxTimeLabels.push(o.result['tracer_Response'].leadingEdge.MaximumProbable.date);
            _this.maxConcentration.push(o.result['tracer_Response'].leadingEdge.MaximumProbable.concentration);
            _this.maxTimeLabels.push(o.result['tracer_Response'].peakConcentration.MaximumProbable.date);
            _this.maxConcentration.push(o.result['tracer_Response'].peakConcentration.MaximumProbable.concentration);
            _this.maxTimeLabels.push(o.result['tracer_Response'].trailingEdge.MaximumProbable.date);
            _this.maxConcentration.push(o.result['tracer_Response'].trailingEdge.MaximumProbable.concentration);
        }));
        for (var i = 0; i < this.mostTimeLabels.length; i++) {
            this.mostLineChartLabels.push(this.mostTimeLabels[i]);
            this.maxLineChartLabels.push(this.maxTimeLabels[i]);
        }
        this.mostTimeLabels.sort(function (a, b) {
            return (a < b) ? -1 : ((a > b) ? 1 : 0);
        });
        this.maxTimeLabels.sort(function (a, b) {
            return (a < b) ? -1 : ((a > b) ? 1 : 0);
        });
        this.maxMostProbableY = Math.max.apply(Math, this.mostConcentration);
        this.maxMaxProbableY = Math.max.apply(Math, this.maxConcentration);
    };
    Object.defineProperty(AppchartsComponent.prototype, "output$", {
        //#endregion
        //#region "Subscriber"
        get: function () {
            if (this.StudyService.GetWorkFlow('totResults') && this.SelectedMethodType === 'response') {
                this.reaches = Object.values(this.StudyService.selectedStudy.Results['reaches']);
                this.reaches.shift(); // remove first element (one without results)
                this.reachesGrouped = this.splitToarray(this.reaches); // return splitted chart;
                // update chart data;
                return (this.reaches);
            }
            else {
                return;
            }
        },
        enumerable: true,
        configurable: true
    });
    AppchartsComponent.prototype.chartClicked = function (e) {
        var index;
        if (this.selectedGroupId) { // if user has selected a reach group, calculate index for point selected
            index = ((this.selectedGroupId) * 5) + e.active[0]._datasetIndex;
        }
        else { // user has not selected reach group
            index = e.active[0]._datasetIndex;
        }
        this.ChartService.noticeAction(index);
        this.MapService.HighlightFeature('Flowlines', Number(this.output$[index].name.replace(/^\D+/g, '')));
    };
    AppchartsComponent.prototype.chartHovered = function () {
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ViewChild"])('selectGroup', { static: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ElementRef"])
    ], AppchartsComponent.prototype, "ref", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ViewChild"])(ng2_charts__WEBPACK_IMPORTED_MODULE_4__["BaseChartDirective"], { static: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", ng2_charts__WEBPACK_IMPORTED_MODULE_4__["BaseChartDirective"])
    ], AppchartsComponent.prototype, "chart", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ViewChild"])(_ng_select_ng_select__WEBPACK_IMPORTED_MODULE_7__["NgSelectComponent"], { static: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ng_select_ng_select__WEBPACK_IMPORTED_MODULE_7__["NgSelectComponent"])
    ], AppchartsComponent.prototype, "ngSelectComponent", void 0);
    AppchartsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
            selector: 'tot-appcharts',
            template: __webpack_require__(/*! ./appcharts.component.html */ "./src/app/modules/core/components/appcharts/appcharts.component.html"),
            styles: [__webpack_require__(/*! ./appcharts.component.scss */ "./src/app/modules/core/components/appcharts/appcharts.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ngx_toastr__WEBPACK_IMPORTED_MODULE_2__["ToastrService"], _services_study_service__WEBPACK_IMPORTED_MODULE_1__["StudyService"], _services_chart_service__WEBPACK_IMPORTED_MODULE_6__["ChartService"], _services_map_service__WEBPACK_IMPORTED_MODULE_8__["MapService"]])
    ], AppchartsComponent);
    return AppchartsComponent;
}());



/***/ }),

/***/ "./src/app/modules/core/components/appcharts/appcharts.module.ts":
/*!***********************************************************************!*\
  !*** ./src/app/modules/core/components/appcharts/appcharts.module.ts ***!
  \***********************************************************************/
/*! exports provided: AppChartsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppChartsModule", function() { return AppChartsModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _appcharts_appcharts_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../appcharts/appcharts.component */ "./src/app/modules/core/components/appcharts/appcharts.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ng_select_ng_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ng-select/ng-select */ "./node_modules/@ng-select/ng-select/fesm5/ng-select-ng-select.js");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ng2-charts */ "./node_modules/ng2-charts/fesm5/ng2-charts.js");







var AppChartsModule = /** @class */ (function () {
    function AppChartsModule() {
    }
    AppChartsModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [_appcharts_appcharts_component__WEBPACK_IMPORTED_MODULE_2__["AppchartsComponent"]],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_3__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                _ng_select_ng_select__WEBPACK_IMPORTED_MODULE_5__["NgSelectModule"],
                ng2_charts__WEBPACK_IMPORTED_MODULE_6__["ChartsModule"]
            ],
            exports: [
                _appcharts_appcharts_component__WEBPACK_IMPORTED_MODULE_2__["AppchartsComponent"]
            ]
        })
    ], AppChartsModule);
    return AppChartsModule;
}());



/***/ }),

/***/ "./src/app/modules/core/components/date-time-picker/date-time-picker.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/modules/core/components/date-time-picker/date-time-picker.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"input-group mr-2\">\r\n  <input [ngClass]=\"ngControl?.valid ? 'ng-valid' : 'ng-invalid'\" class=\"form-control\" (blur)=\"inputBlur($event)\" [ngModel]=\"dateString | date:inputDatetimeFormat\" (ngModelChange) = \"onInputChange($event)\" [disabled]='disabled' />\r\n  <div class=\"input-group-append\">\r\n    <button class=\"btn btn-outline-secondary\" [ngbPopover]=\"calendarContent\" [autoClose]=\"inside\" [disabled]='disabled' type=\"button\" (click)=\"postDate()\">\r\n      <i class=\"fa fa-calendar\"></i>\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #calendarContent>\r\n  <div>\r\n    <div *ngIf=\"!showTimePickerToggle\">\r\n      <ngb-datepicker #dp name=\"datepicker\" [(ngModel)]=\"model\" (ngModelChange)=\"onDateChange($event)\" style=\"background: white;\"> </ngb-datepicker>\r\n      <button class=\"btn btn-block btn-outline-secondary\" type=\"button\" (click)=\"toggleDateTimeState($event)\">\r\n        <i class=\"far fa-clock\"> </i>\r\n        Time\r\n      </button>\r\n    </div>\r\n    <div *ngIf=\"showTimePickerToggle\">\r\n      <button class=\"btn btn-block btn-outline-secondary\" [ngbPopover]=\"calendarContent\" type=\"button\" (click)=\"toggleDateTimeState($event)\">\r\n        <i class=\"fa fa-calendar\"> </i>\r\n        Calendar\r\n      </button>\r\n      <div class=\"mt-auto\">\r\n        <ngb-timepicker [(ngModel)]=\"time\" [seconds]=\"seconds\" (ngModelChange)=\"onTimeChange($event)\"></ngb-timepicker>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n"

/***/ }),

/***/ "./src/app/modules/core/components/date-time-picker/date-time-picker.component.scss":
/*!******************************************************************************************!*\
  !*** ./src/app/modules/core/components/date-time-picker/date-time-picker.component.scss ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".dt-picker {\n  display: flex;\n}\n.dt-picker input {\n  margin: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.dt-picker button {\n  height: 100%;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvZGF0ZS10aW1lLXBpY2tlci9DOlxcVXNlcnNcXHRncm9zc1xcd2ltLmdpdGh1YlxcVHJhdmVsVGltZS9zcmNcXGFwcFxcbW9kdWxlc1xcY29yZVxcY29tcG9uZW50c1xcZGF0ZS10aW1lLXBpY2tlclxcZGF0ZS10aW1lLXBpY2tlci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvZGF0ZS10aW1lLXBpY2tlci9kYXRlLXRpbWUtcGlja2VyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsYUFBQTtBQ0NEO0FEQ0M7RUFDQyxTQUFBO0VBQ0EsMEJBQUE7RUFDQSw2QkFBQTtBQ0NGO0FERUM7RUFDQyxZQUFBO0VBQ0EseUJBQUE7RUFDQSw0QkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvZGF0ZS10aW1lLXBpY2tlci9kYXRlLXRpbWUtcGlja2VyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmR0LXBpY2tlcntcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG5cclxuXHRpbnB1dHtcclxuXHRcdG1hcmdpbjogMDtcclxuXHRcdGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xyXG5cdFx0Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XHJcblx0fVxyXG5cclxuXHRidXR0b257XHJcblx0XHRoZWlnaHQ6IDEwMCU7XHJcblx0XHRib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xyXG5cdFx0Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcclxuXHR9XHJcbn0iLCIuZHQtcGlja2VyIHtcbiAgZGlzcGxheTogZmxleDtcbn1cbi5kdC1waWNrZXIgaW5wdXQge1xuICBtYXJnaW46IDA7XG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcbn1cbi5kdC1waWNrZXIgYnV0dG9uIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/modules/core/components/date-time-picker/date-time-picker.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/modules/core/components/date-time-picker/date-time-picker.component.ts ***!
  \****************************************************************************************/
/*! exports provided: DateTimePickerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateTimePickerComponent", function() { return DateTimePickerComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _date_time_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./date-time.model */ "./src/app/modules/core/components/date-time-picker/date-time.model.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var src_app_modules_core_services_study_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/modules/core/services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _shared_messageType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../shared/messageType */ "./src/app/shared/messageType.ts");
/* harmony import */ var _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../services/nwisservices.service */ "./src/app/modules/core/services/nwisservices.service.ts");












var DateTimePickerComponent = /** @class */ (function () {
    function DateTimePickerComponent(toastr, config, inj, studyservice, mapservice, nwisservices) {
        this.config = config;
        this.inj = inj;
        this.studyservice = studyservice;
        this.mapservice = mapservice;
        this.nwisservices = nwisservices;
        this.time = { hour: 13, minute: 30, second: 30 };
        this.seconds = true;
        this.datetime = new _date_time_model__WEBPACK_IMPORTED_MODULE_5__["DateTimeModel"]();
        this.firstTimeAssign = true;
        this.onTouched = rxjs__WEBPACK_IMPORTED_MODULE_6__["noop"];
        this.onChange = rxjs__WEBPACK_IMPORTED_MODULE_6__["noop"];
        this.dateString = (new Date).toString();
        this.showTimePickerToggle = false;
        this.isOpen = false;
        this.disabled = false;
        this.inputDatetimeFormat = 'M/d/yyyy H:mm:ss';
        this.hourStep = 1;
        this.minuteStep = 15;
        this.secondStep = 30;
        this.nwisservices = nwisservices;
        this.messager = toastr;
        config.autoClose = 'outside';
        config.placement = 'left-top';
        this.StudyService = studyservice;
        this.mapservice = mapservice;
    }
    DateTimePickerComponent_1 = DateTimePickerComponent;
    DateTimePickerComponent.prototype.sm = function (msg, mType, title, timeout) {
        if (mType === void 0) { mType = _shared_messageType__WEBPACK_IMPORTED_MODULE_10__["INFO"]; }
        try {
            var options = null;
            if (timeout) {
                options = { timeOut: timeout };
            }
            this.messager.show(msg, title, options, mType);
        }
        catch (e) {
        }
    };
    DateTimePickerComponent.prototype.ngOnInit = function () {
        this.ngControl = this.inj.get(_angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControl"]);
        var date = new Date;
        this.datetime.day = date.getDate();
        this.datetime.month = date.getMonth() + 1;
        this.datetime.year = date.getFullYear();
        this.datetime.hour = date.getHours();
        this.datetime.minute = date.getMinutes();
        this.datetime.second = date.getSeconds();
        this.dateString = this.datetime.toString();
    };
    //#region "Methods"
    DateTimePickerComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.popover.hidden.subscribe(function ($event) {
            _this.showTimePickerToggle = false;
        });
    };
    DateTimePickerComponent.prototype.writeValue = function (newModel) {
        if (newModel) {
            this.datetime = Object.assign(this.datetime, _date_time_model__WEBPACK_IMPORTED_MODULE_5__["DateTimeModel"].fromLocalString(newModel));
            this.dateString = newModel;
            this.setDateStringModel();
        }
        else {
            this.datetime = new _date_time_model__WEBPACK_IMPORTED_MODULE_5__["DateTimeModel"]();
        }
    };
    DateTimePickerComponent.prototype.registerOnChange = function (fn) {
        this.onChange = fn;
    };
    DateTimePickerComponent.prototype.registerOnTouched = function (fn) {
        this.onTouched = fn;
    };
    DateTimePickerComponent.prototype.toggleDateTimeState = function ($event) {
        this.showTimePickerToggle = !this.showTimePickerToggle;
        $event.stopPropagation();
    };
    DateTimePickerComponent.prototype.setDisabledState = function (isDisabled) {
        this.disabled = isDisabled;
    };
    DateTimePickerComponent.prototype.setDateStringModel = function () {
        this.dateString = this.datetime.toString();
        this.StudyService.setDate(this.dateString);
        if (!this.firstTimeAssign) {
            this.onChange(this.dateString);
            var starttime = this.dateString;
            var endtime = this.datetime;
            endtime.minute = (endtime.minute + 15);
            if (endtime.minute > 60) {
                endtime.hour = endtime.hour + 1;
                endtime.minute = endtime.minute - 59;
            }
            //this.mapservice.getRealTimeFlow(starttime, endtime.toString(), this.mapservice.gagesArray.value);
        }
        else {
            // Skip very first assignment to null done by Angular
            if (this.dateString !== null) {
                this.firstTimeAssign = false;
            }
        }
    };
    DateTimePickerComponent.prototype.inputBlur = function ($event) {
        this.onTouched();
    };
    DateTimePickerComponent.prototype.onDateChange = function ($event) {
        if (this.check4FutureDate($event, 1)) {
            this.datetime.day = $event.day;
            this.datetime.month = $event.month;
            this.datetime.year = $event.year;
            this.StudyService.setDate(this.datetime.toString());
            this.dateString = this.datetime.toString();
        }
        else {
            alert("Selected date occurs in the future, current date/time will be used.");
        }
    };
    DateTimePickerComponent.prototype.onTimeChange = function ($event) {
        if (this.check4FutureDate($event, 2)) {
            this.datetime.hour = $event.hour;
            this.datetime.minute = $event.minute;
            this.datetime.second = $event.second;
            this.StudyService.setDate(this.datetime.toString());
            this.dateString = this.datetime.toString();
        }
        else {
            alert("Selected time occurs in the future, current date/time will be used.");
        }
    };
    DateTimePickerComponent.prototype.onInputChange = function ($event) {
        if (this.check4FutureDate($event, 4)) {
            this.writeValue($event);
        }
        else {
            alert("Selected date/time occurs in the future, current date/time will be used.");
        }
    };
    DateTimePickerComponent.prototype.postDate = function () {
        if (!this.isOpen) { //calendar popup is active, wait for new date/time
            this.isOpen = true;
        }
        else { //calendar popup is closing, calls to nwis with new date/time required on close
            this.isOpen = false;
            this.nwisservices.getDateSpecificFlow(this.datetime, this.nwisservices.gagesArray.value);
        }
    };
    DateTimePickerComponent.prototype.check4FutureDate = function (DM, type) {
        var currentDT = new Date;
        var year = currentDT.getFullYear;
        var month = currentDT.getMonth;
        var date = currentDT.getDate;
        var hour = currentDT.getHours;
        var minutes = currentDT.getMinutes;
        if (type == 1) {
            var selectedDate = new Date(DM.year, DM.month - 1, DM.day, 0, 0, 0, 0);
        }
        else if (type == 2) {
            var selectedDate = new Date(this.datetime.year, this.datetime.month - 1, this.datetime.day, 0, 0, 0, 0);
        }
        else if (type == 3) {
            var selectedDate = new Date(DM.year, DM.month - 1, DM.day, DM.hour, DM.minute, DM.seconds, 0);
        }
        else if (type == 4) {
            var splitDate = DM.split(" ");
            var dt = splitDate[0].split("/");
            var tm = splitDate[1].split(":");
            var selectedDate = new Date(dt[2], dt[0] - 1, dt[1], tm[3], tm[4], tm[5], 0);
        }
        if (selectedDate > currentDT) {
            return false;
        }
        else {
            return true;
        }
    };
    var DateTimePickerComponent_1;
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
    ], DateTimePickerComponent.prototype, "dateString", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbPopover"], { static: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbPopover"])
    ], DateTimePickerComponent.prototype, "popover", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DateTimePickerComponent.prototype, "disabled", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DateTimePickerComponent.prototype, "inputDatetimeFormat", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DateTimePickerComponent.prototype, "hourStep", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DateTimePickerComponent.prototype, "minuteStep", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], DateTimePickerComponent.prototype, "secondStep", void 0);
    DateTimePickerComponent = DateTimePickerComponent_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-date-time-picker',
            template: __webpack_require__(/*! ./date-time-picker.component.html */ "./src/app/modules/core/components/date-time-picker/date-time-picker.component.html"),
            providers: [
                _angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"],
                {
                    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
                    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(function () { return DateTimePickerComponent_1; }),
                    multi: true
                }
            ],
            styles: [__webpack_require__(/*! ./date-time-picker.component.scss */ "./src/app/modules/core/components/date-time-picker/date-time-picker.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ngx_toastr__WEBPACK_IMPORTED_MODULE_9__["ToastrService"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbPopoverConfig"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injector"], src_app_modules_core_services_study_service__WEBPACK_IMPORTED_MODULE_7__["StudyService"], _services_map_service__WEBPACK_IMPORTED_MODULE_8__["MapService"], _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_11__["NWISService"]])
    ], DateTimePickerComponent);
    return DateTimePickerComponent;
}());



/***/ }),

/***/ "./src/app/modules/core/components/date-time-picker/date-time.model.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/modules/core/components/date-time-picker/date-time.model.ts ***!
  \*****************************************************************************/
/*! exports provided: DateTimeModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateTimeModel", function() { return DateTimeModel; });
var DateTimeModel = /** @class */ (function () {
    function DateTimeModel(init) {
        Object.assign(this, init);
    }
    DateTimeModel.fromLocalString = function (dateString) {
        var date = new Date(dateString);
        var isValidDate = !isNaN(date.valueOf());
        if (!dateString || !isValidDate) {
            return null;
        }
        return new DateTimeModel({
            year: date.getFullYear(),
            month: date.getMonth() + 1,
            day: date.getDate(),
            hour: date.getHours(),
            minute: date.getMinutes(),
            second: date.getSeconds(),
            timeZoneOffset: date.getTimezoneOffset()
        });
    };
    DateTimeModel.prototype.isInteger = function (value) {
        return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;
    };
    DateTimeModel.prototype.toString = function () {
        if (this.isInteger(this.year) && this.isInteger(this.month) && this.isInteger(this.day)) {
            var year = this.year.toString().padStart(2, '0');
            var month = this.month.toString().padStart(2, '0');
            var day = this.day.toString().padStart(2, '0');
            if (!this.hour) {
                this.hour = 0;
            }
            if (!this.minute) {
                this.minute = 0;
            }
            if (!this.second) {
                this.second = 0;
            }
            if (!this.timeZoneOffset) {
                this.timeZoneOffset = new Date().getTimezoneOffset();
            }
            var hour = this.hour.toString().padStart(2, '0');
            var minute = this.minute.toString().padStart(2, '0');
            var second = this.second.toString().padStart(2, '0');
            var tzo = -this.timeZoneOffset;
            var dif = tzo >= 0 ? '+' : '-', pad = function (num) {
                var norm = Math.floor(Math.abs(num));
                return (norm < 10 ? '0' : '') + norm;
            };
            var isoString = pad(year) + "-" + pad(month) + "-" + pad(day) + "T" + pad(hour) + ":" + pad(minute) + ":" + pad(second) + dif + pad(tzo / 60) + ":" + pad(tzo % 60);
            return isoString;
        }
        return null;
    };
    return DateTimeModel;
}());



/***/ }),

/***/ "./src/app/modules/core/components/footer/footer.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/modules/core/components/footer/footer.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"footer-wrapper\" *ngIf=\"showResult$ === true && SelectedMethodType === 'response'\">\r\n\r\n\t<div class=\"data-footer-header\">\r\n\t\t\t<!-- Label -->\r\n\t\t<div class=\"dfh-left\">\r\n\t\t\t<span *ngIf=\"showMax\">Maximum Probable</span>\r\n\t\t\t<span *ngIf=\"showMost\">Most Probable</span>\r\n\t\t</div>\r\n\t\t<!-- Header -->\r\n\t\t<div class=\"dfh-center\">\r\n\t\t\t&#8212; {{spillMass}} {{StudyService.isMetric() ? 'kg' : 'lb'}} Spill Occuring {{spillDate  | date:'medium'}}\r\n\t\t</div>\r\n\t\t<!-- Max/Most Probable toggle -->\r\n\t\t<div class=\"dfh-right\">\r\n\r\n\t\t</div>\r\n\t</div>\r\n\r\n\r\n\t<div class=\"footer-data\">\r\n\t\t<div class=\"footer-data-left\" id=\"footerData\">\r\n\r\n\t\t\t<!-- Most Probable Table -->\r\n\t\t\t<div class=\"data-display\" *ngIf=\"showMost\">\r\n\r\n\t\t\t\t<div class=\"table-display\">\r\n\t\t\t\t\t<table class=\"data-table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th style=\"text-align: center; border-bottom: 1px solid rgba(0,0,0,0.5);\" class=\"single-line\">Travel time after spill</th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" >\r\n\t\t\t\t\t\t\t\t<th rowspan=\"2\" vertical-align=\"center\">Reach ID</th>\r\n\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(mg/L)</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" style=\" vertical-align: center; text-align: center;\">\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t\t<th>C<sub>t</sub></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\" (click)=\"setClickedRow(i); highlightFeature(i);\" [class.active]=\"i == selectedRow\" [class.highlighted]=\"reach[i] === selectedReach\">\r\n\t\t\t\t\t\t\t\t<td>{{reach.name}}</td>\r\n\t\t\t\t\t\t\t\t<ng-container *ngFor=\"let pars of reach.parameters\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Discharge at time of measurement'\">\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Drainage area'\">\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? pars.value : (pars.value / 1000000) }}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Cumulative Distance'\">\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{ !StudyService.isMetric() ? pars.value : (pars.value / 1000).toUSGSvalue() }}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t\t\t<ng-container>\r\n\t\t\t\t\t\t\t\t\t<!-- if the key is equal to v - this is av speed, else it is vmax-->\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.result.equations.v.value}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.leadingEdge.MostProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.peakConcentration.MostProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.trailingEdge.MostProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.result.tracer_Response.peakConcentration.MostProbable.concentration}}</td>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Max Probable table -->\r\n\t\t\t<div class=\"data-display\" *ngIf=\"showMax\">\r\n\t\t\t\t<div class=\"table-display\">\r\n\t\t\t\t\t<table class=\"data-table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th style=\"text-align: center; border-bottom: 1px solid rgba(0,0,0,0.5);\" class=\"single-line\">Travel time after spill</th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" >\r\n\t\t\t\t\t\t\t\t<th rowspan=\"2\" vertical-align=\"center\">Reach ID</th>\r\n\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(mg/L)</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" style=\" vertical-align: center; text-align: center;\">\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t\t<th>C<sub>t</sub></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\" (click)=\"setClickedRow(i); highlightFeature(i)\" [class.active]=\"i == selectedRow\" [class.highlighted]=\"reach[i] === selectedReach\">\r\n\t\t\t\t\t\t\t\t<td>{{reach.name}}</td>\r\n\t\t\t\t\t\t\t\t<ng-container *ngFor=\"let pars of reach.parameters\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Discharge at time of measurement'\">\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Drainage area'\">\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? pars.value : (pars.value / 1000000) }}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Cumulative Distance'\">\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{ !StudyService.isMetric() ? pars.value : (pars.value / 1000).toUSGSvalue() }}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t<ng-container>\r\n\t\t\t\t\t\t\t\t\t<!-- if the key is equal to v - this is av speed, else it is vmax-->\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.result.equations.vmax.value}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.leadingEdge.MaximumProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.peakConcentration.MaximumProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.trailingEdge.MaximumProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.result.tracer_Response.peakConcentration.MaximumProbable.concentration}}</td>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- Right side - charts -->\r\n\t\t<div class=\"footer-data-right\">\r\n\r\n\t\t\t<!-- Charts -->\r\n\t\t\t<div class=\"chart-wrapper\">\r\n\t\t\t\t<tot-appcharts></tot-appcharts>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n\r\n<!-- Planning -->\r\n<div class=\"footer-wrapper\" *ngIf=\"showResult$ === true && SelectedMethodType === 'planning'\">\r\n\r\n\t<div class=\"data-footer-header\">\r\n\t\t<!-- Label -->\r\n\t<div class=\"dfh-left\">\r\n\t\t<span *ngIf=\"showMax\">Maximum Probable</span>\r\n\t\t<span *ngIf=\"showMost\">Most Probable</span>\r\n\t</div>\r\n\t<!-- Header -->\r\n\t<div class=\"dfh-center\">\r\n\r\n\t</div>\r\n\t<!-- Right side-->\r\n\t<div class=\"dfh-right\">\r\n\r\n\t</div>\r\n</div>\r\n\r\n\t<div class=\"footer-data\">\r\n\t\t<div class=\"footer-data-left\" id=\"footerData\">\r\n\r\n\t\t\t<!-- Most Probable Table -->\r\n\t\t\t<div class=\"data-display\" *ngIf=\"showMost\">\r\n\r\n\t\t\t\t<div class=\"table-display\">\r\n\t\t\t\t\t<table class=\"data-table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th style=\"text-align: center; border-bottom: 1px solid rgba(0,0,0,0.5);\">Travel time to POI</th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" >\r\n\t\t\t\t\t\t\t\t<th rowspan=\"2\" vertical-align=\"center\">Reach ID</th>\r\n\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Leading Edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" style=\" vertical-align: center; text-align: center;\">\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\" (click)=\"setClickedRow(i); highlightFeature(i);\" [class.active]=\"i == selectedRow\" [class.highlighted]=\"reach[i] === selectedReach\">\r\n\t\t\t\t\t\t\t\t<!-- <ng-container *ngFor=\"let prop of reach.properties\"> -->\r\n\t\t\t\t\t\t\t\t\t<td>{{reach.properties.nhdplus_comid}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.properties.RTDischarge}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{ reach.properties.DrainageArea }}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{ reach.properties.acculength }}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{ reach.properties.VelocityMost }}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{ reach.properties.accutl }}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{ reach.properties.accutot }}</td>\t\r\n\t\t\t\t\t\t\t\t\t<td>{{ reach.properties.accutd10 }}</td>\t\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- </ng-container> -->\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Max Probable table -->\r\n\t\t\t<div class=\"data-display\" *ngIf=\"showMax\">\r\n\t\t\t\t<div class=\"table-display\">\r\n\t\t\t\t\t<table class=\"data-table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th style=\"text-align: center; border-bottom: 1px solid rgba(0,0,0,0.5);\">Travel time to POI</th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" >\r\n\t\t\t\t\t\t\t\t<th rowspan=\"2\" vertical-align=\"center\">Reach ID</th>\r\n\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Leading Edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" style=\" vertical-align: center; text-align: center;\">\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\" (click)=\"setClickedRow(i); highlightFeature(i);\" [class.active]=\"i == selectedRow\" [class.highlighted]=\"reach[i] === selectedReach\">\r\n\t\t\t\t\t\t\t\t<td>{{reach.properties.nhdplus_comid}}</td>\r\n\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.properties.RTDischarge}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ reach.properties.DrainageArea }}</td>\r\n\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{ reach.properties.acculength }}</td>\r\n\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{ reach.properties.VelocityMax}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ reach.properties.accutlmax }}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ reach.properties.accutotmax }}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ reach.properties.accutd10max }}</td>\t\t\t\t\t\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- Right side - charts -->\r\n\t\t<div class=\"footer-data-right\">\r\n\t\t\t<!-- Charts -->\r\n\t\t\t<div class=\"chart-wrapper\">\r\n\t\t\t\t<tot-appcharts></tot-appcharts>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/core/components/footer/footer.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/modules/core/components/footer/footer.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".footer-wrapper {\n  display: block;\n  box-sizing: border-box;\n  padding: 15px;\n  width: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.footer-wrapper .footer-data {\n  display: flex;\n  justify-content: space-around;\n  margin-top: 15px;\n  flex-grow: 3;\n  max-height: 100%;\n}\n.footer-wrapper .footer-data .footer-data-left {\n  overflow: hidden;\n  box-sizing: border-box;\n  padding-right: 15px;\n  flex-grow: 3;\n  display: flex;\n  flex-direction: column;\n}\n.footer-wrapper .footer-data .footer-data-left h2 {\n  margin: 0 0 6px 0;\n}\n.footer-wrapper .footer-data .footer-data-left.reverse {\n  flex-direction: column-reverse;\n}\n.footer-wrapper .footer-data .footer-data-left .data-display {\n  display: block;\n  width: 100%;\n  /*overflow: scroll;*/\n  overflow: auto;\n  max-height: 100%;\n  height: 100%;\n}\n.footer-wrapper .footer-data .footer-data-left .data-display .table-display {\n  display: block;\n  width: 100%;\n  overflow: auto;\n  max-height: 100%;\n  overflow-y: hidden;\n  overflow-x: auto;\n  height: 100%;\n  box-sizing: border-box;\n  padding-bottom: 25px;\n}\n.footer-wrapper .footer-data .footer-data-right {\n  padding-left: 15px;\n  box-sizing: border-box;\n  overflow: visible !important;\n  min-width: 400px;\n}\ntable.fixed td th {\n  width: 45px !important;\n}\ntable.fixed td th {\n  width: 45px !important;\n}\ntr.highlighted {\n  background-color: #CCCCCC;\n}\n.data-footer-header {\n  display: flex;\n  font-weight: 700;\n}\n.data-footer-header .dfh-center {\n  flex-grow: 3;\n  padding: 0 15px;\n  box-sizing: border-box;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvZm9vdGVyL0M6XFxVc2Vyc1xcdGdyb3NzXFx3aW0uZ2l0aHViXFxUcmF2ZWxUaW1lL3NyY1xcYXBwXFxtb2R1bGVzXFxjb3JlXFxjb21wb25lbnRzXFxmb290ZXJcXGZvb3Rlci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNQTtFQUNFLGNBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0FDTEY7QURPRTtFQUNFLGFBQUE7RUFDSCw2QkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FDTEQ7QURPSTtFQUNFLGdCQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0gsc0JBQUE7QUNMSDtBRE9HO0VBQ0MsaUJBQUE7QUNMSjtBRFFNO0VBQ0UsOEJBQUE7QUNOUjtBRFNNO0VBQ0UsY0FBQTtFQUNBLFdBQUE7RUFDTixvQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUNQRjtBRFNRO0VBQ0UsY0FBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ04sZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0Esb0JBQUE7QUNQSjtBRFlJO0VBQ0Usa0JBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO0VBQ0EsZ0JBQUE7QUNWTjtBRHdCQTtFQUNFLHNCQUFBO0FDckJGO0FEd0JBO0VBQ0Usc0JBQUE7QUNyQkY7QURtQ0E7RUFDRSx5QkFBQTtBQ2hDRjtBRG1DQTtFQUNDLGFBQUE7RUFDQSxnQkFBQTtBQ2hDRDtBRGtDQztFQUNDLFlBQUE7RUFDQSxlQUFBO0VBQ0Esc0JBQUE7QUNoQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2NvcmUvY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRm9vdGVyLnNjc3NcclxuLy8gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuLy8gXHJcbi8vIEJvdHRvbSBkYXRhIHZpZXcgLSBncmFwaCwgZGF0YSB0YWJsZXMsIGV0Y1xyXG4vLyBcclxuXHJcbi5mb290ZXItd3JhcHBlciB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICBwYWRkaW5nOiAxNXB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1heC13aWR0aDogMTAwJTtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgLmZvb3Rlci1kYXRhIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcblx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcblx0bWFyZ2luLXRvcDogMTVweDtcclxuXHRmbGV4LWdyb3c6IDM7XHJcblx0bWF4LWhlaWdodDogMTAwJTtcclxuICBcclxuICAgIC5mb290ZXItZGF0YS1sZWZ0IHtcclxuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgcGFkZGluZy1yaWdodDogMTVweDtcclxuICAgICAgZmxleC1ncm93OiAzO1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG5cdCAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcblx0ICBoMntcclxuXHRcdCAgbWFyZ2luOiAwIDAgNnB4IDA7XHJcblx0ICB9XHJcblxyXG4gICAgICAmLnJldmVyc2Uge1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmRhdGEtZGlzcGxheSB7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcblx0XHQvKm92ZXJmbG93OiBzY3JvbGw7Ki9cclxuXHRcdG92ZXJmbG93OiBhdXRvO1xyXG5cdFx0bWF4LWhlaWdodDogMTAwJTtcclxuXHRcdGhlaWdodDogMTAwJTtcclxuXHJcbiAgICAgICAgLnRhYmxlLWRpc3BsYXkge1xyXG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG5cdFx0ICBtYXgtaGVpZ2h0OiAxMDAlO1xyXG5cdFx0ICBvdmVyZmxvdy15OiBoaWRkZW47XHJcblx0XHQgIG92ZXJmbG93LXg6IGF1dG87XHJcblx0XHQgIGhlaWdodDogMTAwJTtcclxuXHRcdCAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuXHRcdCAgcGFkZGluZy1ib3R0b206IDI1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmZvb3Rlci1kYXRhLXJpZ2h0IHtcclxuICAgICAgcGFkZGluZy1sZWZ0OiAxNXB4O1xyXG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xyXG4gICAgICBtaW4td2lkdGg6IDQwMHB4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG4vLyB0YWJsZS5maXhlZCB0Ym9keSB7XHJcbi8vICAgZGlzcGxheTpibG9jaztcclxuLy8gICBvdmVyZmxvdzphdXRvO1xyXG4vLyAgIGhlaWdodDozOTBweDtcclxuLy8gICB3aWR0aDoxMDAlO1xyXG4vLyB9XHJcblxyXG50YWJsZS5maXhlZCB0ZCB0aCB7XHJcbiAgd2lkdGg6IDQ1cHggIWltcG9ydGFudDtcclxufVxyXG5cclxudGFibGUuZml4ZWQgdGQgdGgge1xyXG4gIHdpZHRoOiA0NXB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcblxyXG4vLyAudGFibGUgdHIuYWN0aXZlIHRkIHtcclxuLy8gICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTIzNDU2ICFpbXBvcnRhbnQ7XHJcbi8vICAgY29sb3I6IHdoaXRlO1xyXG4vLyB9XHJcblxyXG4vLyAuZ3JpZC1wYXJlbnQge1xyXG4vLyAgIGRpc3BsYXk6IGdyaWQ7XHJcbi8vICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyXHJcbi8vIH1cclxuXHJcbnRyLmhpZ2hsaWdodGVkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQ0NDQ0NDO1xyXG59XHJcblxyXG4uZGF0YS1mb290ZXItaGVhZGVye1xyXG5cdGRpc3BsYXk6IGZsZXg7XHJcblx0Zm9udC13ZWlnaHQ6IDcwMDtcclxuXHJcblx0LmRmaC1jZW50ZXJ7XHJcblx0XHRmbGV4LWdyb3c6IDM7XHJcblx0XHRwYWRkaW5nOiAwIDE1cHg7XHJcblx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG5cdH1cclxufSIsIi5mb290ZXItd3JhcHBlciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBwYWRkaW5nOiAxNXB4O1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuLmZvb3Rlci13cmFwcGVyIC5mb290ZXItZGF0YSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICBtYXJnaW4tdG9wOiAxNXB4O1xuICBmbGV4LWdyb3c6IDM7XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG59XG4uZm9vdGVyLXdyYXBwZXIgLmZvb3Rlci1kYXRhIC5mb290ZXItZGF0YS1sZWZ0IHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgcGFkZGluZy1yaWdodDogMTVweDtcbiAgZmxleC1ncm93OiAzO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuLmZvb3Rlci13cmFwcGVyIC5mb290ZXItZGF0YSAuZm9vdGVyLWRhdGEtbGVmdCBoMiB7XG4gIG1hcmdpbjogMCAwIDZweCAwO1xufVxuLmZvb3Rlci13cmFwcGVyIC5mb290ZXItZGF0YSAuZm9vdGVyLWRhdGEtbGVmdC5yZXZlcnNlIHtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xufVxuLmZvb3Rlci13cmFwcGVyIC5mb290ZXItZGF0YSAuZm9vdGVyLWRhdGEtbGVmdCAuZGF0YS1kaXNwbGF5IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICAvKm92ZXJmbG93OiBzY3JvbGw7Ki9cbiAgb3ZlcmZsb3c6IGF1dG87XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbi5mb290ZXItd3JhcHBlciAuZm9vdGVyLWRhdGEgLmZvb3Rlci1kYXRhLWxlZnQgLmRhdGEtZGlzcGxheSAudGFibGUtZGlzcGxheSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgaGVpZ2h0OiAxMDAlO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBwYWRkaW5nLWJvdHRvbTogMjVweDtcbn1cbi5mb290ZXItd3JhcHBlciAuZm9vdGVyLWRhdGEgLmZvb3Rlci1kYXRhLXJpZ2h0IHtcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xuICBtaW4td2lkdGg6IDQwMHB4O1xufVxuXG50YWJsZS5maXhlZCB0ZCB0aCB7XG4gIHdpZHRoOiA0NXB4ICFpbXBvcnRhbnQ7XG59XG5cbnRhYmxlLmZpeGVkIHRkIHRoIHtcbiAgd2lkdGg6IDQ1cHggIWltcG9ydGFudDtcbn1cblxudHIuaGlnaGxpZ2h0ZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQ0NDQ0NDO1xufVxuXG4uZGF0YS1mb290ZXItaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbn1cbi5kYXRhLWZvb3Rlci1oZWFkZXIgLmRmaC1jZW50ZXIge1xuICBmbGV4LWdyb3c6IDM7XG4gIHBhZGRpbmc6IDAgMTVweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/modules/core/components/footer/footer.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/modules/core/components/footer/footer.component.ts ***!
  \********************************************************************/
/*! exports provided: FooterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FooterComponent", function() { return FooterComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _services_chart_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/chart.service */ "./src/app/modules/core/services/chart.service.ts");
/* harmony import */ var _shared_extensions_number_toUSGSValue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/extensions/number.toUSGSValue */ "./src/app/shared/extensions/number.toUSGSValue.ts");
/* harmony import */ var _shared_extensions_number_toUSGSValue__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_shared_extensions_number_toUSGSValue__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var src_app_shared_extensions_object_DeepCopy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/extensions/object.DeepCopy */ "./src/app/shared/extensions/object.DeepCopy.ts");









var FooterComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](FooterComponent, _super);
    //#endregion
    function FooterComponent(toastr, studyservice, mapservice, chartservice) {
        var _this = _super.call(this) || this;
        _this.hasReaches = false;
        _this.messager = toastr;
        _this.StudyService = studyservice;
        _this.MapService = mapservice;
        _this.ChartService = chartservice;
        _this.setClickedRow = function (index) {
            this.selectedRow = index; // memorize selected row
            this.selectedReach = this.reaches[index]; // selected reach
            if (this.reaches[index].ischeked) { // change
                this.reaches[index].ischeked = false;
            }
            else {
                this.reaches[index]['ischeked'] = true;
            }
        };
        return _this;
    }
    FooterComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.ChartService.display$.subscribe(function (isShown) {
            _this.showMax = isShown.max;
            _this.showMost = isShown.most;
        });
        this.StudyService.study$.subscribe(function (mystudy) {
            _this.spillMass = mystudy.SpillMass;
            _this.spillDate = mystudy.SpillDate;
        });
    };
    Object.defineProperty(FooterComponent.prototype, "showResult$", {
        //#region "Methods"
        get: function () {
            this.units = this.MapService.unitsOptions;
            this.abbrev = this.MapService.abbrevOptions;
            if (this.StudyService.GetWorkFlow('totResults')) {
                if (!this.hasReaches) {
                    if (this.SelectedMethodType === 'response') {
                        if (this.StudyService.isMetric) {
                            var reachesCopy = this.deepCopy(this.StudyService.selectedStudy.Results['reaches']);
                            var reachList = Object.values(reachesCopy);
                            this.checkUnits(reachList);
                            this.hasReaches = true;
                            this.selectedUnits = "metric";
                        }
                        else {
                            var reachesCopy = this.deepCopy(this.StudyService.selectedStudy.Results['reaches']);
                            var reachList = Object.values(reachesCopy);
                            this.checkUnits(reachList);
                            this.hasReaches = true;
                            this.selectedUnits = "imperial";
                        }
                    }
                    else { // planning method
                        if (this.StudyService.isMetric) {
                            this.checkUnits(this.StudyService.selectedStudy.Reaches);
                            this.hasReaches = true;
                            this.selectedUnits = "metric";
                        }
                        else {
                            this.checkUnits(this.StudyService.selectedStudy.Reaches);
                            this.hasReaches = true;
                            this.selectedUnits = "imperial";
                        }
                    }
                }
            }
            return (this.StudyService.GetWorkFlow('totResults'));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FooterComponent.prototype, "SelectedMethodType", {
        get: function () {
            if (this.StudyService.selectedStudy.RDP.length > 1) {
                this.wm('Travel time not computed for overland/raindrop trace portion', '', 0);
            }
            return (this.StudyService && this.StudyService.selectedStudy ? this.StudyService.selectedStudy.MethodType : '');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FooterComponent.prototype, "output$", {
        get: function () {
            return this.reaches;
        },
        enumerable: true,
        configurable: true
    });
    FooterComponent.prototype.toDecimals = function (timeval) {
        return (moment__WEBPACK_IMPORTED_MODULE_7__["duration"](timeval).asHours().toFixed(4));
    };
    FooterComponent.prototype.highlightFeature = function (indx) {
        this.ChartService.noticeAction(indx);
        if (this.showMost) {
            this.MapService.HighlightFeature('Flowlines', Number(this.output$[indx].name.replace(/^\D+/g, '')));
        }
        else {
            this.MapService.HighlightFeature('Flowlines', Number(this.output$[indx].name.replace(/^\D+/g, '')));
        }
    };
    FooterComponent.prototype.checkUnits = function (reaches) {
        if (this.SelectedMethodType === 'response') {
            if (!this.StudyService.isMetric()) {
                var tempreaches = [];
                for (var i = 0; i < reaches.length; i++) {
                    var newreach = reaches[i]; // copy jobson output for reach i to newreach
                    newreach.parameters[1].value = (reaches[i].parameters[1].value * 35.314666212661).toUSGSvalue(); // real-time discharge from cms to cfs
                    newreach.parameters[0].value = (reaches[i].parameters[0].value * 35.314666212661).toUSGSvalue(); // mean annual discharge from cms to cfs
                    newreach.parameters[3].value = Math.round((reaches[i].parameters[3].value * 0.00000038610215855) * 10) / 10; // drainage area from square meters to square miles
                    newreach.parameters[4].value = (reaches[i].parameters[4].value * 0.00062137).toUSGSvalue(); // length from meters to miles
                    if (newreach.parameters[6]) {
                        newreach.parameters[6].value = (reaches[i].parameters[6].value * 0.00062137).toUSGSvalue();
                    } // cumulative length from meters to miles
                    if (newreach.parameters[7]) {
                        newreach.parameters[7].value = (reaches[i].parameters[7].value * 0.0000022046).toUSGSvalue();
                    } // spill mass from milligrams to pounds
                    newreach.parameters[0].unit.unit = this.units.imperial['discharge']; // mean annual discharge
                    newreach.parameters[0].unit.abbr = this.abbrev.imperial['discharge'];
                    newreach.parameters[1].unit.unit = this.units.imperial['discharge']; // real-time discharge
                    newreach.parameters[1].unit.abbr = this.abbrev.imperial['discharge'];
                    newreach.parameters[2].unit.unit = this.units.imperial['slope']; // slope
                    newreach.parameters[2].unit.abbr = this.abbrev.imperial['slope'];
                    newreach.parameters[3].unit.unit = this.units.imperial['drainageArea']; // drainage area
                    newreach.parameters[3].unit.abbr = this.abbrev.imperial['drainageArea'];
                    newreach.parameters[4].unit.unit = this.units.imperial['distance']; // reach length
                    newreach.parameters[4].unit.abbr = this.abbrev.imperial['distance'];
                    if (newreach.parameters[6]) {
                        newreach.parameters[6].unit.unit = this.units.imperial['distance'];
                    } // cumulative length
                    if (newreach.parameters[6]) {
                        newreach.parameters[6].unit.abbr = this.abbrev.imperial['distance'];
                    }
                    if (newreach.parameters[7]) {
                        newreach.parameters[7].unit.unit = this.units.imperial['concentration'];
                    } // spill mass
                    if (newreach.parameters[7]) {
                        newreach.parameters[7].unit.abbr = this.abbrev.imperial['concentration'];
                    }
                    newreach.result.equations.vmax.value = (reaches[i].result.equations.vmax.value * 3.2808399).toUSGSvalue(); // m/s to ft/s
                    newreach.result.equations.v.value = (reaches[i].result.equations.v.value * 3.2808399).toUSGSvalue(); // m/s to ft/s
                    newreach.result.equations.vmax.units = this.abbrev.imperial['velocity'];
                    newreach.result.equations.v.units = this.abbrev.imperial['velocity'];
                    tempreaches.push(newreach);
                }
                this.StudyService.selectedStudy.SpillMass = (this.StudyService.selectedStudy.SpillMass * 0.453592).toUSGSvalue();
                this.reaches = tempreaches;
            }
            else {
                this.reaches = reaches;
            } // keep existing metric unit
        }
        else { // planning method
            reaches.forEach(function (reach) {
                reach.name = reach.properties.nhdplus_comid; //needed to highlight map with table row click
            });
            this.reaches = reaches;
        }
    };
    FooterComponent.prototype.wm = function (msg, title, timeout) {
        try {
            var options = null;
            if (timeout) {
                options = { timeOut: timeout };
            }
            if (timeout == 0) {
                options = {
                    disableTimeOut: true,
                    timeOut: 0,
                    extendedTimeOut: 0,
                    tapToDismiss: false
                };
            }
            this.messager.warning(msg, title, options);
        }
        catch (e) {
        }
    };
    FooterComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'tot-footer',
            template: __webpack_require__(/*! ./footer.component.html */ "./src/app/modules/core/components/footer/footer.component.html"),
            styles: [__webpack_require__(/*! ./footer.component.scss */ "./src/app/modules/core/components/footer/footer.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ngx_toastr__WEBPACK_IMPORTED_MODULE_4__["ToastrService"], _services_study_service__WEBPACK_IMPORTED_MODULE_2__["StudyService"], _services_map_service__WEBPACK_IMPORTED_MODULE_3__["MapService"], _services_chart_service__WEBPACK_IMPORTED_MODULE_5__["ChartService"]])
    ], FooterComponent);
    return FooterComponent;
}(src_app_shared_extensions_object_DeepCopy__WEBPACK_IMPORTED_MODULE_8__["deepCopy"]));



/***/ }),

/***/ "./src/app/modules/core/components/map/map.component.html":
/*!****************************************************************!*\
  !*** ./src/app/modules/core/components/map/map.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"!report\" class=\"map-position leaflet-bottom leaflet-left\">\r\n    <span>Zoom Level: {{this.MapService.CurrentZoomLevel.value}}</span> <br />\r\n    <span id=\"mapscale\">Map Scale: 1:{{this.MapService.nominalZoomLevel.value}}</span> <br />\r\n    <span>Lat: {{ MousePosition ? MousePosition.lat.toFixed(4) : \"\" }}, Lon: {{ MousePosition ? MousePosition.lng.toFixed(4) : \"\" }}</span>\r\n</div>\r\n<div *ngIf=\"report\" class=\"map-position leaflet-bottom leaflet-left\">\r\n    <span id=\"mapscale\">Map Scale: 1:{{this.MapService.nominalZoomLevel.value}}</span> <br />\r\n</div>\r\n\r\n<!-- Leaflet map element -->\r\n<div *ngIf=\"!report\" id=\"leaflet\"\r\n     leaflet\r\n     [leafletOptions]=\"MapOptions\"\r\n     (leafletMapReady)=\"onMapReady($event)\"\r\n     [leafletLayers]=\"Layers\"\r\n     [leafletLayersControl]=\"LayersControl\"\r\n     (leafletZoomChange)=\"onZoomChange($event)\"\r\n\t [leafletFitBounds]=\"fitBounds\"\r\n     [leafletFitBoundsOptions]=\"{maxZoom: 13}\"\r\n\t (leafletClick)=\"onMouseClick($event)\"\r\n     (leafletMouseMove)=\"getLatLong($event)\">\r\n\r\n\t <div id=\"mapLoader\" *ngIf=\"this.StudyService.checkingDelineatedPoint && !this.StudyService.hasError\"></div>\r\n\r\n</div>\r\n\r\n <!-- Report -->\r\n<div *ngIf=\"report\" class=\"map_container\">\r\n    <div id=\"reportMap\"></div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/modules/core/components/map/map.component.scss":
/*!****************************************************************!*\
  !*** ./src/app/modules/core/components/map/map.component.scss ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@charset \"UTF-8\";\n#reportMap {\n  height: 300px;\n  width: auto;\n  margin-bottom: 1em !important;\n}\n.leaflet-marker-icon {\n  height: 50%;\n  width: 50%;\n}\n#reportMap {\n  height: 300px;\n  width: 100%;\n  margin-bottom: 1em !important;\n}\n.map_container {\n  width: 100%;\n  height: 320px;\n}\n.leaflet-pane.leaflet-map-pane {\n  width: 100% !important;\n  height: 100% !important;\n}\n.centeredHeader {\n  margin: 0 auto;\n}\n.wrapper {\n  overflow: hidden;\n}\n.legend {\n  margin-left: 20px;\n  overflow: hidden;\n  padding-left: 10px;\n}\n.legend-panel-content {\n  box-sizing: border-box;\n  padding-left: 15px;\n}\n.legend-panel-content .wmm-circle,\n.legend-panel-content .wmm-diamond {\n  position: relative;\n  top: 2px;\n  left: 6px;\n}\n.legend-panel-content .wmm-diamond {\n  top: 5px;\n}\n.legend {\n  right: 10px;\n  width: 200px;\n  /*height:320px;*/\n  color: black;\n  background-color: white;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 4px;\n  cursor: pointer;\n  opacity: 0.87;\n}\n.legend-label {\n  font-size: 12px;\n  font-weight: 600;\n  text-align: left;\n  padding-top: 0;\n}\n.legend-hint {\n  display: block;\n  font-size: 11px;\n  font-style: italic;\n  opacity: 0.5;\n  font-weight: 500;\n  line-height: 10px;\n}\n.legend-label {\n  padding-top: 1em;\n}\n.legendIcon {\n  display: inline-block;\n}\n#legendImage {\n  margin: 10px;\n}\n.flyway-blue:after {\n  background-color: rgba(0, 0, 255, 0.3);\n  border: 3px solid blue;\n}\n.flyway-yellow:after {\n  background-color: rgba(255, 255, 0, 0.3);\n  border: 3px solid yellow;\n}\n.flyway-green:after {\n  background-color: rgba(0, 255, 0, 0.3);\n  border: 3px solid green;\n}\n.flyway-red:after {\n  background-color: rgba(255, 238, 0, 0.3);\n  border: 3px solid red;\n}\n.huc-icon:after {\n  border: 3px solid #b57dcf;\n}\n.legend-label {\n  padding-top: 1em;\n}\n.legend-icon {\n  box-sizing: border-box;\n  font-size: 12px;\n}\n.wmm-size-14 {\n  height: 13px !important;\n  width: 8px !important;\n  margin-left: -7px !important;\n}\n.wmm-size-14:after {\n  height: 10px !important;\n  width: 10px !important;\n}\n.wmm-size-14.wmm-pin {\n  margin-top: -8px !important;\n}\n.wmm-size-14.wmm-triangle {\n  height: 0 !important;\n  width: 0 !important;\n  overflow: visible !important;\n  border-left: 9px solid transparent;\n  border-right: 9px solid transparent;\n  border-bottom: 16px solid white;\n  top: -2px;\n  left: -2px;\n}\n.wmm-size-14.wmm-triangle:after {\n  content: \"\";\n  background-color: transparent;\n  font-size: 14px;\n  font-family: sans-serif;\n  position: relative;\n  left: -7px;\n  top: -1px;\n}\n.wmm-size-14.wmm-icon-circle:before {\n  height: 5px;\n  width: 5px;\n  margin: 5px 0 0 5px;\n}\n.wmm-size-14.wmm-icon-square:before,\n.wmm-size-14.wmm-icon-diamond:before {\n  height: 5px;\n  width: 5px;\n  margin: 5px 0 0 5px;\n}\n.wmm-size-14.wmm-icon-triangle:before {\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 7px solid white;\n  margin-top: 3px;\n  margin-left: 4px;\n}\n/* .wmm-size-14 {\n    height: 16px !important;\n    width: 12px !important;\n    margin-left: -7px !important; }\n    .wmm-size-14:after {\n      height: 15px !important;\n      width: 15px !important; }\n    .wmm-size-14.wmm-pin {\n      margin-top: -8px !important; }\n    .wmm-size-14.wmm-triangle {\n      height: 0 !important;\n      width: 0 !important;\n      overflow: visible !important;\n      border-left: 9px solid transparent;\n      border-right: 9px solid transparent;\n      border-bottom: 16px solid white;\n      top: -2px;\n      left: -2px; }\n      .wmm-size-14.wmm-triangle:after {\n        content: '\\25b2';\n        background-color: transparent;\n        font-size: 14px;\n        font-family: sans-serif;\n        position: relative;\n        left: -7px;\n        top: -1px; }\n    .wmm-size-14.wmm-icon-circle:before {\n      height: 5px;\n      width: 5px;\n      margin: 5px 0 0 5px; }\n    .wmm-size-14.wmm-icon-square:before, .wmm-size-14.wmm-icon-diamond:before {\n      height: 5px;\n      width: 5px;\n      margin: 5px 0 0 5px; }\n    .wmm-size-14.wmm-icon-triangle:before {\n      border-left: 4px solid transparent;\n      border-right: 4px solid transparent;\n      border-bottom: 7px solid white;\n      margin-top: 3px;\n      margin-left: 4px; } */\n.leaflet-bottom, .leaflet-top {\n  position: absolute;\n  z-index: 1000;\n  pointer-events: none;\n}\n.leaflet-top {\n  top: 0;\n}\n.leaflet-right {\n  right: 0;\n}\n.leaflet-bottom {\n  bottom: 0;\n}\n.leaflet-left {\n  left: 0;\n}\n.map-position {\n  padding: 4px 4px;\n  font-size: small;\n  font-weight: 500;\n  background-color: white;\n  margin-bottom: 45px;\n  margin-left: 6px;\n  z-index: 99999;\n  line-height: 14px;\n}\n.map-position {\n  border-radius: 3px;\n  box-shadow: 0 5px 20px 0 rgba(0, 0, 0, 0.2);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbWFwL21hcC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbWFwL0M6XFxVc2Vyc1xcdGdyb3NzXFx3aW0uZ2l0aHViXFxUcmF2ZWxUaW1lL3NyY1xcYXBwXFxtb2R1bGVzXFxjb3JlXFxjb21wb25lbnRzXFxtYXBcXG1hcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUNBaEI7RUFDRSxhQUFBO0VBQ0EsV0FBQTtFQUNBLDZCQUFBO0FERUY7QUNDQTtFQUNFLFdBQUE7RUFDQSxVQUFBO0FERUY7QUNDQTtFQUNFLGFBQUE7RUFFRCxXQUFBO0VBQ0MsNkJBQUE7QURDRjtBQ01BO0VBQ0UsV0FBQTtFQUNBLGFBQUE7QURIRjtBQ01BO0VBQ0Usc0JBQUE7RUFDQSx1QkFBQTtBREhGO0FDS0E7RUFDRSxjQUFBO0FERkY7QUNLQTtFQUNFLGdCQUFBO0FERkY7QUNLQTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBREZGO0FDS0E7RUFDRSxzQkFBQTtFQUNBLGtCQUFBO0FERkY7QUNLRTs7RUFFRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0FESEo7QUNLRTtFQUNFLFFBQUE7QURISjtBQ09BO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSx1QkFBQTtFQUNBLDBDQUFBO0VBRUEsa0JBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtBRExGO0FDUUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUdBLGNBQUE7QURQRjtBQ1NBO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUVBLGlCQUFBO0FEUEY7QUNVQTtFQUNFLGdCQUFBO0FEUEY7QUNVQTtFQUNFLHFCQUFBO0FEUEY7QUNVQTtFQUNFLFlBQUE7QURQRjtBQ1VBO0VBQ0Usc0NBQUE7RUFDQSxzQkFBQTtBRFBGO0FDVUE7RUFDRSx3Q0FBQTtFQUNBLHdCQUFBO0FEUEY7QUNVQTtFQUNFLHNDQUFBO0VBQ0EsdUJBQUE7QURQRjtBQ1VBO0VBQ0Usd0NBQUE7RUFDQSxxQkFBQTtBRFBGO0FDVUE7RUFDRSx5QkFBQTtBRFBGO0FDVUE7RUFDRSxnQkFBQTtBRFBGO0FDVUE7RUFDRSxzQkFBQTtFQUNBLGVBQUE7QURQRjtBQ1VBO0VBQ0UsdUJBQUE7RUFDQSxxQkFBQTtFQUNBLDRCQUFBO0FEUEY7QUNTQTtFQUNFLHVCQUFBO0VBQ0Esc0JBQUE7QURORjtBQ1FBO0VBQ0UsMkJBQUE7QURMRjtBQ09BO0VBQ0Usb0JBQUE7RUFDQSxtQkFBQTtFQUNBLDRCQUFBO0VBQ0Esa0NBQUE7RUFDQSxtQ0FBQTtFQUNBLCtCQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7QURKRjtBQ01BO0VBQ0UsWUFBQTtFQUNBLDZCQUFBO0VBQ0EsZUFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBREhGO0FDS0E7RUFDRSxXQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0FERkY7QUNJQTs7RUFFRSxXQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0FEREY7QUNHQTtFQUNFLGtDQUFBO0VBQ0EsbUNBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBREFGO0FDSUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsyQkFBQTtBQXdDQTtFQUNFLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLG9CQUFBO0FEREY7QUNHQTtFQUNFLE1BQUE7QURBRjtBQ0VBO0VBQ0UsUUFBQTtBRENGO0FDQ0E7RUFDRSxTQUFBO0FERUY7QUNBQTtFQUNFLE9BQUE7QURHRjtBQ0RBO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUFtQixnQkFBQTtFQUNuQixjQUFBO0VBQWMsaUJBQUE7QURNaEI7QUNKQTtFQUNFLGtCQUFBO0VBQ0EsMkNBQUE7QURPRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29yZS9jb21wb25lbnRzL21hcC9tYXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAY2hhcnNldCBcIlVURi04XCI7XG4jcmVwb3J0TWFwIHtcbiAgaGVpZ2h0OiAzMDBweDtcbiAgd2lkdGg6IGF1dG87XG4gIG1hcmdpbi1ib3R0b206IDFlbSAhaW1wb3J0YW50O1xufVxuXG4ubGVhZmxldC1tYXJrZXItaWNvbiB7XG4gIGhlaWdodDogNTAlO1xuICB3aWR0aDogNTAlO1xufVxuXG4jcmVwb3J0TWFwIHtcbiAgaGVpZ2h0OiAzMDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbi1ib3R0b206IDFlbSAhaW1wb3J0YW50O1xufVxuXG4ubWFwX2NvbnRhaW5lciB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDMyMHB4O1xufVxuXG4ubGVhZmxldC1wYW5lLmxlYWZsZXQtbWFwLXBhbmUge1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuLmNlbnRlcmVkSGVhZGVyIHtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi53cmFwcGVyIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmxlZ2VuZCB7XG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG59XG5cbi5sZWdlbmQtcGFuZWwtY29udGVudCB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHBhZGRpbmctbGVmdDogMTVweDtcbn1cbi5sZWdlbmQtcGFuZWwtY29udGVudCAud21tLWNpcmNsZSxcbi5sZWdlbmQtcGFuZWwtY29udGVudCAud21tLWRpYW1vbmQge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogMnB4O1xuICBsZWZ0OiA2cHg7XG59XG4ubGVnZW5kLXBhbmVsLWNvbnRlbnQgLndtbS1kaWFtb25kIHtcbiAgdG9wOiA1cHg7XG59XG5cbi5sZWdlbmQge1xuICByaWdodDogMTBweDtcbiAgd2lkdGg6IDIwMHB4O1xuICAvKmhlaWdodDozMjBweDsqL1xuICBjb2xvcjogYmxhY2s7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBvcGFjaXR5OiAwLjg3O1xufVxuXG4ubGVnZW5kLWxhYmVsIHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBwYWRkaW5nLXRvcDogMDtcbn1cblxuLmxlZ2VuZC1oaW50IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBvcGFjaXR5OiAwLjU7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGxpbmUtaGVpZ2h0OiAxMHB4O1xufVxuXG4ubGVnZW5kLWxhYmVsIHtcbiAgcGFkZGluZy10b3A6IDFlbTtcbn1cblxuLmxlZ2VuZEljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbiNsZWdlbmRJbWFnZSB7XG4gIG1hcmdpbjogMTBweDtcbn1cblxuLmZseXdheS1ibHVlOmFmdGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAyNTUsIDAuMyk7XG4gIGJvcmRlcjogM3B4IHNvbGlkIGJsdWU7XG59XG5cbi5mbHl3YXkteWVsbG93OmFmdGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMCwgMC4zKTtcbiAgYm9yZGVyOiAzcHggc29saWQgeWVsbG93O1xufVxuXG4uZmx5d2F5LWdyZWVuOmFmdGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAyNTUsIDAsIDAuMyk7XG4gIGJvcmRlcjogM3B4IHNvbGlkIGdyZWVuO1xufVxuXG4uZmx5d2F5LXJlZDphZnRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyMzgsIDAsIDAuMyk7XG4gIGJvcmRlcjogM3B4IHNvbGlkIHJlZDtcbn1cblxuLmh1Yy1pY29uOmFmdGVyIHtcbiAgYm9yZGVyOiAzcHggc29saWQgI2I1N2RjZjtcbn1cblxuLmxlZ2VuZC1sYWJlbCB7XG4gIHBhZGRpbmctdG9wOiAxZW07XG59XG5cbi5sZWdlbmQtaWNvbiB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuLndtbS1zaXplLTE0IHtcbiAgaGVpZ2h0OiAxM3B4ICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiA4cHggIWltcG9ydGFudDtcbiAgbWFyZ2luLWxlZnQ6IC03cHggIWltcG9ydGFudDtcbn1cblxuLndtbS1zaXplLTE0OmFmdGVyIHtcbiAgaGVpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAxMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi53bW0tc2l6ZS0xNC53bW0tcGluIHtcbiAgbWFyZ2luLXRvcDogLThweCAhaW1wb3J0YW50O1xufVxuXG4ud21tLXNpemUtMTQud21tLXRyaWFuZ2xlIHtcbiAgaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1sZWZ0OiA5cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1yaWdodDogOXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItYm90dG9tOiAxNnB4IHNvbGlkIHdoaXRlO1xuICB0b3A6IC0ycHg7XG4gIGxlZnQ6IC0ycHg7XG59XG5cbi53bW0tc2l6ZS0xNC53bW0tdHJpYW5nbGU6YWZ0ZXIge1xuICBjb250ZW50OiBcIuKWslwiO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZWZ0OiAtN3B4O1xuICB0b3A6IC0xcHg7XG59XG5cbi53bW0tc2l6ZS0xNC53bW0taWNvbi1jaXJjbGU6YmVmb3JlIHtcbiAgaGVpZ2h0OiA1cHg7XG4gIHdpZHRoOiA1cHg7XG4gIG1hcmdpbjogNXB4IDAgMCA1cHg7XG59XG5cbi53bW0tc2l6ZS0xNC53bW0taWNvbi1zcXVhcmU6YmVmb3JlLFxuLndtbS1zaXplLTE0LndtbS1pY29uLWRpYW1vbmQ6YmVmb3JlIHtcbiAgaGVpZ2h0OiA1cHg7XG4gIHdpZHRoOiA1cHg7XG4gIG1hcmdpbjogNXB4IDAgMCA1cHg7XG59XG5cbi53bW0tc2l6ZS0xNC53bW0taWNvbi10cmlhbmdsZTpiZWZvcmUge1xuICBib3JkZXItbGVmdDogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItcmlnaHQ6IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLWJvdHRvbTogN3B4IHNvbGlkIHdoaXRlO1xuICBtYXJnaW4tdG9wOiAzcHg7XG4gIG1hcmdpbi1sZWZ0OiA0cHg7XG59XG5cbi8qIC53bW0tc2l6ZS0xNCB7XG4gICAgaGVpZ2h0OiAxNnB4ICFpbXBvcnRhbnQ7XG4gICAgd2lkdGg6IDEycHggIWltcG9ydGFudDtcbiAgICBtYXJnaW4tbGVmdDogLTdweCAhaW1wb3J0YW50OyB9XG4gICAgLndtbS1zaXplLTE0OmFmdGVyIHtcbiAgICAgIGhlaWdodDogMTVweCAhaW1wb3J0YW50O1xuICAgICAgd2lkdGg6IDE1cHggIWltcG9ydGFudDsgfVxuICAgIC53bW0tc2l6ZS0xNC53bW0tcGluIHtcbiAgICAgIG1hcmdpbi10b3A6IC04cHggIWltcG9ydGFudDsgfVxuICAgIC53bW0tc2l6ZS0xNC53bW0tdHJpYW5nbGUge1xuICAgICAgaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gICAgICB3aWR0aDogMCAhaW1wb3J0YW50O1xuICAgICAgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDtcbiAgICAgIGJvcmRlci1sZWZ0OiA5cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICBib3JkZXItcmlnaHQ6IDlweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIGJvcmRlci1ib3R0b206IDE2cHggc29saWQgd2hpdGU7XG4gICAgICB0b3A6IC0ycHg7XG4gICAgICBsZWZ0OiAtMnB4OyB9XG4gICAgICAud21tLXNpemUtMTQud21tLXRyaWFuZ2xlOmFmdGVyIHtcbiAgICAgICAgY29udGVudDogJ1xcMjViMic7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGxlZnQ6IC03cHg7XG4gICAgICAgIHRvcDogLTFweDsgfVxuICAgIC53bW0tc2l6ZS0xNC53bW0taWNvbi1jaXJjbGU6YmVmb3JlIHtcbiAgICAgIGhlaWdodDogNXB4O1xuICAgICAgd2lkdGg6IDVweDtcbiAgICAgIG1hcmdpbjogNXB4IDAgMCA1cHg7IH1cbiAgICAud21tLXNpemUtMTQud21tLWljb24tc3F1YXJlOmJlZm9yZSwgLndtbS1zaXplLTE0LndtbS1pY29uLWRpYW1vbmQ6YmVmb3JlIHtcbiAgICAgIGhlaWdodDogNXB4O1xuICAgICAgd2lkdGg6IDVweDtcbiAgICAgIG1hcmdpbjogNXB4IDAgMCA1cHg7IH1cbiAgICAud21tLXNpemUtMTQud21tLWljb24tdHJpYW5nbGU6YmVmb3JlIHtcbiAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICBib3JkZXItcmlnaHQ6IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIGJvcmRlci1ib3R0b206IDdweCBzb2xpZCB3aGl0ZTtcbiAgICAgIG1hcmdpbi10b3A6IDNweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA0cHg7IH0gKi9cbi5sZWFmbGV0LWJvdHRvbSwgLmxlYWZsZXQtdG9wIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAxMDAwO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLmxlYWZsZXQtdG9wIHtcbiAgdG9wOiAwO1xufVxuXG4ubGVhZmxldC1yaWdodCB7XG4gIHJpZ2h0OiAwO1xufVxuXG4ubGVhZmxldC1ib3R0b20ge1xuICBib3R0b206IDA7XG59XG5cbi5sZWFmbGV0LWxlZnQge1xuICBsZWZ0OiAwO1xufVxuXG4ubWFwLXBvc2l0aW9uIHtcbiAgcGFkZGluZzogNHB4IDRweDtcbiAgZm9udC1zaXplOiBzbWFsbDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIG1hcmdpbi1ib3R0b206IDQ1cHg7XG4gIG1hcmdpbi1sZWZ0OiA2cHg7XG4gIHotaW5kZXg6IDk5OTk5O1xuICBsaW5lLWhlaWdodDogMTRweDtcbn1cblxuLm1hcC1wb3NpdGlvbiB7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgYm94LXNoYWRvdzogMCA1cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4yKTtcbn0iLCIjcmVwb3J0TWFwIHtcclxuICBoZWlnaHQ6IDMwMHB4O1xyXG4gIHdpZHRoOiBhdXRvO1xyXG4gIG1hcmdpbi1ib3R0b206IDFlbSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ubGVhZmxldC1tYXJrZXItaWNvbiB7XHJcbiAgaGVpZ2h0OiA1MCU7XHJcbiAgd2lkdGg6IDUwJTtcclxufVxyXG5cclxuI3JlcG9ydE1hcCB7XHJcbiAgaGVpZ2h0OiAzMDBweDtcclxuLy8gICB3aWR0aDogNDUzcHg7XHJcblx0d2lkdGg6IDEwMCU7XHJcbiAgbWFyZ2luLWJvdHRvbTogMWVtICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8vIC5tYXBfY29udGFpbmVyIHtcclxuLy8gICB3aWR0aDogNDUzcHg7XHJcbi8vICAgaGVpZ2h0OiAzMjBweDtcclxuLy8gfVxyXG4ubWFwX2NvbnRhaW5lciB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAzMjBweDtcclxufVxyXG5cclxuLmxlYWZsZXQtcGFuZS5sZWFmbGV0LW1hcC1wYW5lIHtcclxuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG59XHJcbi5jZW50ZXJlZEhlYWRlciB7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbi53cmFwcGVyIHtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4ubGVnZW5kIHtcclxuICBtYXJnaW4tbGVmdDogMjBweDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHBhZGRpbmctbGVmdDogMTBweDtcclxufVxyXG5cclxuLmxlZ2VuZC1wYW5lbC1jb250ZW50IHtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIHBhZGRpbmctbGVmdDogMTVweDtcclxuICAvL3BhZGRpbmctdG9wOiAxMHB4O1xyXG5cclxuICAud21tLWNpcmNsZSxcclxuICAud21tLWRpYW1vbmQge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgdG9wOiAycHg7XHJcbiAgICBsZWZ0OiA2cHg7XHJcbiAgfVxyXG4gIC53bW0tZGlhbW9uZCB7XHJcbiAgICB0b3A6IDVweDtcclxuICB9XHJcbn1cclxuXHJcbi5sZWdlbmQge1xyXG4gIHJpZ2h0OiAxMHB4O1xyXG4gIHdpZHRoOiAyMDBweDtcclxuICAvKmhlaWdodDozMjBweDsqL1xyXG4gIGNvbG9yOiBibGFjaztcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xyXG4gIC8vYm94LXNoYWRvdzogMCAxcHggNXB4IHJnYmEoMCwgMCwgMCwgMC42NSk7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBvcGFjaXR5OiAwLjg3O1xyXG59XHJcblxyXG4ubGVnZW5kLWxhYmVsIHtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gIC8vZGlzcGxheTogYmxvY2s7XHJcbiAgLy9tYXJnaW46IDVweCAwIDFweCAwO1xyXG4gIHBhZGRpbmctdG9wOiAwO1xyXG59XHJcbi5sZWdlbmQtaGludCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgZm9udC1zaXplOiAxMXB4O1xyXG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICBvcGFjaXR5OiAwLjU7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAvL21hcmdpbjogMXB4IDAgNnB4IDA7XHJcbiAgbGluZS1oZWlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcbi5sZWdlbmQtbGFiZWwge1xyXG4gIHBhZGRpbmctdG9wOiAxZW07XHJcbn1cclxuXHJcbi5sZWdlbmRJY29uIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbiNsZWdlbmRJbWFnZSB7XHJcbiAgbWFyZ2luOiAxMHB4O1xyXG59XHJcblxyXG4uZmx5d2F5LWJsdWU6YWZ0ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMjU1LCAwLjMpO1xyXG4gIGJvcmRlcjogM3B4IHNvbGlkIGJsdWU7XHJcbn1cclxuXHJcbi5mbHl3YXkteWVsbG93OmFmdGVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAwLCAwLjMpO1xyXG4gIGJvcmRlcjogM3B4IHNvbGlkIHllbGxvdztcclxufVxyXG5cclxuLmZseXdheS1ncmVlbjphZnRlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAyNTUsIDAsIDAuMyk7XHJcbiAgYm9yZGVyOiAzcHggc29saWQgZ3JlZW47XHJcbn1cclxuXHJcbi5mbHl3YXktcmVkOmFmdGVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjM4LCAwLCAwLjMpO1xyXG4gIGJvcmRlcjogM3B4IHNvbGlkIHJlZDtcclxufVxyXG5cclxuLmh1Yy1pY29uOmFmdGVyIHtcclxuICBib3JkZXI6IDNweCBzb2xpZCAjYjU3ZGNmO1xyXG59XHJcblxyXG4ubGVnZW5kLWxhYmVsIHtcclxuICBwYWRkaW5nLXRvcDogMWVtO1xyXG59XHJcblxyXG4ubGVnZW5kLWljb24ge1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgZm9udC1zaXplOiAxMnB4O1xyXG59XHJcblxyXG4ud21tLXNpemUtMTQge1xyXG4gIGhlaWdodDogMTNweCAhaW1wb3J0YW50O1xyXG4gIHdpZHRoOiA4cHggIWltcG9ydGFudDtcclxuICBtYXJnaW4tbGVmdDogLTdweCAhaW1wb3J0YW50O1xyXG59XHJcbi53bW0tc2l6ZS0xNDphZnRlciB7XHJcbiAgaGVpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7XHJcbiAgd2lkdGg6IDEwcHggIWltcG9ydGFudDtcclxufVxyXG4ud21tLXNpemUtMTQud21tLXBpbiB7XHJcbiAgbWFyZ2luLXRvcDogLThweCAhaW1wb3J0YW50O1xyXG59XHJcbi53bW0tc2l6ZS0xNC53bW0tdHJpYW5nbGUge1xyXG4gIGhlaWdodDogMCAhaW1wb3J0YW50O1xyXG4gIHdpZHRoOiAwICFpbXBvcnRhbnQ7XHJcbiAgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDtcclxuICBib3JkZXItbGVmdDogOXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci1yaWdodDogOXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci1ib3R0b206IDE2cHggc29saWQgd2hpdGU7XHJcbiAgdG9wOiAtMnB4O1xyXG4gIGxlZnQ6IC0ycHg7XHJcbn1cclxuLndtbS1zaXplLTE0LndtbS10cmlhbmdsZTphZnRlciB7XHJcbiAgY29udGVudDogXCJcXDI1YjJcIjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGxlZnQ6IC03cHg7XHJcbiAgdG9wOiAtMXB4O1xyXG59XHJcbi53bW0tc2l6ZS0xNC53bW0taWNvbi1jaXJjbGU6YmVmb3JlIHtcclxuICBoZWlnaHQ6IDVweDtcclxuICB3aWR0aDogNXB4O1xyXG4gIG1hcmdpbjogNXB4IDAgMCA1cHg7XHJcbn1cclxuLndtbS1zaXplLTE0LndtbS1pY29uLXNxdWFyZTpiZWZvcmUsXHJcbi53bW0tc2l6ZS0xNC53bW0taWNvbi1kaWFtb25kOmJlZm9yZSB7XHJcbiAgaGVpZ2h0OiA1cHg7XHJcbiAgd2lkdGg6IDVweDtcclxuICBtYXJnaW46IDVweCAwIDAgNXB4O1xyXG59XHJcbi53bW0tc2l6ZS0xNC53bW0taWNvbi10cmlhbmdsZTpiZWZvcmUge1xyXG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXJpZ2h0OiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLWJvdHRvbTogN3B4IHNvbGlkIHdoaXRlO1xyXG4gIG1hcmdpbi10b3A6IDNweDtcclxuICBtYXJnaW4tbGVmdDogNHB4O1xyXG59XHJcblxyXG4vLyBjdXN0b21pemluZyBzaXplIG9mIGRpYW1vbmQgYmVjYXVzZSBpdCB3YXMgZ2V0dGluZyBjdXQgb2ZmIGluIHRoZSBwcmludCBvdXRcclxuLyogLndtbS1zaXplLTE0IHtcclxuICAgIGhlaWdodDogMTZweCAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEycHggIWltcG9ydGFudDtcclxuICAgIG1hcmdpbi1sZWZ0OiAtN3B4ICFpbXBvcnRhbnQ7IH1cclxuICAgIC53bW0tc2l6ZS0xNDphZnRlciB7XHJcbiAgICAgIGhlaWdodDogMTVweCAhaW1wb3J0YW50O1xyXG4gICAgICB3aWR0aDogMTVweCAhaW1wb3J0YW50OyB9XHJcbiAgICAud21tLXNpemUtMTQud21tLXBpbiB7XHJcbiAgICAgIG1hcmdpbi10b3A6IC04cHggIWltcG9ydGFudDsgfVxyXG4gICAgLndtbS1zaXplLTE0LndtbS10cmlhbmdsZSB7XHJcbiAgICAgIGhlaWdodDogMCAhaW1wb3J0YW50O1xyXG4gICAgICB3aWR0aDogMCAhaW1wb3J0YW50O1xyXG4gICAgICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xyXG4gICAgICBib3JkZXItbGVmdDogOXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICBib3JkZXItcmlnaHQ6IDlweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgYm9yZGVyLWJvdHRvbTogMTZweCBzb2xpZCB3aGl0ZTtcclxuICAgICAgdG9wOiAtMnB4O1xyXG4gICAgICBsZWZ0OiAtMnB4OyB9XHJcbiAgICAgIC53bW0tc2l6ZS0xNC53bW0tdHJpYW5nbGU6YWZ0ZXIge1xyXG4gICAgICAgIGNvbnRlbnQ6ICdcXDI1YjInO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgbGVmdDogLTdweDtcclxuICAgICAgICB0b3A6IC0xcHg7IH1cclxuICAgIC53bW0tc2l6ZS0xNC53bW0taWNvbi1jaXJjbGU6YmVmb3JlIHtcclxuICAgICAgaGVpZ2h0OiA1cHg7XHJcbiAgICAgIHdpZHRoOiA1cHg7XHJcbiAgICAgIG1hcmdpbjogNXB4IDAgMCA1cHg7IH1cclxuICAgIC53bW0tc2l6ZS0xNC53bW0taWNvbi1zcXVhcmU6YmVmb3JlLCAud21tLXNpemUtMTQud21tLWljb24tZGlhbW9uZDpiZWZvcmUge1xyXG4gICAgICBoZWlnaHQ6IDVweDtcclxuICAgICAgd2lkdGg6IDVweDtcclxuICAgICAgbWFyZ2luOiA1cHggMCAwIDVweDsgfVxyXG4gICAgLndtbS1zaXplLTE0LndtbS1pY29uLXRyaWFuZ2xlOmJlZm9yZSB7XHJcbiAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGJvcmRlci1yaWdodDogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICBib3JkZXItYm90dG9tOiA3cHggc29saWQgd2hpdGU7XHJcbiAgICAgIG1hcmdpbi10b3A6IDNweDtcclxuICAgICAgbWFyZ2luLWxlZnQ6IDRweDsgfSAqL1xyXG4ubGVhZmxldC1ib3R0b20sLmxlYWZsZXQtdG9wIHtcclxuICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICB6LWluZGV4OjEwMDA7XHJcbiAgcG9pbnRlci1ldmVudHM6bm9uZVxyXG59XHJcbi5sZWFmbGV0LXRvcCB7XHJcbiAgdG9wOjBcclxufVxyXG4ubGVhZmxldC1yaWdodCB7XHJcbiAgcmlnaHQ6MFxyXG59XHJcbi5sZWFmbGV0LWJvdHRvbSB7XHJcbiAgYm90dG9tOjBcclxufVxyXG4ubGVhZmxldC1sZWZ0IHtcclxuICBsZWZ0OjBcclxufVxyXG4ubWFwLXBvc2l0aW9ue1xyXG4gIHBhZGRpbmc6NHB4IDRweDtcclxuICBmb250LXNpemU6c21hbGw7XHJcbiAgZm9udC13ZWlnaHQ6NTAwO1xyXG4gIGJhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwxKTtcclxuICBtYXJnaW4tYm90dG9tOjQ1cHg7bWFyZ2luLWxlZnQ6NnB4O1xyXG4gIHotaW5kZXg6OTk5OTk7bGluZS1oZWlnaHQ6MTRweFxyXG59XHJcbi5tYXAtcG9zaXRpb257XHJcbiAgYm9yZGVyLXJhZGl1czozcHg7XHJcbiAgYm94LXNoYWRvdzowIDVweCAyMHB4IDAgcmdiYSgwLDAsMCwuMik7XHJcbiAgLy96LWluZGV4OjVcclxufSJdfQ== */"

/***/ }),

/***/ "./src/app/modules/core/components/map/map.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/modules/core/components/map/map.component.ts ***!
  \**************************************************************/
/*! exports provided: MapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapComponent", function() { return MapComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _shared_messageType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/messageType */ "./src/app/shared/messageType.ts");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var _services_chart_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/chart.service */ "./src/app/modules/core/services/chart.service.ts");
/* harmony import */ var _shared_extensions_object_DeepCopy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/extensions/object.DeepCopy */ "./src/app/shared/extensions/object.DeepCopy.ts");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var _services_navigationservices_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/navigationservices.service */ "./src/app/modules/core/services/navigationservices.service.ts");
/* harmony import */ var _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../services/nwisservices.service */ "./src/app/modules/core/services/nwisservices.service.ts");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _turf_turf__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @turf/turf */ "./node_modules/@turf/turf/turf.min.js");
/* harmony import */ var _turf_turf__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_turf_turf__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _services_spillplanning_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../services/spillplanning.service */ "./src/app/modules/core/services/spillplanning.service.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _modals_spill_planning_spillplanning_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../modals/spill-planning/spillplanning.component */ "./src/app/modules/core/components/modals/spill-planning/spillplanning.component.ts");
/* harmony import */ var _services_nldiservices_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../services/nldiservices.service */ "./src/app/modules/core/services/nldiservices.service.ts");

















var MapComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MapComponent, _super);
    //#endregion
    //#region "Contructor & ngOnit map subscribers
    function MapComponent(mapservice, ToTCalculator, cdref, navigationservice, toastr, studyservice, nwisservice, modalService, nldiService, chartService) {
        var _this = _super.call(this) || this;
        _this.cdref = cdref;
        _this.modalService = modalService;
        _this.states = [];
        _this.reportMap = undefined;
        _this.isfirst = true;
        _this.isInsideWaterBody = false;
        _this._layers = [];
        _this.showMost = true;
        _this.showMax = false;
        //#endregion
        //MapOptions
        _this.optionsSpec = {
            layers: [{ url: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', attribution: 'Open Street Map' }],
            zoom: 5,
            center: [46.879966, -121.726909]
        };
        // Leaflet bindings
        _this.zoom = _this.optionsSpec.zoom;
        _this.center = leaflet__WEBPACK_IMPORTED_MODULE_10__["latLng"](_this.optionsSpec.center);
        _this.options = {
            layers: [leaflet__WEBPACK_IMPORTED_MODULE_10__["tileLayer"](_this.optionsSpec.layers[0].url, { attribution: _this.optionsSpec.layers[0].attribution })],
            zoom: _this.optionsSpec.zoom,
            center: leaflet__WEBPACK_IMPORTED_MODULE_10__["latLng"](_this.optionsSpec.center),
        };
        _this.messager = toastr;
        _this.MapService = mapservice;
        _this.NavigationService = navigationservice;
        _this.StudyService = studyservice;
        _this.NWISService = nwisservice;
        _this.NLDIService = nldiService;
        _this.layerGroup = new leaflet__WEBPACK_IMPORTED_MODULE_10__["FeatureGroup"]([]); // streamLayer
        _this.reportlayerGroup = new leaflet__WEBPACK_IMPORTED_MODULE_10__["FeatureGroup"]([]);
        _this.ToTCalculator = ToTCalculator;
        _this.MapService.isInsideWaterBody.subscribe(function (data) {
            _this.isInsideWaterBody = data;
        });
        _this.ChartService = chartService;
        return _this;
    }
    Object.defineProperty(MapComponent.prototype, "MousePosition", {
        get: function () {
            return this._mousePosition;
        },
        set: function (v) {
            this._mousePosition = v;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MapComponent.prototype, "LayersControl", {
        //#region "Map helper methods of layerControl"
        get: function () {
            return this._layersControl;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MapComponent.prototype, "Layers", {
        get: function () {
            return this._layers;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MapComponent.prototype, "MapOptions", {
        get: function () {
            return this.MapService.Options;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MapComponent.prototype, "ShowUpstream", {
        get: function () {
            return this._showUpstream;
        },
        enumerable: true,
        configurable: true
    });
    MapComponent.prototype.ngOnChanges = function (changes) {
        // If map size changed, trigger resize event, which will force map to redraw
        // InvalidteSize does not work here. Not sure why.
        /*if(changes.mapSize.previousValue != null && changes.mapSize.currentValue != changes.mapSize.previousValue){
            window.dispatchEvent(new Event('resize'));
      }*/
        if (typeof (changes.previousValue) == 'undefined') {
            window.dispatchEvent(new Event('resize'));
        }
    };
    MapComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.MapService.bounds.subscribe(function (b) {
            _this.fitBounds = b;
        });
        this.NavigationService.navigationGeoJSON$.subscribe(function (data) {
            //console.log(data);
        });
        //#region "Base layer and overlay subscribers"
        // method to subscribe to the layers
        this.MapService.LayersControl.subscribe(function (data) {
            _this._layersControl = {
                baseLayers: data.baseLayers.reduce(function (acc, ml) {
                    acc[ml.name] = ml.layer;
                    return acc;
                }, {}),
                overlays: data.overlays.reduce(function (acc, ml) { acc[ml.name] = ml.layer; return acc; }, {})
            };
            // method to filter out layers by visibility
            if (data.overlays.length > 0) {
                var activelayers = data.overlays
                    .filter(function (l) { return l.visible; })
                    .map(function (l) { return l.layer; });
                activelayers.unshift(data.baseLayers.find(function (l) { return (l.visible); }).layer);
                _this._layers = activelayers;
            }
        });
        //#endregion
        //#region "Map helpers subscribers of services"
        this.MapService.LatLng.subscribe(function (res) {
            _this.poi = res;
        });
        this.MapService.layerGroup.subscribe(function (layerGroup) {
            _this.layerGroup = layerGroup;
        });
        this.MapService.reportlayerGroup.subscribe(function (reportlayerGroup) {
            _this.reportlayerGroup = reportlayerGroup;
        });
        this.ChartService.display$.subscribe(function (isShown) {
            _this.showMax = isShown.max;
            _this.showMost = isShown.most;
            var method = _this.StudyService.selectedStudy.MethodType;
            _this.setFlowlineSymbology(method);
            _this.MapService.AddMapLayer({ name: 'Flowlines', layer: _this.layerGroup, visible: true });
        });
    };
    //#endregion
    //#region "Report map helper"
    MapComponent.prototype.ngAfterViewInit = function () {
        // if this map is for the report
        if (this.report) {
            // if map already initialized, reset to avoid errors
            if (this.reportMap !== undefined) {
                this.reportMap.off();
                this.reportMap.remove();
            }
            this.reportMap = new leaflet__WEBPACK_IMPORTED_MODULE_10__["Map"]('reportMap', this.options);
            // add point of interest
            // MarkerMaker icon
            var blackPin = leaflet__WEBPACK_IMPORTED_MODULE_10__["divIcon"]({ className: 'wmm-pin wmm-black wmm-icon-circle wmm-icon-white wmm-size-25' });
            var marker = leaflet__WEBPACK_IMPORTED_MODULE_10__["marker"](this.poi, {
                icon: blackPin,
            });
            marker.addTo(this.reportMap);
            this.reportlayerGroup.addTo(this.reportMap);
            this.reportMap.fitBounds(this.layerGroup.getBounds());
        }
    };
    //#endregion
    //#region "Map click events"
    MapComponent.prototype.onMapReady = function (map) {
        var _this = this;
        map.invalidateSize();
        this.MapService.map = map;
        leaflet__WEBPACK_IMPORTED_MODULE_10__["control"].scale().addTo(map);
        this.MapService.showUpstream.subscribe(function (data) {
            _this._showUpstream = data;
            if (_this.ShowUpstream) {
                var legend = new leaflet__WEBPACK_IMPORTED_MODULE_10__["Control"]({ position: 'topright' });
                legend.onAdd = function (map) {
                    var div = leaflet__WEBPACK_IMPORTED_MODULE_10__["DomUtil"].create('div', 'info legend');
                    div.innerHTML = '<div style="background-color: white; box-shadow: 0 5px 20px 0 rgb(0 0 0 / 20%); border-radius: 3px;">';
                    div.innerHTML += '<div><b>Travel Times</b></div>';
                    div.innerHTML += '<i style="background: #CC0000"> &nbsp; &nbsp;</i> &nbsp;>0-6 hours <br/>';
                    div.innerHTML += '<i style="background: #FF0000"> &nbsp; &nbsp;</i> &nbsp;>6-12 hours <br/>';
                    div.innerHTML += '<i style="background: #FF6600"> &nbsp; &nbsp;</i> &nbsp;>12-24 hours <br/>';
                    div.innerHTML += '<i style="background: #FF9900"> &nbsp; &nbsp;</i> &nbsp;>24-36 hours <br/>';
                    div.innerHTML += '<i style="background: #CCFF00"> &nbsp; &nbsp;</i> &nbsp;>36-48 hours <br/>';
                    div.innerHTML += '<i style="background: #669900"> &nbsp; &nbsp;</i> &nbsp;>48 hours <br/>';
                    div.innerHTML += '</div>';
                    return div;
                };
                legend.addTo(map);
            }
        });
    };
    MapComponent.prototype.onZoomChange = function (zoom) {
        this.MapService.CurrentZoomLevel.next(zoom);
        this.MapService.nominalZoomLevel.next(this.MapService.scaleLookup(zoom));
        this.cdref.detectChanges();
    };
    MapComponent.prototype.onMouseClick = function (evnt) {
        if (this.StudyService.GetWorkFlow('hasMethod')) {
            document.getElementById(this.StudyService.selectedStudy.MethodType).disabled = true;
            document.getElementById(this.StudyService.selectedStudy.MethodType).classList.remove('waiting');
            if (this.StudyService.selectedStudy.MethodType == 'response') {
                this.setPOI(evnt.latlng, 'response');
            }
            else {
                this.setPOI(evnt.latlng, 'planning');
            }
        }
    };
    MapComponent.prototype.getLatLong = function (evnt) {
        this._mousePosition = evnt.latlng;
    };
    MapComponent.prototype.showSpinner = function () {
        jquery__WEBPACK_IMPORTED_MODULE_12__('#cover-spin').show(0);
    };
    //#endregion
    //#region "Helper methods (create FeatureGroup layer)"
    MapComponent.prototype.setPOI = function (latlng, inputString) {
        var _this = this;
        if (!this.StudyService.GetWorkFlow('hasPOI')) {
            var direction;
            var intersection;
            this.sm('Point selected. Loading...');
            this.MapService.setCursor('');
            this.StudyService.SetWorkFlow('hasPOI', true);
            this.MapService.SetPoi(latlng);
            if (this.MapService.CurrentZoomLevel.value < 10 || !this.MapService.isClickable) {
                return;
            }
            if (inputString === 'response') {
                direction = 'downstream';
            }
            else {
                direction = 'upstream';
            }
            // MarkerMaker icon
            var blackPin = leaflet__WEBPACK_IMPORTED_MODULE_10__["divIcon"]({ className: 'wmm-pin wmm-black wmm-icon-circle wmm-icon-white wmm-size-25' });
            var marker = leaflet__WEBPACK_IMPORTED_MODULE_10__["marker"](latlng, {
                icon: blackPin
            });
            // add marker to map
            this.MapService.AddMapLayer({ name: 'POI', layer: marker, visible: true });
            this.NLDIService.GetRainDropPath(latlng.lat, latlng.lng, direction === 'downstream' ? 'down' : 'up')
                .toPromise().then(function (data) {
                if (data) {
                    _this.RDP = data.features;
                    _this.StudyService.selectedStudy.RDP = _this.RDP;
                    intersection = { coordinates: [_this.RDP[0].properties.intersection_point[0], _this.RDP[0].properties.intersection_point[1]], type: "Point" };
                    if (direction === 'downstream') { //spill response workflow
                        console.log('spill response');
                        _this.NavigationService.getNavigationResource('3')
                            .toPromise().then(function (data2) {
                            var config = data2.configuration;
                            config.forEach(function (item) {
                                switch (item.id) {
                                    case 1:
                                        item.value = intersection; //marker.toGeoJSON().geometry;
                                        item.value.crs = { properties: { name: 'EPSG:4326' }, type: 'name' };
                                        break;
                                    case 6:
                                        item.value = ['flowline', 'nwisgage']; // "flowline", "wqpsite", "streamStatsgage", "nwisgage"
                                        break;
                                    case 5:
                                        item.value = direction;
                                        break;
                                    case 0: if (_this.StudyService.isMetric()) {
                                        item.value = { id: 3, description: 'Limiting distance in kilometers from starting point', name: 'Distance (km)', value: _this.StudyService.distance, valueType: 'numeric' };
                                    }
                                    else {
                                        var imp_distance = (_this.StudyService.distance * 1.609344).toFixed(0); //converts miles to kilometers
                                        item.value = { id: 3, description: 'Limiting distance in kilometers from starting point', name: 'Distance (km)', value: imp_distance, valueType: 'numeric' };
                                    }
                                } // end switch
                            }); // next item
                            return config;
                        }).then(function (config) {
                            _this.NavigationService.getRoute('3', config, true).subscribe(function (response) {
                                _this.NavigationService.navigationGeoJSON$.next(response);
                                response.features.shift();
                                var rch1comid = _this.RDP[0].properties.comid;
                                if (response.features[0].properties.nhdplus_comid === rch1comid.toString()) { //transfers clipped reach geometry to replace full reach geometry
                                    response.features[0].geometry = _this.RDP[0].geometry;
                                }
                                if (_this.RDP.length > 1) {
                                    response.features.unshift(_this.RDP[1]);
                                }
                                response.features.forEach(function (element) {
                                    element.properties.Length = _turf_turf__WEBPACK_IMPORTED_MODULE_11__["length"](element, { units: 'kilometers' }); // computes actual length; (services return nhdplus length)
                                });
                                _this.StudyService.selectedStudy.spillResponseResponse = response;
                                _this.isMetric = _this.StudyService.isMetric();
                                _this.setFlowlineSymbology(inputString);
                                if (_this.showMost) {
                                    _this.MapService.getFlowLineLayerGroup(_this.StudyService.selectedStudy.spillResponseResponse.features, inputString, _this.isMetric, 'most');
                                }
                                else if (_this.showMax) {
                                    _this.MapService.getFlowLineLayerGroup(_this.StudyService.selectedStudy.spillResponseResponse.features, inputString, _this.isMetric, 'max');
                                }
                                _this.NWISService.check4gages(_this.StudyService.selectedStudy.spillResponseResponse.features);
                                _this.StudyService.selectedStudy.Reaches = _this.StudyService.formatReaches(_this.StudyService.selectedStudy.spillResponseResponse);
                                _this.MapService.AddMapLayer({ name: 'Flowlines', layer: _this.layerGroup, visible: true });
                                _this.StudyService.SetWorkFlow('hasReaches', true);
                                //this.Check4VelocityData();  //add this back in when DRIFT is available
                                _this.StudyService.selectedStudy.LocationOfInterest = latlng;
                                _this.StudyService.setProcedure(2);
                                //one with the biggest drainage area is the first one to trace up
                            });
                        }).finally(function () {
                            if (_this.RDP.length > 1) {
                                _this.message('Travel time not computed for overland/raindrop trace portion', 'warning', '', 0);
                            }
                        });
                    }
                    else { // spill planning workflow
                        console.log('spill planning');
                        _this.NavigationService.getNavigationResource('3')
                            .toPromise().then(function (data2) {
                            var config = data2.configuration;
                            config.forEach(function (item) {
                                switch (item.id) {
                                    case 1:
                                        item.value = intersection; //marker.toGeoJSON().geometry;
                                        item.value.crs = { properties: { name: 'EPSG:4326' }, type: 'name' };
                                        break;
                                    case 6:
                                        item.value = ['flowline', 'nwisgage']; // "flowline", "wqpsite", "streamStatsgage", "nwisgage"
                                        break;
                                    case 5:
                                        item.value = "downstream";
                                        break;
                                    case 0: item.value = { id: 3, description: 'Grabs first reach with attributes', name: 'Distance (km)', value: 1, valueType: 'numeric' };
                                } // end switch
                            }); // next item
                            return config;
                        }).then(function (config) {
                            _this.NavigationService.getRoute('3', config, true).subscribe(function (response) {
                                _this.NavigationService.navigationGeoJSON$.next(response);
                                response.features.shift();
                                console.log(response);
                                _this.firstReach = response.features[0];
                                _this.NavigationService.getNavigationResource('3')
                                    .toPromise().then(function (data3) {
                                    var config2 = data3.configuration;
                                    config2.forEach(function (item) {
                                        switch (item.id) {
                                            case 1:
                                                item.value = intersection; //marker.toGeoJSON().geometry;
                                                item.value.crs = { properties: { name: 'EPSG:4326' }, type: 'name' };
                                                break;
                                            case 6:
                                                item.value = ['flowline', 'nwisgage']; // "flowline", "wqpsite", "streamStatsgage", "nwisgage"
                                                break;
                                            case 5:
                                                item.value = direction;
                                                break;
                                            case 0: if (_this.StudyService.isMetric()) {
                                                item.value = { id: 3, description: 'Grabs first reach with attributes', name: 'Distance (km)', value: (_this.StudyService.distance).toFixed(0), valueType: 'numeric' };
                                            }
                                            else {
                                                var imp_distance = (_this.StudyService.distance * 1.609344).toFixed(0); //converts miles to kilometers
                                                item.value = { id: 3, description: 'Grabs first reach with attributes', name: 'Distance (km)', value: imp_distance, valueType: 'numeric' };
                                            }
                                        } // end switch
                                    }); // next item
                                    return config2;
                                }).then(function (config2) {
                                    _this.NavigationService.getRoute('3', config2, true).subscribe(function (response2) {
                                        _this.NavigationService.navigationGeoJSON$.next(response2); //add check here for length of response2, if > 1 continue else throw error
                                        response2.features.shift();
                                        var rch1comid = _this.RDP[0].properties.comid;
                                        if (response2.features[0].properties.nhdplus_comid === rch1comid.toString()) { //transfers clipped reach geometry to replace full reach geometry
                                            response2.features[0].geometry = _this.RDP[0].geometry;
                                        }
                                        if (_this.RDP.length > 1) { //if overland flow trace exists
                                            response2.features.unshift(_this.RDP[1]);
                                        }
                                        response2.features.forEach(function (element) {
                                            element.properties.Length = _turf_turf__WEBPACK_IMPORTED_MODULE_11__["length"](element, { units: 'kilometers' }); // computes actual length; (services return nhdplus length)
                                        });
                                        _this.StudyService.selectedStudy.spillPlanningResponse = response2;
                                        _this.isMetric = _this.StudyService.isMetric();
                                        _this.StudyService.selectedStudy.LocationOfInterest = latlng;
                                        _this.NWISService.check4gages(_this.StudyService.selectedStudy.spillPlanningResponse.features);
                                        _this.StudyService.SetWorkFlow('hasReaches', true);
                                        _this.openPlanningModal();
                                        _this.MapService.showUpstream.subscribe(function (data3) {
                                            if (data3) {
                                                _this.setFlowlineSymbology(inputString);
                                                _this.StudyService.selectedStudy.Reaches = _this.StudyService.formatReaches(_this.StudyService.selectedStudy.spillPlanningResponse);
                                                _this.MapService.AddMapLayer({ name: 'Flowlines', layer: _this.layerGroup, visible: true });
                                                _this.StudyService.selectedStudy.LocationOfInterest = _this.MapService.GetPOI();
                                                _this.StudyService.selectedStudy.LocationOfInterest = latlng;
                                                _this._showUpstream = data3;
                                            }
                                            else {
                                                _this._showUpstream = data3;
                                            }
                                        });
                                    });
                                });
                                //one with the biggest drainage area is the first one to trace up
                            });
                        });
                    }
                }
                else {
                    _this.message('NLDI Raindrop Trace Error, Please try a different location', 'error', '', 0);
                    _this.StudyService.SetWorkFlow('hasError', true);
                }
            }).catch(function (err) {
                console.log('error: ', err.message);
                _this.message('NLDI Raindrop Trace Failed, Please try again', 'error', '', 0);
                _this.StudyService.SetWorkFlow('hasError', true);
            });
        }
    };
    MapComponent.prototype.Check4VelocityData = function () {
        var _this = this;
        var studyList = [];
        this.StudyService.selectedStudy.Reaches.forEach(function (reach) {
            _this.StudyService.DriftData.forEach(function (study) {
                if (reach.properties.nhdplus_comid === study.properties.comid) {
                    if (study.properties.PeakVelocity > 0 || study.properties.LeadingVelocity > 0 || study.properties.TrailingVelocity > 0) {
                        studyList.push(study);
                    }
                }
            });
        });
        this.StudyService.selectedStudy.SelectedDriftData = studyList;
    };
    MapComponent.prototype.measure = function (latLon1, latLon2) {
        var lat1 = latLon1[1];
        var lon1 = latLon1[0];
        var lat2 = latLon2[1];
        var lon2 = latLon2[0];
        var R = 6378.137; // Radius of earth in KM
        var dLat = lat2 * Math.PI / 180 - lat1 * Math.PI / 180;
        var dLon = lon2 * Math.PI / 180 - lon1 * Math.PI / 180;
        var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                Math.sin(dLon / 2) * Math.sin(dLon / 2);
        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
        var d = R * c;
        return d; // kilometers
    };
    MapComponent.prototype.openPlanningModal = function () {
        if (this.isInsideWaterBody) {
            this.sm("Selected point of interest is inside of a water body.... please select different location");
        }
        else {
            var spillPlanningModalRef = this.modalService.open(_modals_spill_planning_spillplanning_component__WEBPACK_IMPORTED_MODULE_15__["SpillPlanningComponent"]);
            spillPlanningModalRef.componentInstance.title = 'Spill Planning';
        }
    };
    MapComponent.prototype.setFlowlineSymbology = function (inputString) {
        if (inputString === 'response') {
            if (this.showMost) {
                this.MapService.getFlowLineLayerGroup(this.StudyService.selectedStudy.spillResponseResponse.features, inputString, this.isMetric, 'most');
            }
            else if (this.showMax) {
                this.MapService.getFlowLineLayerGroup(this.StudyService.selectedStudy.spillResponseResponse.features, inputString, this.isMetric, 'max');
            }
        }
        else if (inputString === 'planning') {
            if (this.showMost) {
                this.MapService.getFlowLineLayerGroup(this.StudyService.selectedStudy.spillPlanningResponse.features, inputString, this.isMetric, 'most');
            }
            else if (this.showMax) {
                this.MapService.getFlowLineLayerGroup(this.StudyService.selectedStudy.spillPlanningResponse.features, inputString, this.isMetric, 'max');
            }
        }
    };
    MapComponent.prototype.sm = function (msg, mType, title, timeout) {
        if (mType === void 0) { mType = _shared_messageType__WEBPACK_IMPORTED_MODULE_3__["INFO"]; }
        try {
            var options = null;
            if (timeout) {
                options = { timeOut: timeout };
            }
            this.messager.show(msg, title, options, mType);
        }
        catch (e) {
        }
    };
    MapComponent.prototype.message = function (msg, type, title, timeout) {
        try {
            var options = null;
            if (timeout) {
                options = { timeOut: timeout };
            }
            if (timeout == 0) {
                options = {
                    disableTimeOut: true,
                    timeOut: 0,
                    extendedTimeOut: 0,
                    tapToDismiss: true
                };
            }
            if (type === 'warning') {
                this.messager.warning(msg, title, options);
            }
            else if (type === 'error') {
                this.messager.error(msg, title, options);
            }
        }
        catch (e) {
        }
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)
    ], MapComponent.prototype, "report", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
    ], MapComponent.prototype, "mapSize", void 0);
    MapComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: "tot-map",
            template: __webpack_require__(/*! ./map.component.html */ "./src/app/modules/core/components/map/map.component.html"),
            styles: [__webpack_require__(/*! ./map.component.scss */ "./src/app/modules/core/components/map/map.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_map_service__WEBPACK_IMPORTED_MODULE_4__["MapService"], _services_spillplanning_service__WEBPACK_IMPORTED_MODULE_13__["SpillPlanningService"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"], _services_navigationservices_service__WEBPACK_IMPORTED_MODULE_8__["NavigationService"], ngx_toastr__WEBPACK_IMPORTED_MODULE_2__["ToastrService"], _services_study_service__WEBPACK_IMPORTED_MODULE_7__["StudyService"], _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_9__["NWISService"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_14__["NgbModal"], _services_nldiservices_service__WEBPACK_IMPORTED_MODULE_16__["NLDIService"], _services_chart_service__WEBPACK_IMPORTED_MODULE_5__["ChartService"]])
    ], MapComponent);
    return MapComponent;
}(_shared_extensions_object_DeepCopy__WEBPACK_IMPORTED_MODULE_6__["deepCopy"]));



/***/ }),

/***/ "./src/app/modules/core/components/map/map.module.ts":
/*!***********************************************************!*\
  !*** ./src/app/modules/core/components/map/map.module.ts ***!
  \***********************************************************/
/*! exports provided: MapModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapModule", function() { return MapModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _map_map_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../map/map.component */ "./src/app/modules/core/components/map/map.component.ts");
/* harmony import */ var _asymmetrik_ngx_leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @asymmetrik/ngx-leaflet */ "./node_modules/@asymmetrik/ngx-leaflet/dist/index.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");






var MapModule = /** @class */ (function () {
    function MapModule() {
    }
    MapModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [_map_map_component__WEBPACK_IMPORTED_MODULE_2__["MapComponent"]],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_4__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormsModule"],
                _asymmetrik_ngx_leaflet__WEBPACK_IMPORTED_MODULE_3__["LeafletModule"]
            ],
            exports: [
                _map_map_component__WEBPACK_IMPORTED_MODULE_2__["MapComponent"]
            ]
        })
    ], MapModule);
    return MapModule;
}());



/***/ }),

/***/ "./src/app/modules/core/components/modals/configuration/configuration.component.html":
/*!*******************************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/configuration/configuration.component.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-wrapper\">\r\n\t<div class=\"modal-box\">\r\n\t\t<!-- Header -->\r\n\t\t<div class=\"modal-top\">\r\n\t\t\t<div class=\"title\">Configure units</div>\r\n\t\t\t<div class=\"close-modal\" (click)=\"activeModal.dismiss()\">\r\n\t\t\t\t<i class=\"far fa-times\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Main content -->\r\n\t\t<div class=\"modal-middle\">\r\n\r\n\t\t\t<form form #myForm=\"ngForm\" id=\"configForm\">\r\n\t\t\t\t<!-- Select Distance -->\r\n\t\t\t\t<div class=\"modal-form-row\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tSelect distance\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t\t<input [(ngModel)]=\"this.StudyService.distance\" placeholder=\"value\" name=\"Select distance\"\r\n\t\t\t\t\t\t\ttype=number ngControl=\"distance\" required autocomplete=\"off\">\r\n\t\t\t\t \t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- Select Units -->\r\n\t\t\t\t<div class=\"modal-form-row\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tSelect units\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t\t<span *ngFor=\"let item of units; let i = index\" class=\"modal-form-row\">\r\n\t\t\t\t\t\t\t<input type=\"radio\" id=\"configUnits{{i}}\" name=\"Units\" (change)=\"setUnits(i);\" [checked]=\"item.isactive\" />\r\n\t\t\t\t\t\t\t<label for=\"configUnits{{i}}\">{{item.name}} ({{item.units}})</label>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\r\n\t\t\t</form>\r\n\r\n\r\n\t\t</div>\r\n\t\t<!-- Footer -->\r\n\t\t<div class=\"modal-buttons center\">\r\n\t\t\t<button class=\"blue\" (click)=\"activeModal.dismiss()\">\r\n\t\t\t\t<span>Done</span>\r\n\t\t\t</button>\r\n\t  </div>\r\n\t</div>\r\n</div>\r\n\r\n\r\n      "

/***/ }),

/***/ "./src/app/modules/core/components/modals/configuration/configuration.component.scss":
/*!*******************************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/configuration/configuration.component.scss ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".map-layer-check input[type=radio] {\n  -webkit-appearance: radio;\n  height: 30px;\n  line-height: 30px;\n  vertical-align: bottom;\n  width: 30px;\n}\n\n.map-layer-check label {\n  display: block;\n  font-size: 20px;\n  margin: 0 auto;\n  width: 150px;\n}\n\n.map-layer-check label {\n  width: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbW9kYWxzL2NvbmZpZ3VyYXRpb24vQzpcXFVzZXJzXFx0Z3Jvc3NcXHdpbS5naXRodWJcXFRyYXZlbFRpbWUvc3JjXFxhcHBcXG1vZHVsZXNcXGNvcmVcXGNvbXBvbmVudHNcXG1vZGFsc1xcY29uZmlndXJhdGlvblxcY29uZmlndXJhdGlvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbW9kYWxzL2NvbmZpZ3VyYXRpb24vY29uZmlndXJhdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2NvcmUvY29tcG9uZW50cy9tb2RhbHMvY29uZmlndXJhdGlvbi9jb25maWd1cmF0aW9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hcC1sYXllci1jaGVjayBpbnB1dFt0eXBlPVwicmFkaW9cIl0ge1xyXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogcmFkaW87XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAzMHB4O1xyXG4gIHZlcnRpY2FsLWFsaWduOiBib3R0b207XHJcbiAgd2lkdGg6IDMwcHg7XHJcbn1cclxuXHJcbi5tYXAtbGF5ZXItY2hlY2sgbGFiZWwge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBtYXJnaW46IDAgYXV0bztcclxuICB3aWR0aDogMTUwcHg7XHJcbn1cclxuXHJcbi5tYXAtbGF5ZXItY2hlY2sgbGFiZWwge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcbiIsIi5tYXAtbGF5ZXItY2hlY2sgaW5wdXRbdHlwZT1yYWRpb10ge1xuICAtd2Via2l0LWFwcGVhcmFuY2U6IHJhZGlvO1xuICBoZWlnaHQ6IDMwcHg7XG4gIGxpbmUtaGVpZ2h0OiAzMHB4O1xuICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xuICB3aWR0aDogMzBweDtcbn1cblxuLm1hcC1sYXllci1jaGVjayBsYWJlbCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LXNpemU6IDIwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB3aWR0aDogMTUwcHg7XG59XG5cbi5tYXAtbGF5ZXItY2hlY2sgbGFiZWwge1xuICB3aWR0aDogMTAwJTtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/modules/core/components/modals/configuration/configuration.component.ts":
/*!*****************************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/configuration/configuration.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: ConfigurationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfigurationComponent", function() { return ConfigurationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var _shared_extensions_number_toUSGSValue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/extensions/number.toUSGSValue */ "./src/app/shared/extensions/number.toUSGSValue.ts");
/* harmony import */ var _shared_extensions_number_toUSGSValue__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_shared_extensions_number_toUSGSValue__WEBPACK_IMPORTED_MODULE_5__);






var ConfigurationComponent = /** @class */ (function () {
    function ConfigurationComponent(config, activeModal, studyservice) {
        this.activeModal = activeModal;
        this.studyservice = studyservice;
        this.unit = [];
        // customize default values of modals used by this component tree
        config.backdrop = 'static';
        config.keyboard = false;
        this.StudyService = studyservice;
        this.distance = this.StudyService.distance;
        this.units = this.StudyService.units;
    }
    ConfigurationComponent.prototype.ngOnInit = function () {
        this.formGroup = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroup"]({
            activeEndDate: new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](new Date(), { validators: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required] })
        }, { updateOn: 'change' });
        this.unit.push(' (kilometers)');
        this.unit.push(' (miles)');
    };
    //#endregion
    //#region "Methods"
    ConfigurationComponent.prototype.setUnits = function (indx) {
        var _this = this;
        var j = 0;
        this.distance = this.StudyService.distance;
        var initialDist = this.distance; // initial distance no reference
        this.units.forEach(function (i) {
            if (indx === j) {
                i.isactive = true;
            }
            else {
                i.isactive = false;
            }
            if (i.isactive) {
                if (i.name === 'imperial') {
                    _this.distance = initialDist * 0.621371; // to miles
                    _this.StudyService.setUnits(i.name);
                }
                else {
                    _this.distance = initialDist * 1.60934; // to km
                    _this.StudyService.setUnits(i.name);
                }
            }
            else { }
            _this.distance = _this.distance.toUSGSvalue();
            _this.StudyService.distance = _this.distance;
            j += 1;
        });
    };
    ConfigurationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-configuration',
            template: __webpack_require__(/*! ./configuration.component.html */ "./src/app/modules/core/components/modals/configuration/configuration.component.html"),
            styles: [__webpack_require__(/*! ./configuration.component.scss */ "./src/app/modules/core/components/modals/configuration/configuration.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModalConfig"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"], _services_study_service__WEBPACK_IMPORTED_MODULE_4__["StudyService"]])
    ], ConfigurationComponent);
    return ConfigurationComponent;
}());



/***/ }),

/***/ "./src/app/modules/core/components/modals/gages/gages.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/gages/gages.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-wrapper\">\r\n  <div class=\"modal-box\">\r\n    <!-- Header -->\r\n    <div class=\"modal-top\">\r\n      <div class=\"title\">Streamgages were found</div>\r\n      <div class=\"close-modal\" (click)=\"activeModal.dismiss()\">\r\n        <i class=\"far fa-times\"></i>\r\n      </div>\r\n    </div>\r\n    <!-- Main content -->\r\n    <div class=\"modal-middle\" id=\"gageList\">\r\n\r\n      <div *ngFor=\"let data of gagesArray; index as i\" [ngClass]=\"{'inactive-gage': data.status === 'Inactive', 'active-gage': data.status === 'Active'}\">\r\n        <ngb-accordion #acc=\"ngbAccordion\"  type=\"light\" class=\"gage-modal-list\">\r\n          <ngb-panel title=\"{{data.name}} ({{data.status}})\" id=\"ngb-panel-{{i}}\"> <!--[ngStyle]=\"{'background-color':data.status === 'Active' ? 'green' : 'black' }\"-->\r\n            <ng-template ngbPanelContent>\r\n\t\t\t\t<div class=\"gage-list-body\">\r\n\t\t\t\t\t<div><span>Source:</span><b>{{data.source}}</b></div>\r\n\t\t\t\t\t<div><span>Identifier:</span><b>{{data.identifier}}</b></div>\r\n\t\t\t\t\t<div><span>Name:</span><b>{{data.name}}</b></div>\r\n\t\t\t\t\t<div><span>Comid:</span><b>{{data.comid}}</b></div>\r\n\t\t\t\t\t<div><span>Navigation url:</span><b><a href=\"{{data.navigation}}\" target=\"_blank\">{{data.navigation}}</a></b></div>\r\n\t\t\t\t\t<div><span>Nwis url:</span><b><a href=\"{{data.uri}}\" target=\"_blank\">{{data.uri}}</a></b></div>\r\n\t\t\t\t\t<div><span>Flow value:</span><b *ngIf=\"data.value && data.value === '-999999'\">{{ data.value}}</b><b *ngIf=\"data.value && data.value !== '-999999' && !StudyService.isMetric()\">{{ data.value + ' ' + units.discharge }}</b><b *ngIf=\"data.value && data.value !== '-999999' && StudyService.isMetric()\">{{(data.value * 0.028).toUSGSvalue() + ' ' + units.discharge}}</b><b *ngIf=\"!data.value\">No Data</b></div> <!--Need to check for ice conditions and label as such-->\r\n\t\t\t\t\t<div></div>\r\n\t\t\t\t\t<div><b>{{data.record}}</b></div>\r\n\t\t\t\t\t<div><span>Drainage area:</span><b *ngIf=\"data.drainagearea\">{{StudyService.isMetric() ? (data.drainagearea * 2.58999).toUSGSvalue() : data.drainagearea}} {{units.drnarea}}</b><sup>2</sup><b *ngIf=\"!data.drainagearea\">N/A</b></div> <!--coverts drainage area to square kilometers if metric units are chosen-->\r\n\t\t\t\t</div>\r\n            </ng-template>\r\n          </ngb-panel>\r\n        </ngb-accordion>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- Footer -->\r\n    <div class=\"modal-buttons center\">\r\n      <button class=\"blue\" (click)=\"activeModal.dismiss()\">\r\n        <span>Done</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/modules/core/components/modals/gages/gages.component.scss":
/*!***************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/gages/gages.component.scss ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29yZS9jb21wb25lbnRzL21vZGFscy9nYWdlcy9nYWdlcy5jb21wb25lbnQuc2NzcyJ9 */"

/***/ }),

/***/ "./src/app/modules/core/components/modals/gages/gages.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/gages/gages.component.ts ***!
  \*************************************************************************/
/*! exports provided: GagesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GagesComponent", function() { return GagesComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/nwisservices.service */ "./src/app/modules/core/services/nwisservices.service.ts");
/* harmony import */ var _models_gages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../models/gages */ "./src/app/modules/core/models/gages.ts");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/study.service */ "./src/app/modules/core/services/study.service.ts");







var GagesComponent = /** @class */ (function () {
    function GagesComponent(activeModal, MapService, NWISService, StudyService) {
        this.activeModal = activeModal;
        this.MapService = MapService;
        this.NWISService = NWISService;
        this.StudyService = StudyService;
        this.gagesArray = [];
        this.newSessionGages = [];
        this.units = { discharge: "", drnarea: "" };
        this.MapService = MapService;
        this.NWISService = NWISService;
        this.StudyService = StudyService;
    }
    GagesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.NWISService.gagesArray.subscribe(function (data) {
            data.forEach(function (r) {
                var gage = new _models_gages__WEBPACK_IMPORTED_MODULE_5__["gages"](r);
                _this.newSessionGages.push(gage);
            });
            _this.gagesArray = _this.newSessionGages;
            //Outputs console error, we need to move this part to fill in gage data before we open modal
            _this.gagesArray.forEach(function (r) {
                var siteid = r.identifier.split('-')[1];
                _this.NWISService.getStatus(siteid).subscribe(function (result) {
                    console.log('getting status');
                    if (result) {
                        r.status = "Inactive";
                    }
                    else {
                        r.status = "Active";
                    }
                    console.log('status before error');
                }), function (error) {
                    r.status = "Inactive";
                };
                if (r.status !== "Active") {
                    r.status = "Inactive";
                }
            });
        });
        if (this.StudyService.isMetric()) {
            this.units.discharge = 'cms';
            this.units.drnarea = 'km';
        }
        else {
            this.units.discharge = 'cfs';
            this.units.drnarea = 'mi';
        }
    };
    GagesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-gages',
            template: __webpack_require__(/*! ./gages.component.html */ "./src/app/modules/core/components/modals/gages/gages.component.html"),
            styles: [__webpack_require__(/*! ./gages.component.scss */ "./src/app/modules/core/components/modals/gages/gages.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"], _services_map_service__WEBPACK_IMPORTED_MODULE_3__["MapService"], _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_4__["NWISService"], _services_study_service__WEBPACK_IMPORTED_MODULE_6__["StudyService"]])
    ], GagesComponent);
    return GagesComponent;
}());



/***/ }),

/***/ "./src/app/modules/core/components/modals/report/report.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/report/report.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n<div class=\"modal-wrapper\" id=\"print-content\">\r\n\t<div class=\"modal-box wide\">\r\n\t\t<!-- Header -->\r\n\t\t<div class=\"modal-top\">\r\n\t\t\t<div class=\"title\">Spill Report Summary</div>\r\n\t\t\t<div class=\"close-modal\" (click)=\"activeModal.dismiss()\">\r\n\t\t\t\t<i class=\"far fa-times\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Main content -->\r\n\t\t<div class=\"modal-middle\" id=\"printArea\">\r\n\r\n\t\t\t<!-- Instructions -->\r\n\t\t\t<p class=\"hidden-print\">Enter a report title and/or comments here that will display on the printed report. Use the print button below.</p>\r\n\r\n\t\t\t<!-- Report Title -->\r\n\t\t\t<div class=\"modal-form-row hidden-print\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\tReport title:\r\n\t\t\t\t</label>\r\n\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t<input class=\"hidden-print\" [(ngModel)]=\"reportTitle\" type=\"text\">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- Comments -->\r\n\t\t\t<div class=\"modal-form-row hidden-print\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\tComments:\r\n\t\t\t\t</label>\r\n\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t<input [(ngModel)]=\"reportComments\" type=\"text\" height=\"4em\">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Space -->\r\n\t\t\t<div class=\"space30 hidden-print\"></div>\r\n\r\n\r\n\t\t\t<!-- Actual Report -->\r\n\t\t\t<h2 class=\"report-title\">{{reportTitle}}</h2>\r\n\r\n\t\t\t<!-- Map -->\r\n\t\t\t<div>\r\n\t\t\t\t<div *ngIf=\"StudyService.ReportOptions[0].checked\" id=\"div1\">\r\n\t\t\t\t\t<tot-map id=\"mapWrapper\" [report]=\"true\" style=\"position: relative; display:block;\"></tot-map>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<!-- Comments -->\r\n\t\t\t<div *ngIf=\"reportComments\">\r\n\t\t\t\t<p>{{reportComments}}</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!--Tables-->\t\t\t\r\n\t\t\t<div *ngIf=\"StudyService.ReportOptions[1].checked\">\r\n\t\t\t\t<div *ngIf=\"StudyService.selectedStudy.MethodType === 'response'\">\r\n\t\t\t\t\t<h4>Most Probable</h4>\r\n\t\t\t\t\t<table id=\"MostProbTablePrint\" class=\"data-table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th style=\"text-align: center; border-bottom: 1px solid rgba(0,0,0,0.5);\" class=\"single-line\">Travel time after spill</th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" >\r\n\t\t\t\t\t\t\t\t<th rowspan=\"2\" vertical-align=\"center\">Reach ID</th>\r\n\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(mg/L)</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" style=\" vertical-align: center; text-align: center;\">\r\n\t\t\t\t\t\t\t\t<th class=\"hidden-print\"></th>\r\n\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t\t<th>C<sub>t</sub></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\">\r\n\t\t\t\t\t\t\t\t<td>{{reach.name}}</td>\r\n\t\t\t\t\t\t\t\t<ng-container *ngFor=\"let pars of reach.parameters\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Discharge at time of measurement'\">\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Drainage area'\">\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? pars.value : (pars.value / 1000000) }}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Cumulative Distance'\">\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{ !StudyService.isMetric() ? pars.value : (pars.value / 1000).toUSGSvalue() }}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t\t\t<ng-container>\r\n\t\t\t\t\t\t\t\t\t<!-- if the key is equal to v - this is av speed, else it is vmax-->\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.result.equations.v.value}}</td>\r\n\t\t\t\t\t\t\t\t\t<td title=\"{{reach.result.tracer_Response.leadingEdge.MostProbable.date}}\">{{toDecimals(reach.result.tracer_Response.leadingEdge.MostProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\" title=\"{{reach.result.tracer_Response.leadingEdge.MostProbable.date}}\">{{toDecimals(reach.result.tracer_Response.peakConcentration.MostProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\" title=\"{{reach.result.tracer_Response.leadingEdge.MostProbable.date}}\">{{toDecimals(reach.result.tracer_Response.trailingEdge.MostProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.result.tracer_Response.peakConcentration.MostProbable.concentration}}</td>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t<div class=\"hidden-data\" style=\"display:none;\">\r\n\r\n\t\t\t\t\t\t<table id=\"MostProbTableDL\" class=\"data-table\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>Reach ID</th>\r\n\t\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Peak concentration<br />(mg/L)</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th class=\"hidden-print\"></th>\r\n\t\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>C<sub>t</sub></th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\">\r\n\t\t\t\t\t\t\t\t\t<td>{{reach.name}}</td>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngFor=\"let pars of reach.parameters\">\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Discharge at time of measurement'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Drainage area'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? pars.value : (pars.value / 1000000) }}</td>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Cumulative Distance'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? pars.value : (pars.value / 1000).toUSGSvalue() }}</td>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t\t\t\t<ng-container>\r\n\t\t\t\t\t\t\t\t\t\t<!-- if the key is equal to v - this is av speed, else it is vmax-->\r\n\t\t\t\t\t\t\t\t\t\t<td>{{reach.result.equations.v.value}}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.leadingEdge.MostProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.peakConcentration.MostProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.trailingEdge.MostProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{reach.result.tracer_Response.peakConcentration.MostProbable.concentration}}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<h4>Maximum Probable</h4>\r\n\t\t\t\t\t<table id=\"MaxProbTablePrint\" class=\"data-table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th style=\"text-align: center; border-bottom: 1px solid rgba(0,0,0,0.5);\" class=\"single-line\">Travel time after spill</th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" >\r\n\t\t\t\t\t\t\t\t<th rowspan=\"2\" vertical-align=\"center\">Reach ID</th>\r\n\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(mg/L)</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" style=\" vertical-align: center; text-align: center;\">\r\n\t\t\t\t\t\t\t\t<th class=\"hidden-print\"></th>\r\n\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t\t<th>C<sub>t</sub></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\">\r\n\t\t\t\t\t\t\t\t<td>{{reach.name}}</td>\r\n\t\t\t\t\t\t\t\t<ng-container *ngFor=\"let pars of reach.parameters\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Discharge at time of measurement'\">\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Drainage area'\">\r\n\t\t\t\t\t\t\t\t\t\t<td>{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Cumulative Distance'\">\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t\t\t<ng-container>\r\n\t\t\t\t\t\t\t\t\t<!-- if the key is equal to v - this is av speed, else it is vmax-->\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.result.equations.vmax.value}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\" title=\"{{reach.result.tracer_Response.leadingEdge.MaximumProbable.date}}\">{{toDecimals(reach.result.tracer_Response.leadingEdge.MaximumProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\" title=\"{{reach.result.tracer_Response.leadingEdge.MaximumProbable.date}}\">{{toDecimals(reach.result.tracer_Response.peakConcentration.MaximumProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\" title=\"{{reach.result.tracer_Response.leadingEdge.MaximumProbable.date}}\">{{toDecimals(reach.result.tracer_Response.trailingEdge.MaximumProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.result.tracer_Response.peakConcentration.MaximumProbable.concentration}}</td>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table> \r\n\t\t\t\t\t<div class=\"hidden-data\" style=\"display:none;\">\r\n\t\t\t\t\t\t<table id=\"MaxProbTableDL\" class=\"data-table\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>Reach ID</th>\r\n\t\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Peak concentration<br />(mg/L)</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th class=\"hidden-print\"></th>\r\n\t\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>C<sub>t</sub></th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\">\r\n\t\t\t\t\t\t\t\t\t<td>{{reach.name}}</td>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngFor=\"let pars of reach.parameters\">\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Discharge at time of measurement'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Drainage area'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name === 'Cumulative Distance'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{{pars.value}}</td>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t\t\t\t<ng-container>\r\n\t\t\t\t\t\t\t\t\t\t<!-- if the key is equal to v - this is av speed, else it is vmax-->\r\n\t\t\t\t\t\t\t\t\t\t<td>{{reach.result.equations.vmax.value}}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.leadingEdge.MaximumProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.peakConcentration.MaximumProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{toDecimals(reach.result.tracer_Response.trailingEdge.MaximumProbable.cumTime)}}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{reach.result.tracer_Response.peakConcentration.MaximumProbable.concentration}}</td>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"StudyService.selectedStudy.MethodType === 'planning'\">\r\n\t\t\t\t\t<h4>Most Probable</h4>\r\n\t\t\t\t\t<table id=\"MostProbTablePrint\" class=\"data-table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th style=\"text-align: center; border-bottom: 1px solid rgba(0,0,0,0.5);\">Travel time to POI</th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" >\r\n\t\t\t\t\t\t\t\t<th rowspan=\"2\" vertical-align=\"center\">Reach ID</th>\r\n\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" style=\" vertical-align: center; text-align: center;\">\r\n\t\t\t\t\t\t\t\t<th class=\"hidden-print\"></th>\r\n\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\">\r\n\t\t\t\t\t\t\t\t<td>{{reach.properties.nhdplus_comid}}</td>\r\n\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.properties.RTDischarge}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? reach.properties.DrainageArea : (reach.properties.DrainageArea) }}</td>\r\n\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{ !StudyService.isMetric() ? reach.properties.Length : (reach.properties.Length).toUSGSvalue() }}</td>\r\n\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.properties.VelocityMost}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutl).toUSGSvalue()}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutot).toUSGSvalue()}}</td>\t\r\n\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutd10).toUSGSvalue()}}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t<div class=\"hidden-data\" style=\"display:none;\">\r\n\r\n\t\t\t\t\t\t<table id=\"MostProbTableDL\" class=\"data-table\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t\t<th style=\"text-align: center; border-bottom: 1px solid rgba(0,0,0,0.5);\">Travel time to POI</th>\r\n\t\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>Reach ID</th>\r\n\t\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th class=\"hidden-print\"></th>\r\n\t\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\">\r\n\t\t\t\t\t\t\t\t\t<td>{{reach.properties.nhdplus_comid}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{reach.properties.RTDischarge}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? reach.properties.DrainageArea : (reach.properties.DrainageArea) }}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? reach.properties.Length : (reach.properties.Length).toUSGSvalue() }}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{reach.properties.VelocityMax}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutlmax).toUSGSvalue()}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutotmax).toUSGSvalue()}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutd10max).toUSGSvalue()}}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<h4>Maximum Probable</h4>\r\n\t\t\t\t\t<table id=\"MaxProbTablePrint\" class=\"data-table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th style=\"text-align: center; border-bottom: 1px solid rgba(0,0,0,0.5);\">Travel time to POI</th>\r\n\t\t\t\t\t\t\t\t<th style=\"border-bottom: 1px solid rgba(0,0,0,0.5);\"></th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" >\r\n\t\t\t\t\t\t\t\t<th rowspan=\"2\" vertical-align=\"center\">Reach ID</th>\r\n\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr class=\"th-border-bottom\" style=\" vertical-align: center; text-align: center;\">\r\n\t\t\t\t\t\t\t\t<th class=\"hidden-print\"></th>\r\n\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\">\r\n\t\t\t\t\t\t\t\t<td>{{reach.properties.nhdplus_comid}}</td>\r\n\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.properties.RTDischarge}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? reach.properties.DrainageArea : (reach.properties.DrainageArea) }}</td>\r\n\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{ !StudyService.isMetric() ? reach.properties.Length : (reach.properties.Length).toUSGSvalue() }}</td>\r\n\t\t\t\t\t\t\t\t<td style=\"text-align: center;\">{{reach.properties.VelocityMax}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutlmax).toUSGSvalue()}}</td>\r\n\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutotmax).toUSGSvalue()}}</td>\t\r\n\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutd10max).toUSGSvalue()}}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table> \r\n\t\t\t\t\t<div class=\"hidden-data\" style=\"display:none;\">\r\n\t\t\t\t\t\t<table id=\"MaxProbTableDL\" class=\"data-table\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th>Reach ID</th>\r\n\t\t\t\t\t\t\t\t\t<th>Discharge<br />({{ !StudyService.isMetric() ? 'cfs' : 'cms' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Drainage area<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }}<sup>2</sup>)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Distance<br />({{ !StudyService.isMetric() ? 'mi' : 'km' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Reach Velocity<br />({{ !StudyService.isMetric() ? 'ft/s' : 'm/s' }})</th>\r\n\t\t\t\t\t\t\t\t\t<th>Leading edge<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t\t<th>Trailing edge at 10% peak concentration<br />(hours)</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th class=\"hidden-print\"></th>\r\n\t\t\t\t\t\t\t\t\t<th>Q</th>\r\n\t\t\t\t\t\t\t\t\t<th>D<sub>a</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>L</th>\r\n\t\t\t\t\t\t\t\t\t<th>V</th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>l</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>p</sub></th>\r\n\t\t\t\t\t\t\t\t\t<th>T<sub>d10</sub></th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr *ngFor=\"let reach of output$; let i = index\">\r\n\t\t\t\t\t\t\t\t\t<td>{{reach.properties.nhdplus_comid}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{reach.properties.RTDischarge}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? reach.properties.DrainageArea : (reach.properties.DrainageArea) }}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{ !StudyService.isMetric() ? reach.properties.Length : (reach.properties.Length).toUSGSvalue() }}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{reach.properties.VelocityMax}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutlmax).toUSGSvalue()}}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutotmax).toUSGSvalue()}}</td>\t\r\n\t\t\t\t\t\t\t\t\t<td>{{(reach.properties.accutd10max).toUSGSvalue()}}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Graph -->\r\n\t\t\t<div *ngIf=\"StudyService.ReportOptions.length > 2\">\r\n\t\t\t\t<div *ngIf=\"StudyService.ReportOptions[2].checked\">\r\n\t\t\t\t\t<tot-appcharts></tot-appcharts>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Citations -->\r\n\t\t\t<div class=\"citations-table\">\r\n\t\t\t\t<h4>Citations</h4>\r\n\t\t\t\t<a href=\"https://pubs.usgs.gov/of/1996/4013\" class=\"citation\">\r\n\t\t\t\t\tJobson, H.E., 1996, Prediction of traveltime and longitudinal dispersion in rivers and streams: U.S. Geological Survey Water-Resources Investigations Report 964013, 69 p.; https://pubs.usgs.gov/of/1996/4013.\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class=\"space10\"></div>\r\n\t\t\t\t<p class=\"disclaimer\">\r\n\t\t\t\t\tUSGS Data Disclaimer: Unless otherwise stated, all data, metadata and related materials are considered to satisfy the quality standards relative to the purpose for which the data were collected.\r\n\t\t\t\t\tAlthough these data and associated metadata have been reviewed for accuracy and completeness and approved for release by the U.S. Geological Survey (USGS), no warranty expressed or implied is made regarding the display or utility of the data for other purposes, nor on all computer systems, nor shall the act of distribution constitute any such warranty.\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"disclaimer\">\r\n\t\t\t\t\tUSGS Software Disclaimer: This software has been approved for release by the U.S. Geological Survey (USGS). Although the software has been subjected to rigorous review, the USGS reserves the right to update the software as needed pursuant to further analysis and review.\r\n\t\t\t\t\tNo warranty, expressed or implied, is made by the USGS or the U.S. Government as to the functionality of the software and related material nor shall the fact of release constitute any such warranty. Furthermore, the software is released on condition that neither the USGS nor the U.S. Government shall be held liable for any damages resulting from its authorized or unauthorized use.\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"disclaimer\">\r\n\t\t\t\t\tUSGS Product Names Disclaimer: Any use of trade, firm, or product names is for descriptive purposes only and does not imply endorsement by the U.S. Government.\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Footer -->\r\n\t\t<div class=\"modal-buttons space-around\">\r\n\r\n\t\t\t<!-- Close Modal -->\r\n\t\t\t<button class=\"icon-button white\" (click)=\"closeModal(); activeModal.dismiss()\">\r\n\t\t\t\t<i class=\"far fa-times\"></i>\r\n\t\t\t\t<span>Close</span>\r\n\t\t\t</button>\r\n\r\n\r\n\t\t\t<!-- Downloads -->\r\n\t\t\t<div id=\"reportModalDownloadButtons\">\r\n\t\t\t\t<!-- Download -->\r\n\t\t\t\t<button ngbDropdownItem (click)=\"downloadGeoJSON()\">Download GeoJSON</button>\r\n\t\t\t\t<button *ngIf=\"StudyService.ReportOptions[1].checked\" ngbDropdownItem (click)=\"downloadCSV()\">Download CSV</button>\r\n\r\n\t\t\t\t<!--Print-->\r\n\t\t\t\t<button class=\"icon-button blue\" (click)=\"onPrint()\">\r\n\t\t\t\t\t<i class=\"far fa-print\"></i>\r\n\t\t\t\t\t<span>Print</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/modules/core/components/modals/report/report.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/report/report.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".table,\n.citations-table {\n  padding: 9px;\n  border-radius: 3px;\n  font-size: x-small;\n  margin-bottom: 20px;\n  border: 1px solid #e3e3e3;\n}\n\n#div2 {\n  display: inline-block;\n  margin-left: 20px;\n}\n\n.citations-table .citation {\n  font-size: 14px;\n  line-height: 15px;\n  margin-bottom: 10px;\n  display: block;\n  color: #0B53D7;\n}\n\n.citations-table .disclaimer {\n  padding: 0;\n  margin-bottom: 10px;\n  font-size: 11px;\n  line-height: 12px;\n}\n\n#map_container {\n  height: auto;\n  width: auto;\n  margin-bottom: 1em;\n}\n\n.citation {\n  color: #0071bc;\n  font-weight: 600;\n  font-size: small;\n  cursor: pointer;\n}\n\n@media print {\n  body * {\n    visibility: hidden;\n  }\n\n  #printArea, #printArea * {\n    visibility: visible !important;\n  }\n\n  html, body {\n    overflow: visible !important;\n  }\n\n  #printArea {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: auto;\n  }\n\n  .modal-box {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    margin: 0;\n    padding: 0;\n  }\n\n  .modal-wrapper {\n    display: block;\n    height: fit-content;\n    left: 0;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n  }\n\n  .hidden-print {\n    display: none !important;\n  }\n\n  .print-only {\n    display: block;\n  }\n\n  #print-content * {\n    visibility: visible;\n  }\n\n  .modal {\n    /**Remove scrollbar for printing.**/\n    overflow: visible !important;\n    /**Needs to be relative for printing in IE11**/\n    position: absolute;\n    left: 0;\n    top: 0;\n    margin: 0;\n    padding-right: 20px;\n    min-height: 550px;\n    visibility: visible;\n  }\n\n  .modal-dialog {\n    width: 100%;\n    padding: 0;\n    margin: 20px;\n    visibility: visible !important;\n    /**Remove scrollbar for printing.**/\n    overflow: visible !important;\n  }\n\n  .modal-footer {\n    border-top: 0;\n  }\n\n  .leaflet-control-container {\n    display: none !important;\n  }\n\n  .page_break {\n    float: none !important;\n    position: relative;\n    page-break-after: always;\n  }\n\n  .chart {\n    overflow-x: unset;\n    width: 100%;\n  }\n\n  .identifier {\n    padding-bottom: 2em;\n  }\n}\n\n@media print and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /* IE10+ CSS styles go here */\n  .modal {\n    /**Needs to be relative for printing in IE11**/\n    position: relative;\n  }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbW9kYWxzL3JlcG9ydC9DOlxcVXNlcnNcXHRncm9zc1xcd2ltLmdpdGh1YlxcVHJhdmVsVGltZS9zcmNcXGFwcFxcbW9kdWxlc1xcY29yZVxcY29tcG9uZW50c1xcbW9kYWxzXFxyZXBvcnRcXHJlcG9ydC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbW9kYWxzL3JlcG9ydC9yZXBvcnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7O0VBRUMsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0FDQUQ7O0FESUE7RUFDRSxxQkFBQTtFQUNBLGlCQUFBO0FDREY7O0FEUUM7RUFDQyxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxjQUFBO0FDTEY7O0FEUUM7RUFDQyxVQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUNORjs7QURXQztFQUNFLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7QUNSSDs7QURhQztFQUNDLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ1ZGOztBRGdCQTtFQUVDO0lBQ08sa0JBQUE7RUNkTjs7RURnQkQ7SUFDQyw4QkFBQTtFQ2JBOztFRGVEO0lBQ0MsNEJBQUE7RUNaQTs7RURjRDtJQUNDLGtCQUFBO0lBQ0EsT0FBQTtJQUNBLE1BQUE7SUFDQSxXQUFBO0lBQ0EsWUFBQTtFQ1hBOztFRGFEO0lBQ0MsV0FBQTtJQUNBLGtCQUFBO0lBQ0EsTUFBQTtJQUNBLE9BQUE7SUFDQSxTQUFBO0lBQ0EsVUFBQTtFQ1ZBOztFRGFEO0lBQ0MsY0FBQTtJQUNBLG1CQUFBO0lBQ0EsT0FBQTtJQUNBLFNBQUE7SUFDQSxVQUFBO0lBQ0Esa0JBQUE7RUNWQTs7RURlRDtJQUNDLHdCQUFBO0VDWkE7O0VEY0Q7SUFDQyxjQUFBO0VDWEE7O0VEYUQ7SUFDQyxtQkFBQTtFQ1ZBOztFRFlEO0lBQ0MsbUNBQUE7SUFDQSw0QkFBQTtJQUNBLDhDQUFBO0lBQ0Esa0JBQUE7SUFDQSxPQUFBO0lBQ0EsTUFBQTtJQUNBLFNBQUE7SUFDQSxtQkFBQTtJQUNBLGlCQUFBO0lBQ0EsbUJBQUE7RUNUQTs7RURXRDtJQUNDLFdBQUE7SUFDQSxVQUFBO0lBQ0EsWUFBQTtJQUNBLDhCQUFBO0lBQ0EsbUNBQUE7SUFDQSw0QkFBQTtFQ1JBOztFRFVEO0lBQ0MsYUFBQTtFQ1BBOztFRFNEO0lBQ0Msd0JBQUE7RUNOQTs7RURRRDtJQUNDLHNCQUFBO0lBQ0Esa0JBQUE7SUFDQSx3QkFBQTtFQ0xBOztFRFFEO0lBQ0MsaUJBQUE7SUFDQSxXQUFBO0VDTEE7O0VEUUQ7SUFDQyxtQkFBQTtFQ0xBO0FBQ0Y7O0FEUUE7RUFDRSw2QkFBQTtFQUNBO0lBQ0ksOENBQUE7SUFDQSxrQkFBQTtFQ05KO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2NvcmUvY29tcG9uZW50cy9tb2RhbHMvcmVwb3J0L3JlcG9ydC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRhYmxlc1xyXG4udGFibGUsXHJcbi5jaXRhdGlvbnMtdGFibGUge1xyXG5cdHBhZGRpbmc6IDlweDtcclxuXHRib3JkZXItcmFkaXVzOiAzcHg7IFxyXG5cdGZvbnQtc2l6ZTp4LXNtYWxsO1xyXG5cdG1hcmdpbi1ib3R0b206IDIwcHg7XHJcblx0Ym9yZGVyOiAxcHggc29saWQgI2UzZTNlMztcclxufVxyXG5cclxuXHJcbiNkaXYyIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbn1cclxuXHJcbi8vIENpdGF0aW9ucyBhbmQgRGlzY2xhaW1lcnNcclxuLmNpdGF0aW9ucy10YWJsZXtcclxuXHJcblx0Ly8gQWN0dWFsIGNpdGF0YXRpb24gKDxhPiBUYWcpXHJcblx0LmNpdGF0aW9ue1xyXG5cdFx0Zm9udC1zaXplOiAxNHB4O1xyXG5cdFx0bGluZS1oZWlnaHQ6IDE1cHg7XHJcblx0XHRtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG5cdFx0ZGlzcGxheTogYmxvY2s7XHJcblx0XHRjb2xvcjogIzBCNTNENztcclxuXHR9XHJcblxyXG5cdC5kaXNjbGFpbWVyIHtcclxuXHRcdHBhZGRpbmc6IDA7XHJcblx0XHRtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG5cdFx0Zm9udC1zaXplOiAxMXB4O1xyXG5cdFx0bGluZS1oZWlnaHQ6IDEycHg7XHJcblx0fVxyXG59XHJcblxyXG5cclxuICNtYXBfY29udGFpbmVyIHtcclxuICAgaGVpZ2h0OiBhdXRvO1xyXG4gICB3aWR0aDogYXV0bztcclxuICAgbWFyZ2luLWJvdHRvbTogMWVtO1xyXG4gfVxyXG5cclxuXHJcbiBcclxuIC5jaXRhdGlvbiB7XHJcbiAgY29sb3I6IzAwNzFiYztcclxuICBmb250LXdlaWdodDo2MDA7XHJcbiAgZm9udC1zaXplOiBzbWFsbDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiB9XHJcblxyXG5cclxuXHJcbi8vICBQcmludCBTdHlsZXNcclxuQG1lZGlhIHByaW50e1xyXG5cdFxyXG5cdGJvZHkgKiB7XHJcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgfVxyXG5cdCNwcmludEFyZWEsICNwcmludEFyZWEgKiB7XHJcblx0XHR2aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7XHJcblx0fVxyXG5cdGh0bWwsYm9keXtcclxuXHRcdG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XHJcblx0fVxyXG5cdCNwcmludEFyZWEge1xyXG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xyXG5cdFx0bGVmdDogMDtcclxuXHRcdHRvcDogMDtcclxuXHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0aGVpZ2h0OiBhdXRvO1xyXG5cdH1cclxuXHQubW9kYWwtYm94e1xyXG5cdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0XHR0b3A6IDA7XHJcblx0XHRsZWZ0OiAwO1xyXG5cdFx0bWFyZ2luOiAwO1xyXG5cdFx0cGFkZGluZzogMDtcclxuXHR9XHJcblxyXG5cdC5tb2RhbC13cmFwcGVye1xyXG5cdFx0ZGlzcGxheTogYmxvY2s7XHJcblx0XHRoZWlnaHQ6IGZpdC1jb250ZW50O1xyXG5cdFx0bGVmdDogMDtcclxuXHRcdG1hcmdpbjogMDtcclxuXHRcdHBhZGRpbmc6IDA7XHJcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0fVxyXG5cclxuXHQgIFxyXG5cdFxyXG5cdC5oaWRkZW4tcHJpbnQge1xyXG5cdFx0ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xyXG5cdH1cclxuXHQucHJpbnQtb25seSB7XHJcblx0XHRkaXNwbGF5OiBibG9jaztcclxuXHR9XHJcblx0I3ByaW50LWNvbnRlbnQgKiB7XHJcblx0XHR2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG5cdH1cclxuXHQubW9kYWx7XHJcblx0XHQvKipSZW1vdmUgc2Nyb2xsYmFyIGZvciBwcmludGluZy4qKi9cclxuXHRcdG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XHJcblx0XHQvKipOZWVkcyB0byBiZSByZWxhdGl2ZSBmb3IgcHJpbnRpbmcgaW4gSUUxMSoqL1xyXG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xyXG5cdFx0bGVmdDogMDtcclxuXHRcdHRvcDogMDtcclxuXHRcdG1hcmdpbjogMDtcclxuXHRcdHBhZGRpbmctcmlnaHQ6MjBweDtcclxuXHRcdG1pbi1oZWlnaHQ6NTUwcHg7XHJcblx0XHR2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG5cdH1cclxuXHQubW9kYWwtZGlhbG9nIHtcclxuXHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0cGFkZGluZzogMDtcclxuXHRcdG1hcmdpbjoyMHB4O1xyXG5cdFx0dmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50O1xyXG5cdFx0LyoqUmVtb3ZlIHNjcm9sbGJhciBmb3IgcHJpbnRpbmcuKiovXHJcblx0XHRvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xyXG5cdH1cclxuXHQubW9kYWwtZm9vdGVyIHtcclxuXHRcdGJvcmRlci10b3A6MDtcclxuXHR9XHJcblx0LmxlYWZsZXQtY29udHJvbC1jb250YWluZXJ7XHJcblx0XHRkaXNwbGF5OiBub25lIWltcG9ydGFudDtcclxuXHR9XHJcblx0LnBhZ2VfYnJlYWsge1xyXG5cdFx0ZmxvYXQ6IG5vbmUgIWltcG9ydGFudDtcclxuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHRcdHBhZ2UtYnJlYWstYWZ0ZXI6IGFsd2F5cztcclxuXHR9XHJcblxyXG5cdC5jaGFydCB7XHJcblx0XHRvdmVyZmxvdy14OiB1bnNldDtcclxuXHRcdHdpZHRoOiAxMDAlO1xyXG5cdH1cclxuXHJcblx0LmlkZW50aWZpZXIge1xyXG5cdFx0cGFkZGluZy1ib3R0b206IDJlbTtcclxuXHR9XHJcbn1cclxuXHJcbkBtZWRpYSBwcmludCBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OiBub25lKSwgKC1tcy1oaWdoLWNvbnRyYXN0OiBhY3RpdmUpIHtcclxuICAvKiBJRTEwKyBDU1Mgc3R5bGVzIGdvIGhlcmUgKi9cclxuICAubW9kYWwge1xyXG4gICAgICAvKipOZWVkcyB0byBiZSByZWxhdGl2ZSBmb3IgcHJpbnRpbmcgaW4gSUUxMSoqL1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4iLCIudGFibGUsXG4uY2l0YXRpb25zLXRhYmxlIHtcbiAgcGFkZGluZzogOXB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGZvbnQtc2l6ZTogeC1zbWFsbDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2UzZTNlMztcbn1cblxuI2RpdjIge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xufVxuXG4uY2l0YXRpb25zLXRhYmxlIC5jaXRhdGlvbiB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgbGluZS1oZWlnaHQ6IDE1cHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBjb2xvcjogIzBCNTNENztcbn1cbi5jaXRhdGlvbnMtdGFibGUgLmRpc2NsYWltZXIge1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBmb250LXNpemU6IDExcHg7XG4gIGxpbmUtaGVpZ2h0OiAxMnB4O1xufVxuXG4jbWFwX2NvbnRhaW5lciB7XG4gIGhlaWdodDogYXV0bztcbiAgd2lkdGg6IGF1dG87XG4gIG1hcmdpbi1ib3R0b206IDFlbTtcbn1cblxuLmNpdGF0aW9uIHtcbiAgY29sb3I6ICMwMDcxYmM7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuQG1lZGlhIHByaW50IHtcbiAgYm9keSAqIHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIH1cblxuICAjcHJpbnRBcmVhLCAjcHJpbnRBcmVhICoge1xuICAgIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcbiAgfVxuXG4gIGh0bWwsIGJvZHkge1xuICAgIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XG4gIH1cblxuICAjcHJpbnRBcmVhIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMDtcbiAgICB0b3A6IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICB9XG5cbiAgLm1vZGFsLWJveCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG5cbiAgLm1vZGFsLXdyYXBwZXIge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XG4gICAgbGVmdDogMDtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIH1cblxuICAuaGlkZGVuLXByaW50IHtcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gIH1cblxuICAucHJpbnQtb25seSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICAjcHJpbnQtY29udGVudCAqIHtcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICB9XG5cbiAgLm1vZGFsIHtcbiAgICAvKipSZW1vdmUgc2Nyb2xsYmFyIGZvciBwcmludGluZy4qKi9cbiAgICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xuICAgIC8qKk5lZWRzIHRvIGJlIHJlbGF0aXZlIGZvciBwcmludGluZyBpbiBJRTExKiovXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDA7XG4gICAgdG9wOiAwO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xuICAgIG1pbi1oZWlnaHQ6IDU1MHB4O1xuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gIH1cblxuICAubW9kYWwtZGlhbG9nIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMjBweDtcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlICFpbXBvcnRhbnQ7XG4gICAgLyoqUmVtb3ZlIHNjcm9sbGJhciBmb3IgcHJpbnRpbmcuKiovXG4gICAgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5tb2RhbC1mb290ZXIge1xuICAgIGJvcmRlci10b3A6IDA7XG4gIH1cblxuICAubGVhZmxldC1jb250cm9sLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICB9XG5cbiAgLnBhZ2VfYnJlYWsge1xuICAgIGZsb2F0OiBub25lICFpbXBvcnRhbnQ7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHBhZ2UtYnJlYWstYWZ0ZXI6IGFsd2F5cztcbiAgfVxuXG4gIC5jaGFydCB7XG4gICAgb3ZlcmZsb3cteDogdW5zZXQ7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuaWRlbnRpZmllciB7XG4gICAgcGFkZGluZy1ib3R0b206IDJlbTtcbiAgfVxufVxuQG1lZGlhIHByaW50IGFuZCAoLW1zLWhpZ2gtY29udHJhc3Q6IG5vbmUpLCAoLW1zLWhpZ2gtY29udHJhc3Q6IGFjdGl2ZSkge1xuICAvKiBJRTEwKyBDU1Mgc3R5bGVzIGdvIGhlcmUgKi9cbiAgLm1vZGFsIHtcbiAgICAvKipOZWVkcyB0byBiZSByZWxhdGl2ZSBmb3IgcHJpbnRpbmcgaW4gSUUxMSoqL1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxufSJdfQ== */"

/***/ }),

/***/ "./src/app/modules/core/components/modals/report/report.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/report/report.component.ts ***!
  \***************************************************************************/
/*! exports provided: ReportComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportComponent", function() { return ReportComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm5/angulartics2.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var src_app_shared_extensions_object_DeepCopy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/extensions/object.DeepCopy */ "./src/app/shared/extensions/object.DeepCopy.ts");
/* harmony import */ var _services_navigationservices_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/navigationservices.service */ "./src/app/modules/core/services/navigationservices.service.ts");









var ReportComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ReportComponent, _super);
    function ReportComponent(config, NavigationService, activeModal, studyservice, mapservice, angulartics2) {
        var _this = _super.call(this) || this;
        _this.NavigationService = NavigationService;
        _this.activeModal = activeModal;
        _this.angulartics2 = angulartics2;
        _this._layers = [];
        _this.closed = false;
        _this.reportTitle = 'Time of Travel Report';
        _this.reportComments = '';
        //#endregion
        _this.optionsSpec = {
            layers: [{ url: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', attribution: 'Open Street Map' }],
            zoom: 5,
            center: [46.879966, -121.726909]
        };
        config.backdrop = 'static';
        config.keyboard = false;
        _this.StudyService = studyservice;
        _this.MapService = mapservice;
        _this.angulartics2.eventTrack.next({
            action: 'myAction',
            properties: { category: 'myCategory' }
        });
        _this.NavigationService.navigationGeoJSON$.subscribe(function (data) {
            _this.reachesGeoJson = data;
        });
        return _this;
    }
    Object.defineProperty(ReportComponent.prototype, "output$", {
        get: function () {
            if (this.StudyService.GetWorkFlow('totResults')) {
                return (this.reaches);
            }
            else {
                return;
            }
        },
        enumerable: true,
        configurable: true
    });
    ReportComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.MapService.LayersControl.subscribe(function (data) {
            _this._layersControl = {
                baseLayers: data.baseLayers.reduce(function (acc, ml) {
                    acc[ml.name] = ml.layer;
                    return acc;
                }, {}),
                overlays: data.overlays.reduce(function (acc, ml) { acc[ml.name] = ml.layer; return acc; }, {})
            };
        });
        // method to filter out layers by visibility
        this.MapService.LayersControl.subscribe(function (data) {
            var activelayers = data.overlays
                .filter(function (l) { return l.visible; })
                .map(function (l) { return l.layer; });
            activelayers.unshift(data.baseLayers.find(function (l) { return (l.visible); }).layer);
            _this._layers = activelayers;
        });
        this.units = this.MapService.unitsOptions;
        this.abbrev = this.MapService.abbrevOptions;
        if (this.StudyService.selectedStudy.MethodType === "response") {
            var reachesCopy = this.deepCopy(this.StudyService.selectedStudy.Results['reaches']);
            var reachList = Object.values(reachesCopy);
            reachList.shift(); // remove first element (one without results)  
            this.checkUnits(reachList);
        }
        else { // planning method
            this.reaches = this.StudyService.selectedStudy.Reaches;
        }
    };
    ReportComponent.prototype.toDecimals = function (timeval) {
        return (moment__WEBPACK_IMPORTED_MODULE_6__["duration"](timeval).asHours().toFixed(4));
    };
    ReportComponent.prototype.onMapReady = function (map) {
        map.invalidateSize();
    };
    ReportComponent.prototype.onZoomChange = function (zoom) {
        this.MapService.CurrentZoomLevel.next(zoom);
        // this.sm("Zoom changed to " + zoom);
    };
    ReportComponent.prototype.onMouseClick = function (evnt) {
        this.evnt = evnt.latlng;
    };
    ReportComponent.prototype.onPrint = function () {
        window.print();
    };
    ReportComponent.prototype.downloadCSV = function () {
        var _this = this;
        this.angulartics2.eventTrack.next({ action: 'Download', properties: { category: 'Report', label: 'CSV' } });
        var filename = 'data.csv';
        var processTables = function () {
            var finalVal = 'Traveltime Results\n';
            finalVal += 'Units\n' + _this.tableToCSV($('#UnitTable'));
            finalVal += '\nMost Probable\n' + _this.tableToCSV($('#MostProbTableDL'));
            finalVal += '\nMaximum Probable\n' + _this.tableToCSV($('#MaxProbTableDL'));
            return finalVal + '\r\n';
        };
        // main file header with site information
        var csvFile = 'Traveltime Report\n\n' + 'Spill Mass of ' + this.StudyService.selectedStudy.SpillMass + ' occurring ' + this.StudyService.selectedStudy.SpillDate + '\nLocated at ' + this.StudyService.selectedStudy.LocationOfInterest.lat + '\, ' + this.StudyService.selectedStudy.LocationOfInterest.lng + '\n';
        // first write main parameter table
        csvFile += processTables();
        // download
        var blob = new Blob([csvFile], { type: 'text/csv;charset=utf-8;' });
        if (navigator.msSaveBlob) { // IE 10+
            navigator.msSaveBlob(blob, filename);
        }
        else {
            var link = document.createElement('a');
            var url = URL.createObjectURL(blob);
            if (link.download !== undefined) { // feature detection
                // Browsers that support HTML5 download attribute
                link.setAttribute('href', url);
                link.setAttribute('download', filename);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
            else {
                window.open(url);
            }
        }
    };
    ReportComponent.prototype.downloadGeoJSON = function () {
        var fc = this.StudyService.selectedStudy.Results;
        this.reachesGeoJson['features'].forEach(function (o) {
            for (var key in fc['reaches']) {
                if (o.properties.nhdplus_comid === fc['reaches'][key].name) {
                    o.properties['result'] = fc['reaches'][key];
                }
            }
        });
        var GeoJSON = JSON.stringify(this.reachesGeoJson);
        var filename = 'data.geojson.txt';
        var blob = new Blob([GeoJSON], { type: 'text/csv;charset=utf-8;' });
        if (navigator.msSaveBlob) { // IE 10+
            navigator.msSaveBlob(blob, filename);
        }
        else {
            var link = document.createElement('a');
            var url = URL.createObjectURL(blob);
            if (link.download !== undefined) { // feature detection
                // Browsers that support HTML5 download attribute
                link.setAttribute('href', url);
                link.setAttribute('download', filename);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
            else {
                window.open(url);
            }
        }
    };
    ReportComponent.prototype.tableToCSV = function ($table) {
        // tslint:disable-next-line: one-variable-per-declaration
        var $headers = $table.find('tr:has(th)'), $rows = $table.find('tr:has(td)')
        // Temporary delimiter characters unlikely to be typed by keyboard
        // This is to avoid accidentally splitting the actual contents
        , tmpColDelim = String.fromCharCode(11) // vertical tab character
        , tmpRowDelim = String.fromCharCode(0) // null character
        // actual delimiter characters for CSV format
        , colDelim = '";"', rowDelim = '"\r\n"';
        // Grab text from table into CSV formatted string
        var csv = '"';
        csv += formatRows($headers.map(grabRow));
        csv += rowDelim;
        csv += formatRows($rows.map(grabRow)) + '"';
        return csv;
        // ------------------------------------------------------------
        // Helper Functions
        // ------------------------------------------------------------
        // Format the output so it has the appropriate delimiters
        function formatRows(rows) {
            return rows.get().join(tmpRowDelim)
                .split(tmpRowDelim).join(rowDelim)
                .split(tmpColDelim).join(colDelim);
        }
        // Grab and format a row from the table
        function grabRow(i, row) {
            var $row = $(row);
            // for some reason $cols = $row.find('td') || $row.find('th') won't work...
            var $cols = $row.find('td');
            if (!$cols.length)
                $cols = $row.find('th');
            return $cols.map(grabCol)
                .get().join(tmpColDelim);
        }
        // Grab and format a column from the table
        function grabCol(j, col) {
            // tslint:disable-next-line: one-variable-per-declaration
            var $col = $(col), $text = $col.text();
            return $text.replace('"', '""'); // escape double quotes
        }
    };
    ReportComponent.prototype.checkUnits = function (reaches) {
        if (!this.StudyService.isMetric()) {
            var tempreaches = [];
            for (var i = 0; i < reaches.length; i++) {
                var newreach = reaches[i]; // copy jobson output for reach i to newreach
                newreach.parameters[1].value = (reaches[i].parameters[1].value * 35.314666212661).toUSGSvalue(); // real-time discharge from cms to cfs
                newreach.parameters[0].value = (reaches[i].parameters[0].value * 35.314666212661).toUSGSvalue(); // mean annual discharge from cms to cfs
                newreach.parameters[3].value = (reaches[i].parameters[3].value * 0.00000038610215855).toUSGSvalue(); // drainage area from square meters to square miles
                newreach.parameters[4].value = (reaches[i].parameters[4].value * 0.00062137).toUSGSvalue(); // length from meters to miles
                if (newreach.parameters[6]) {
                    newreach.parameters[6].value = (reaches[i].parameters[6].value * 0.00062137).toUSGSvalue();
                } // cumulative length from meters to miles
                if (newreach.parameters[7]) {
                    newreach.parameters[7].value = (reaches[i].parameters[7].value * 0.0000022046).toUSGSvalue();
                } // spill mass from milligrams to pounds
                newreach.parameters[0].unit.unit = this.units.imperial['discharge']; // mean annual discharge
                newreach.parameters[0].unit.abbr = this.abbrev.imperial['discharge'];
                newreach.parameters[1].unit.unit = this.units.imperial['discharge']; // real-time discharge
                newreach.parameters[1].unit.abbr = this.abbrev.imperial['discharge'];
                newreach.parameters[2].unit.unit = this.units.imperial['slope']; // slope
                newreach.parameters[2].unit.abbr = this.abbrev.imperial['slope'];
                newreach.parameters[3].unit.unit = this.units.imperial['drainageArea']; // drainage area
                newreach.parameters[3].unit.abbr = this.abbrev.imperial['drainageArea'];
                newreach.parameters[4].unit.unit = this.units.imperial['distance']; // reach length
                newreach.parameters[4].unit.abbr = this.abbrev.imperial['distance'];
                if (newreach.parameters[6]) {
                    newreach.parameters[6].unit.unit = this.units.imperial['distance'];
                } // cumulative length
                if (newreach.parameters[6]) {
                    newreach.parameters[6].unit.abbr = this.abbrev.imperial['distance'];
                }
                if (newreach.parameters[7]) {
                    newreach.parameters[7].unit.unit = this.units.imperial['concentration'];
                } // spill mass
                if (newreach.parameters[7]) {
                    newreach.parameters[7].unit.abbr = this.abbrev.imperial['concentration'];
                }
                newreach.result.equations.vmax.value = (reaches[i].result.equations.vmax.value * 3.2808399).toUSGSvalue(); // m/s to ft/s
                newreach.result.equations.v.value = (reaches[i].result.equations.v.value * 3.2808399).toUSGSvalue(); // m/s to ft/s
                newreach.result.equations.vmax.units = this.abbrev.imperial['velocity'];
                newreach.result.equations.v.units = this.abbrev.imperial['velocity'];
                tempreaches.push(newreach);
                console.log(i);
            }
            this.StudyService.selectedStudy.SpillMass = (this.StudyService.selectedStudy.SpillMass * 0.453592).toUSGSvalue();
            this.reaches = tempreaches;
            console.log(this.reaches);
        }
        else {
            this.reaches = reaches;
        } // keep existing metric units
    };
    ReportComponent.prototype.printElement = function (elem) {
        var domClone = elem.cloneNode(true);
        var $printSection = document.getElementById('printSection');
        if (!$printSection) {
            var $print = document.createElement('div');
            $print.id = 'printSection';
            document.body.appendChild($print);
        }
        $printSection.innerHTML = '';
        $printSection.appendChild(domClone);
        window.print();
    };
    ReportComponent.prototype.closeModal = function () {
        this.MapService.LayersControl.next(this.MapService._layersControl);
        this.closed = true;
    };
    ReportComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'tot-report',
            template: __webpack_require__(/*! ./report.component.html */ "./src/app/modules/core/components/modals/report/report.component.html"),
            styles: [__webpack_require__(/*! ./report.component.scss */ "./src/app/modules/core/components/modals/report/report.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModalConfig"], _services_navigationservices_service__WEBPACK_IMPORTED_MODULE_8__["NavigationService"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"], _services_study_service__WEBPACK_IMPORTED_MODULE_3__["StudyService"], _services_map_service__WEBPACK_IMPORTED_MODULE_4__["MapService"], angulartics2__WEBPACK_IMPORTED_MODULE_5__["Angulartics2"]])
    ], ReportComponent);
    return ReportComponent;
}(src_app_shared_extensions_object_DeepCopy__WEBPACK_IMPORTED_MODULE_7__["deepCopy"]));



/***/ }),

/***/ "./src/app/modules/core/components/modals/report/report.module.ts":
/*!************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/report/report.module.ts ***!
  \************************************************************************/
/*! exports provided: ReportModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportModule", function() { return ReportModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _asymmetrik_ngx_leaflet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @asymmetrik/ngx-leaflet */ "./node_modules/@asymmetrik/ngx-leaflet/dist/index.js");
/* harmony import */ var _map_map_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../map/map.module */ "./src/app/modules/core/components/map/map.module.ts");
/* harmony import */ var _report_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./report.component */ "./src/app/modules/core/components/modals/report/report.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _appcharts_appcharts_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../appcharts/appcharts.module */ "./src/app/modules/core/components/appcharts/appcharts.module.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");










var ReportModule = /** @class */ (function () {
    function ReportModule() {
    }
    ReportModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [_report_component__WEBPACK_IMPORTED_MODULE_4__["ReportComponent"]],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_5__["CommonModule"],
                _map_map_module__WEBPACK_IMPORTED_MODULE_3__["MapModule"],
                _asymmetrik_ngx_leaflet__WEBPACK_IMPORTED_MODULE_2__["LeafletModule"],
                _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__["NgbModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"],
                _appcharts_appcharts_module__WEBPACK_IMPORTED_MODULE_8__["AppChartsModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_9__["BrowserModule"]
            ],
            entryComponents: [_report_component__WEBPACK_IMPORTED_MODULE_4__["ReportComponent"]],
            exports: [
                _report_component__WEBPACK_IMPORTED_MODULE_4__["ReportComponent"]
            ]
        })
    ], ReportModule);
    return ReportModule;
}());



/***/ }),

/***/ "./src/app/modules/core/components/modals/spill-planning/spillplanning.component.html":
/*!********************************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/spill-planning/spillplanning.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-wrapper\">\r\n\t<div class=\"modal-box\">\t\t\r\n\t\t<!-- Header -->\r\n\t\t<div class=\"modal-top\">\r\n\t\t\t<div class=\"title\">Spill Planning</div>\r\n\t\t\t<div class=\"close-modal\" (click)=\"activeModal.dismiss()\">\r\n\t\t\t\t<i class=\"far fa-times\"></i>\r\n\t\t\t\t{{firstReachDischarge()}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Main content -->\r\n\t\t<div class=\"modal-middle\">\r\n\t\r\n\t\t\t<form #myForm=\"ngForm\">\r\n\t\t\t\t<!-- Discharge -->\r\n\t\t\t\t<div class=\"modal-form-row\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tDischarge\r\n\t\t\t\t\t\t<small>({{this.StudyService.defDischarge}}):</small>\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t<div class=\"row-input row-input-horizontal button-right\">\r\n\t\t\t\t\t\t<input [(ngModel)]=\"Discharge\" (ngModelChange)=\"validateInputs();\" type=number required placeholder=\"Enter discharge\" name=\"discharge\" class=\"form-control input-styled\">\r\n\t\t\t\t\t\t<button type=\"button\" class=\"simple-button\" id=\"response\" [hidden]=\"!ShowGages\" (click)=\"openGagesModal()\" style=\"margin-top: 5px;\">\r\n\t\t\t\t\t\t\t<i [ngClass]=\"!ShowGages ? 'far fa-sync fa-spin' : 'far fa-map-marker-alt'\"></i>&nbsp;View Gages\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"modal-form-row\">\r\n\t\t\t\t\t<label></label>\r\n\t\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t\t<small>(Mean annual flow of nearest reach: {{FirstReachDischarge}} {{this.StudyService.isMetric() === true ? 'cms' : 'cfs'}})</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t</form>\r\n\r\n\t\t\t</div>\r\n\t\t\t<!-- Footer -->\r\n\t\t\t<div class=\"modal-buttons space-around\">\r\n\t\t\t\t<!--needs to be positioned on the right of the modal-->\r\n\t\t\t\t<button [disabled]=\"validateInputs()\" class=\"icon-button blue\" (click)=\"setDischarge(); getResults();\">\r\n\t\t\t\t\t<i class=\"fas fa-long-arrow-right\"></i>\r\n\t\t\t\t\t<span>Get Results</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n\r\n\r\n"

/***/ }),

/***/ "./src/app/modules/core/components/modals/spill-planning/spillplanning.component.scss":
/*!********************************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/spill-planning/spillplanning.component.scss ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".jobsons-toggles .jobsons-delete {\n  color: #ED1515;\n  opacity: 0.4;\n  font-size: 16px;\n  transition: 0.2s;\n  transform: scale(0.75);\n}\n.jobsons-toggles .jobsons-delete:hover {\n  opacity: 1;\n  transform: scale(1);\n  transition: 0.2s;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbW9kYWxzL3NwaWxsLXBsYW5uaW5nL0M6XFxVc2Vyc1xcdGdyb3NzXFx3aW0uZ2l0aHViXFxUcmF2ZWxUaW1lL3NyY1xcYXBwXFxtb2R1bGVzXFxjb3JlXFxjb21wb25lbnRzXFxtb2RhbHNcXHNwaWxsLXBsYW5uaW5nXFxzcGlsbHBsYW5uaW5nLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL2NvcmUvY29tcG9uZW50cy9tb2RhbHMvc3BpbGwtcGxhbm5pbmcvc3BpbGxwbGFubmluZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFlQztFQUNDLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQVZXO0VBV1gsc0JBQUE7QUNkRjtBRGdCRTtFQUNDLFVBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQWhCVTtBQ0ViIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbW9kYWxzL3NwaWxsLXBsYW5uaW5nL3NwaWxscGxhbm5pbmcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBKb2Jzb25zLnNjc3NcclxuLy8gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuLy8gXHJcbi8vIFNwZWNpZmljIHN0eWxlcyBmb3IgY2hhbmdlcyB3aXRoaW4gam9ic29ucyB0b2dnbGVzXHJcbi8vIFxyXG5cclxuJHNhbnM6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIFwiQXBwbGUgQ29sb3IgRW1vamlcIiwgXCJTZWdvZSBVSSBFbW9qaVwiLCBcIlNlZ29lIFVJIFN5bWJvbFwiO1xyXG4vLyBWYXJpYWJsZXNcclxuJGJvcmRlclJhZGl1czogNHB4O1xyXG4kdHJhbnNpdGlvbjogMC4ycztcclxuJHRleHQ6ICMwQzE0MUU7XHJcblxyXG5cclxuLmpvYnNvbnMtdG9nZ2xlc3tcclxuXHJcblx0LmpvYnNvbnMtZGVsZXRle1xyXG5cdFx0Y29sb3I6ICNFRDE1MTU7XHJcblx0XHRvcGFjaXR5OiAwLjQ7XHJcblx0XHRmb250LXNpemU6IDE2cHg7XHJcblx0XHR0cmFuc2l0aW9uOiAkdHJhbnNpdGlvbjtcclxuXHRcdHRyYW5zZm9ybTogc2NhbGUoMC43NSk7XHJcblxyXG5cdFx0Jjpob3ZlcntcclxuXHRcdFx0b3BhY2l0eTogMTtcclxuXHRcdFx0dHJhbnNmb3JtOiBzY2FsZSgxKTtcclxuXHRcdFx0dHJhbnNpdGlvbjogJHRyYW5zaXRpb247XHJcblx0XHR9XHJcblx0fVxyXG5cclxufVxyXG5cclxuIiwiLmpvYnNvbnMtdG9nZ2xlcyAuam9ic29ucy1kZWxldGUge1xuICBjb2xvcjogI0VEMTUxNTtcbiAgb3BhY2l0eTogMC40O1xuICBmb250LXNpemU6IDE2cHg7XG4gIHRyYW5zaXRpb246IDAuMnM7XG4gIHRyYW5zZm9ybTogc2NhbGUoMC43NSk7XG59XG4uam9ic29ucy10b2dnbGVzIC5qb2Jzb25zLWRlbGV0ZTpob3ZlciB7XG4gIG9wYWNpdHk6IDE7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gIHRyYW5zaXRpb246IDAuMnM7XG59Il19 */"

/***/ }),

/***/ "./src/app/modules/core/components/modals/spill-planning/spillplanning.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/spill-planning/spillplanning.component.ts ***!
  \******************************************************************************************/
/*! exports provided: DateTimeValidator, SpillPlanningComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateTimeValidator", function() { return DateTimeValidator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpillPlanningComponent", function() { return SpillPlanningComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _services_traveltimeservices_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/traveltimeservices.service */ "./src/app/modules/core/services/traveltimeservices.service.ts");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _shared_messageType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../shared/messageType */ "./src/app/shared/messageType.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _gages_gages_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../gages/gages.component */ "./src/app/modules/core/components/modals/gages/gages.component.ts");
/* harmony import */ var _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/nwisservices.service */ "./src/app/modules/core/services/nwisservices.service.ts");
/* harmony import */ var _services_spillplanning_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/spillplanning.service */ "./src/app/modules/core/services/spillplanning.service.ts");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_13__);














var DateTimeValidator = function (fc) {
    var date = new Date(fc.value);
    var isValid = !isNaN(date.valueOf());
    return isValid ? null : {
        isValid: {
            valid: false
        }
    };
};
var SpillPlanningComponent = /** @class */ (function () {
    //#endregion
    function SpillPlanningComponent(config, activeModal, traveltimeservice, mapservice, studyservice, tstrservice, modalService, nwisservice, ToTCalculator) {
        var _this = this;
        this.activeModal = activeModal;
        this.modalService = modalService;
        this.nwisservice = nwisservice;
        this.dateModel = new Date();
        this.reachList = [];
        this.inputIsValid = false;
        this.dischargeSub = new rxjs__WEBPACK_IMPORTED_MODULE_9__["BehaviorSubject"](undefined);
        this.reachIDs = [];
        this.model = {};
        this.showhidetitle = 'Show Reaches';
        this.showReaches = true;
        this.gettingResults = false;
        this._recoveryratio = 1;
        this.lastIndex = null;
        this.selectedIndex = null;
        this.currentStep = 0;
        this._dtData = true;
        this._showGages = false;
        // customize default values of modals used by this component tree
        config.backdrop = 'static';
        config.keyboard = false;
        this.TravelTimeService = traveltimeservice;
        this.MapService = mapservice;
        this.NWISService = nwisservice;
        this.NWISService.gages$.subscribe(function (data) {
            _this.gages = data;
        });
        this.StudyService = studyservice;
        this.ToTCalculator = ToTCalculator;
        this.messager = tstrservice;
        this.layerGroup = new leaflet__WEBPACK_IMPORTED_MODULE_13__["FeatureGroup"]([]); // streamLayer
    }
    Object.defineProperty(SpillPlanningComponent.prototype, "SpillMass", {
        //#region "Setters"
        get: function () {
            return this._spillMass;
        },
        set: function (v) {
            this._spillMass = v;
            this.StudyService.selectedStudy.SpillMass = this._spillMass;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillPlanningComponent.prototype, "Discharge", {
        get: function () {
            return this._discharge;
        },
        set: function (v) {
            this._discharge = v;
            this.StudyService.selectedStudy.Discharge = this._discharge;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillPlanningComponent.prototype, "RecoveryRatio", {
        get: function () {
            return this._recoveryratio;
        },
        set: function (v) {
            this._recoveryratio = v;
            this.StudyService.selectedStudy.RecoveryRatio = this._recoveryratio;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillPlanningComponent.prototype, "HasDTData", {
        get: function () {
            return this._dtData;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillPlanningComponent.prototype, "UseDTData", {
        get: function () {
            return this._useDTData;
        },
        set: function (v) {
            this._useDTData = v;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillPlanningComponent.prototype, "ShowGages", {
        get: function () {
            return this._showGages;
        },
        enumerable: true,
        configurable: true
    });
    SpillPlanningComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.units = this.MapService.unitsOptions;
        this.abbrev = this.MapService.abbrevOptions;
        this.formGroup = new _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormGroup"]({
            activeEndDate: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormControl"](new Date(), { validators: [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required, DateTimeValidator] })
        }, { updateOn: 'change' });
        this.NWISService.gagesArray.subscribe(function (data) {
            if (typeof (data) != 'undefined') {
                _this.MapService.showGages.subscribe(function (data) {
                    _this._showGages = data;
                });
            }
        });
    };
    //#region "Gages"
    SpillPlanningComponent.prototype.openGagesModal = function () {
        var modalConfig = this.modalService.open(_gages_gages_component__WEBPACK_IMPORTED_MODULE_10__["GagesComponent"]);
        modalConfig.componentInstance.title = 'Gages';
    };
    //#endregion
    SpillPlanningComponent.prototype.log = function (val) {
        //console.log(val); 
    };
    SpillPlanningComponent.prototype.validateInputs = function () {
        if (typeof (this.Discharge) === "number") {
            return false;
        }
        else {
            return true;
        }
    };
    SpillPlanningComponent.prototype.firstReachDischarge = function () {
        try {
            if (this.StudyService.isMetric()) {
                if (this.StudyService.selectedStudy.RDP.length > 1) {
                    this.FirstReachDischarge = (this.StudyService.selectedStudy.spillPlanningResponse.features[1].properties.Discharge * 0.028316847).toFixed(2);
                }
                else {
                    this.FirstReachDischarge = (this.StudyService.selectedStudy.spillPlanningResponse.features[0].properties.Discharge * 0.028316847).toFixed(2);
                }
            }
            else {
                if (this.StudyService.selectedStudy.RDP.length > 1) {
                    this.FirstReachDischarge = (this.StudyService.selectedStudy.spillPlanningResponse.features[1].properties.Discharge).toFixed(2);
                }
                else {
                    this.FirstReachDischarge = (this.StudyService.selectedStudy.spillPlanningResponse.features[0].properties.Discharge).toFixed(2);
                }
            }
        }
        catch (ex) {
            console.log(ex);
        }
    };
    //#region "Methods"
    SpillPlanningComponent.prototype.setDischarge = function () {
        var _this = this;
        if (this.StudyService.selectedStudy.spillPlanningResponse.features.length > 0) {
            this.StudyService.selectedStudy.Discharge = this._discharge;
            var ratio_1;
            var cond_1 = false;
            this.StudyService.selectedStudy.spillPlanningResponse.features.forEach(function (i) {
                if (i.properties.nhdplus_comid) {
                    if (!_this.StudyService.isMetric()) { //spillPlanningResponse is in imperial units and must be converted to metric for jobson's equations. User input is in whatever units he/she specifies.
                        if (cond_1) { //user has specified imperial units            
                            i.properties.Discharge = i.properties.Discharge * 0.028316847; // mean annual discharge from cfs to cms
                            i.properties.RTDischarge = (ratio_1 * i.properties.Discharge).toFixed(3);
                        }
                        else {
                            i.properties.RTDischarge = _this._discharge * 0.028316847; // discharge from cfs to cms
                            i.properties.Discharge = i.properties.Discharge * 0.028316847; // mean annual discharge from cfs to cms
                            ratio_1 = (i.properties.RTDischarge / i.properties.Discharge).toFixed(3);
                            cond_1 = true;
                        }
                    }
                    else {
                        if (cond_1) { //user has specified metric units
                            i.properties.Discharge = i.properties.Discharge * 0.028316847; // mean annual discharge from cfs to cms
                            i.properties.RTDischarge = (ratio_1 * i.properties.Discharge).toFixed(3);
                        }
                        else {
                            i.properties.RTDischarge = _this._discharge;
                            i.properties.Discharge = i.properties.Discharge * 0.028316847; // mean annual discharge from cfs to cms
                            ratio_1 = (i.properties.RTDischarge / i.properties.Discharge).toFixed(3);
                            cond_1 = true;
                        }
                    }
                }
            });
            this.StudyService.SetWorkFlow('hasDischarge', true);
        }
        else {
            this.setDischarge();
        }
        this.StudyService.setDischarge(this._discharge);
    };
    SpillPlanningComponent.prototype.ComputeTOT = function () {
        var _this = this;
        this.StudyService.selectedStudy.spillPlanningResponse.features.forEach(function (reach) {
            if (reach.properties.hasOwnProperty("Discharge")) {
                var tot = _this.ToTCalculator.peakTimeofTravel(reach.properties.Length, reach.properties.RTDischarge, reach.properties.Discharge, (reach.properties.DrainageArea * 1000000), 'most', reach.properties.Slope);
                var totmax = _this.ToTCalculator.peakTimeofTravel(reach.properties.Length, reach.properties.RTDischarge, reach.properties.Discharge, (reach.properties.DrainageArea * 1000000), 'max', reach.properties.Slope);
                var tl = _this.ToTCalculator.leadingEdge(reach.properties.Length, reach.properties.RTDischarge, reach.properties.Discharge, (reach.properties.DrainageArea * 1000000), 'most', reach.properties.Slope);
                var tlmax = _this.ToTCalculator.leadingEdge(reach.properties.Length, reach.properties.RTDischarge, reach.properties.Discharge, (reach.properties.DrainageArea * 1000000), 'max', reach.properties.Slope);
                var td10 = _this.ToTCalculator.trailingEdge(reach.properties.Length, reach.properties.RTDischarge, reach.properties.Discharge, (reach.properties.DrainageArea * 1000000), 'most', reach.properties.Slope);
                var td10max = _this.ToTCalculator.trailingEdge(reach.properties.Length, reach.properties.RTDischarge, reach.properties.Discharge, (reach.properties.DrainageArea * 1000000), 'max', reach.properties.Slope);
                reach.properties["T_p"] = tot;
                reach.properties["T_pmax"] = totmax;
                reach.properties["T_l"] = tl;
                reach.properties["T_lmax"] = tlmax;
                reach.properties["T_d10"] = td10 + tl;
                reach.properties["T_d10max"] = td10max + tlmax;
                reach.properties["VelocityMost"] = _this.ToTCalculator.peakVelocity(reach.properties.RTDischarge, reach.properties.Discharge, (reach.properties.DrainageArea * 1000000), 'most', reach.properties.Slope);
                reach.properties["VelocityMax"] = _this.ToTCalculator.peakVelocity(reach.properties.RTDischarge, reach.properties.Discharge, (reach.properties.DrainageArea * 1000000), 'max', reach.properties.Slope);
                reach.properties["touched"] = false;
            }
        });
    };
    SpillPlanningComponent.prototype.accumTOT = function () {
        var _this = this;
        var DA = 0;
        var headCOMID = 0;
        var newDA = 0;
        this.StudyService.selectedStudy.spillPlanningResponse.features.forEach(function (reach) {
            if (reach.properties.hasOwnProperty("Discharge")) {
                newDA = reach.properties.DrainageArea;
                if (newDA > DA) {
                    DA = newDA;
                    headCOMID = reach.properties.nhdplus_comid;
                }
            }
        });
        this.StudyService.selectedStudy.spillPlanningResponse.features.forEach(function (reach) {
            if (reach.properties.nhdplus_comid == headCOMID) {
                reach.properties["accutot"] = reach.properties.T_p;
                reach.properties["accutl"] = reach.properties.T_l;
                reach.properties["accutd10"] = reach.properties.T_d10;
                reach.properties["accutotmax"] = reach.properties.T_pmax;
                reach.properties["accutlmax"] = reach.properties.T_lmax;
                reach.properties["accutd10max"] = reach.properties.T_d10max;
                reach.properties["acculength"] = reach.properties.Length;
                reach.properties.touched = true;
                _this.sumacc(_this.StudyService.selectedStudy.spillPlanningResponse.features, reach);
            }
        });
    };
    SpillPlanningComponent.prototype.sumacc = function (data, prev) {
        var _this = this;
        data.forEach(function (reach) {
            if (reach.properties.ToNode == prev.properties.FromNode && !reach.properties.touched) {
                //if bad data from divergence comes in it is throwing off all calculations creating NaN so we don't those in our accumulations
                if (!isNaN(reach.properties.T_p) && !isNaN(prev.properties.T_p)) {
                    reach.properties.accutot = prev.properties.accutot + reach.properties.T_p;
                    reach.properties.accutotmax = prev.properties.accutotmax + reach.properties.T_pmax;
                    reach.properties.accutl = prev.properties.accutl + reach.properties.T_l;
                    reach.properties.accutlmax = prev.properties.accutlmax + reach.properties.T_lmax;
                    reach.properties.accutd10 = prev.properties.accutd10 + reach.properties.T_d10;
                    reach.properties.accutd10max = prev.properties.accutd10max + reach.properties.T_d10max;
                    reach.properties.acculength = prev.properties.acculength + reach.properties.Length;
                    reach.properties.touched = true;
                    _this.sumacc(data, reach);
                }
                else { //we are still bringing through the NaN values and will correct them at a later point in code
                    reach.properties.accutotmax = reach.properties.T_p;
                    reach.properties.accutl = reach.properties.T_pmax;
                    reach.properties.accutlmax = reach.properties.T_l;
                    reach.properties.accutd10 = reach.properties.T_lmax;
                    reach.properties.accutd10max = reach.properties.T_d10max;
                    reach.properties.acculength = prev.properties.acculength + reach.properties.Length;
                    reach.properties.touched = true;
                    //this.sumacc(data, prev); 
                }
            }
        });
    };
    SpillPlanningComponent.prototype.checkUnits = function () {
        var _this = this;
        this.StudyService.selectedStudy.spillPlanningResponse.features.forEach(function (i) {
            if (!_this.StudyService.isMetric()) {
                i.properties.RTDischarge = (i.properties.RTDischarge * 35.314666212661).toUSGSvalue(); //real-time flow from cms to cfs
                i.properties.Discharge = (i.properties.Discharge * 35.314666212661).toUSGSvalue(); //mean annual flow from cms to cfs
                i.properties.DrainageArea = (i.properties.DrainageArea * 0.38610).toUSGSvalue(); // drainage area from square kilometers to square miles
                i.properties.Length = (i.properties.Length * 0.621371).toUSGSvalue(); // reach length from kilometers to miles
                i.properties.VelocityMost = (i.properties.VelocityMost * 3.28084).toUSGSvalue(); //velocity from m/s to ft/s
                i.properties.VelocityMax = (i.properties.VelocityMax * 3.28084).toUSGSvalue(); //velocity from m/s to ft/s
                i.properties.T_p = (i.properties.T_p * 1).toUSGSvalue(); // rounds values
                i.properties.T_pmax = (i.properties.T_pmax * 1).toUSGSvalue();
                i.properties.accutot = (i.properties.accutot * 1).toUSGSvalue();
                i.properties.accutotmax = (i.properties.accutotmax * 1).toUSGSvalue();
                i.properties.acculength = (i.properties.acculength * 0.621371).toUSGSvalue();
            }
            else { //user has specified metric units
                i.properties.RTDischarge = (i.properties.RTDischarge * 1).toUSGSvalue(); // rounds values
                i.properties.Discharge = (i.properties.Discharge * 1).toUSGSvalue();
                i.properties.DrainageArea = (i.properties.DrainageArea * 1).toUSGSvalue();
                i.properties.Length = (i.properties.Length * 1).toUSGSvalue();
                if (!isNaN(i.properties.VelocityMost)) {
                    i.properties.VelocityMost = (i.properties.VelocityMost * 1).toUSGSvalue();
                    i.properties.VelocityMax = (i.properties.VelocityMax * 1).toUSGSvalue();
                    i.properties.T_p = (i.properties.T_p * 1).toUSGSvalue();
                    i.properties.T_pmax = (i.properties.T_pmax * 1).toUSGSvalue();
                    if (!isNaN(i.properties.accutot)) {
                        i.properties.accutot = (i.properties.accutot * 1).toUSGSvalue();
                        i.properties.accutotmax = (i.properties.accutotmax * 1).toUSGSvalue();
                        i.properties.accutl = (i.properties.accutl * 1).toUSGSvalue();
                        i.properties.accutlmax = (i.properties.accutlmax * 1).toUSGSvalue();
                        i.properties.accutd10 = (i.properties.accutd10 * 1).toUSGSvalue();
                        i.properties.accutd10max = (i.properties.accutd10max * 1).toUSGSvalue();
                        i.properties.acculength = (i.properties.acculength * 1).toUSGSvalue();
                    }
                    else {
                        i.properties.accutot = "N/A";
                        i.properties.accutotmax = "N/A";
                        i.properties.accutl = "N/A";
                        i.properties.accutlmax = "N/A";
                        i.properties.accutd10 = "N/A";
                        i.properties.accutd10max = "N/A";
                        i.properties.acculength = "N/A";
                    }
                }
                else {
                    i.properties.VelocityMost = "N/A";
                    i.properties.VelocityMax = "N/A";
                    i.properties.T_p = "N/A";
                    i.properties.T_pmax = "N/A";
                    i.properties.accutot = "N/A";
                    i.properties.accutotmax = "N/A";
                    i.properties.accutl = "N/A";
                    i.properties.accutlmax = "N/A";
                    i.properties.accutd10 = "N/A";
                    i.properties.accutd10max = "N/A";
                    i.properties.acculength = "N/A";
                }
            }
        });
    };
    SpillPlanningComponent.prototype.validateForm = function (mainForm) {
        //console.log(mainForm.$valid);
        if (mainForm.$valid) {
            return true;
        }
        else {
            return false;
        }
    };
    SpillPlanningComponent.prototype.customTrackBy = function (index, obj) {
        return index;
    };
    SpillPlanningComponent.prototype.beforeChange = function ($event) {
        this.currentStep = +($event.panelId);
    };
    SpillPlanningComponent.prototype.getLabel = function (label) {
        try {
            switch (label) {
                case 'leadingEdge':
                    return 'Leading Edge';
                case 'MostProbable':
                    return 'Most Probable';
                case 'concentration':
                    return 'Concentration';
                case 'time':
                    return 'Time';
                case 'MaximumProbable':
                    return 'Maximum Probable';
                case 'peakConcentration':
                    return 'Peak Concentration';
                case 'trailingEdge':
                    return 'Trailing Edge';
                case 'name':
                    return 'Name';
                case 'description':
                    return 'Description';
            } // end switch
        }
        catch (e) {
            var x = e;
        }
    };
    SpillPlanningComponent.prototype.getResults = function () {
        if (this.dateModel instanceof Date) {
        }
        else {
            this.dateModel = new Date(this.dateModel);
        }
        this.ComputeTOT();
        this.accumTOT();
        this.checkUnits();
        this.StudyService.selectedStudy.Results = this.StudyService.selectedStudy.spillPlanningResponse;
        this.StudyService.SetWorkFlow('totResults', true);
        this.activeModal.dismiss();
        this.MapService.showUpstream.next(true);
        //Set default footer height to half, show buttons to switch
        $('#mapWrapper').attr('class', 'half-map');
        $('body').attr('class', 'half-toast-map');
        $('#mapHeightToggle').attr('class', 'visible');
        this.StudyService.setProcedure(3); // open footer panel;
    };
    SpillPlanningComponent.prototype.identify = function (index, item) {
        return item.id;
    };
    SpillPlanningComponent.prototype.sm = function (msg, mType, title, timeout) {
        if (mType === void 0) { mType = _shared_messageType__WEBPACK_IMPORTED_MODULE_8__["INFO"]; }
        try {
            var options = null;
            if (timeout)
                options = { timeOut: timeout };
            this.messager.show(msg, title, options, mType);
        }
        catch (e) {
        }
    };
    SpillPlanningComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-spillplanning',
            template: __webpack_require__(/*! ./spillplanning.component.html */ "./src/app/modules/core/components/modals/spill-planning/spillplanning.component.html"),
            styles: [__webpack_require__(/*! ./spillplanning.component.scss */ "./src/app/modules/core/components/modals/spill-planning/spillplanning.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModalConfig"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"], _services_traveltimeservices_service__WEBPACK_IMPORTED_MODULE_3__["TravelTimeService"], _services_map_service__WEBPACK_IMPORTED_MODULE_4__["MapService"], _services_study_service__WEBPACK_IMPORTED_MODULE_6__["StudyService"], ngx_toastr__WEBPACK_IMPORTED_MODULE_7__["ToastrService"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModal"], _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_11__["NWISService"], _services_spillplanning_service__WEBPACK_IMPORTED_MODULE_12__["SpillPlanningService"]])
    ], SpillPlanningComponent);
    return SpillPlanningComponent;
}());



/***/ }),

/***/ "./src/app/modules/core/components/modals/spill-response/spill-response.component.html":
/*!*********************************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/spill-response/spill-response.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"!reachesReady\" class=\"modal-wrapper\">\r\n\t<div class=\"modal-box\">\t\t\r\n\t\t<i style=\"margin:auto;\" class='far fa-sync fa-spin'></i>\r\n\t</div>\r\n</div>\r\n\r\n<div *ngIf=\"reachesReady\" class=\"modal-wrapper\">\r\n\t<div class=\"modal-box\">\t\t\r\n\t\t<!-- Header -->\r\n\t\t<div class=\"modal-top\">\r\n\t\t\t<div class=\"title\">Spill Response</div>\r\n\t\t\t<div class=\"close-modal\" (click)=\"activeModal.dismiss()\">\r\n\t\t\t\t<i class=\"far fa-times\"></i>\r\n\t\t\t\t{{updateDischarge()}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Main content -->\r\n\t\t<div class=\"modal-middle\">\r\n\t\r\n\t\t\t<form #myForm=\"ngForm\">\r\n\t\t\t\t<!-- Time of Spill -->\r\n\t\t\t\t<div class=\"modal-form-row\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tTime of Spill:\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div class=\"row-input ri-flex\">\r\n\t\t\t\t\t\t<app-date-time-picker [(ngModel)]=\"dateModel\" name=\"activeEndDate\"></app-date-time-picker>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- Spill Mass -->\r\n\t\t\t\t<div class=\"modal-form-row\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tSpill Mass\r\n\t\t\t\t\t\t<small>({{this.StudyService.defConcentration}}):</small>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t\t<input [(ngModel)]=\"SpillMass\" (ngModelChange)=\"setConc($event);validateInputs();\" type=number required placeholder=\"Enter spill mass\" name=\"spillmass\" class=\"up\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- Recovery Ratio -->\r\n\t\t\t\t<div class=\"modal-form-row\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tRecovery Ratio\r\n\t\t\t\t\t\t<small>({{this.StudyService.defRecoveryRatio}}):</small>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t\t<input [(ngModel)]=\"RecoveryRatio\" (ngModelChange)=\"validateInputs();\" type=number required placeholder=\"Enter a value\" name=\"recoveryratio\" class=\"form-control tight\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- Discharge -->\r\n\t\t\t\t<div class=\"modal-form-row\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tDischarge\r\n\t\t\t\t\t\t<small>({{this.StudyService.defDischarge}}):</small>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div class=\"row-input row-input-horizontal button-right\">\r\n\t\t\t\t\t\t<input [(ngModel)]=\"Discharge\" (ngModelChange)=\"validateInputs();\" type=number required placeholder=\"Enter discharge\" name=\"discharge\" class=\"form-control input-styled\">\r\n\t\t\t\t\t\t<button type=\"button\" class=\"simple-button\" id=\"response\" [hidden]=\"!ShowGages\" (click)=\"openGagesModal()\">\r\n\t\t\t\t\t\t\t<i [ngClass]=\"!ShowGages ? 'far fa-sync fa-spin' : 'far fa-map-marker-alt'\"></i>&nbsp;View Gages\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<!-- View Gages -->\r\n\t\t\t\t<!-- <div class=\"modal-form-row\">\r\n\t\t\t\t\t<label></label>\r\n\t\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> -->\r\n\t\t\t\t<!-- Mean Annual Flow -->\r\n\t\t\t\t<div class=\"modal-form-row\">\r\n\t\t\t\t\t<label></label>\r\n\t\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t\t<small>(Mean annual flow of nearest reach: {{FirstReachDischarge}} {{this.StudyService.isMetric() === true ? 'cms' : 'cfs'}})</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"space20\"></div>\r\n\r\n\t\t\t\t<!-- Dye Tracer Data -->\r\n\t\t\t\t<div *ngIf=\"HasDTData\" class=\"modal-form-row\">\r\n\t\t\t\t\t<div class=\"row-input\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t<small style=\"float:right;\">Use Dye Tracer Velocity Data?&nbsp;&nbsp;<input [(ngModel)]=\"UseDTData\" type=\"checkbox\" name=\"dtdata\"></small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- Add space between inputs and reaches -->\r\n\t\t\t\t<div class=\"space10\"></div>\r\n\r\n\t\t\t\t<!-- Reaches -->\r\n\t\t\t\t<div class=\"toggle-header\" (click)=\"showReaches = !showReaches\">\r\n\t\t\t\t\t<div class=\"text\">Reaches</div>\r\n\t\t\t\t\t<div class=\"icon\">\r\n\t\t\t\t\t\t<i class=\"far\" [ngClass]=\"showReaches ? 'fa-minus-circle' : 'fa-plus-circle'\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- Map Layers Body -->\r\n\t\t\t\t<div class=\"toggle-block remove-bottom-border jobsons-toggles\" [ngClass]=\"{'visible-extend': showReaches}\">\r\n\t\t\t\t\t<div class=\"toggle-block-body\">\r\n\t\t\t\t\t\t<div *ngFor=\"let item of reachList; let i = index; trackBy:identify\" id=\"{{i}}\">\r\n\t\t\t\t\t\t\t<!-- Nested -toggles -->\r\n\t\t\t\t\t\t\t<div class=\"toggle-header nested\" (click)=\"openCloseItem(i)\">\r\n\t\t\t\t\t\t\t\t<div class=\"text\">\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{item.name}} <i [ngClass]=\"!item.parameters.show ? 'far fa-chevron-down' : 'far fa-chevron-up'\"></i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<!--<div class=\"icon jobsons-delete\" (click)=\"removeReach(i)\">\r\n\t\t\t<i class=\"far\" class=\"far fa-trash-alt\"></i>\r\n\t\t</div>-->\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<!-- Nested toggle body -->\r\n\t\t\t\t\t\t\t<div class=\"toggle-block\" [ngClass]=\"{'visible': item.parameters.show}\">\r\n\r\n\t\t\t\t\t\t\t\t<!--Name input-->\r\n\t\t\t\t\t\t\t\t<div *ngFor=\"let k of item | keyvalue;  let it1 = index; trackBy:customTrackBy\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"modal-form-row\" *ngIf=\"k.key === 'name'\">\r\n\t\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\t\t{{getLabel(k.key)}}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input [(ngModel)]=\"k.value\" placeholder=\"Name\" name=\"k.value\" type=\"text\" ngControl=\"value\" ngMaxlength=\"25\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<!--Description input-->\r\n\t\t\t\t\t\t\t\t<div *ngFor=\"let k of item | keyvalue;  let it2 = index; trackBy:customTrackBy\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"modal-form-row\" *ngIf=\"k.key === 'description'\">\r\n\t\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\t\t{{getLabel(k.key)}}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row-input\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input [(ngModel)]=\"k.value\" placeholder=\"value\" name=\"{{k.value}}\" [ngModelOptions]=\"{standalone: true}\" type=\"text\" ngControl=\"value\" ngMaxlength=\"50\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<!--Parameters input-->\r\n\t\t\t\t\t\t\t\t<div *ngFor=\"let pars of item.parameters;  let it3 = index; trackBy:customTrackBy\" class=\"modal-form-row\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"pars.name !== 'Recovery ratio'\" style=\"margin:0px\">\r\n\t\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\t\t{{pars.name}}\r\n\t\t\t\t\t\t\t\t\t\t\t<small>({{pars.unit.unit}}):</small>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div *ngIf=\"i === currentStep; else disable\" class=\"row-input\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span *ngIf=\"pars.required === true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input [(ngModel)]=\"item.parameters[it3].value\" placeholder=\"value\" name=\"{{pars.name}}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=number ngControl=\"value\" required autocomplete=\"off\">\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span *ngIf=\"pars.required === false\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input [(ngModel)]='item.parameters[it3].value' placeholder=\"value\" name=\"{{pars.name}}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=number ngControl=\"value\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<ng-template #disable>\r\n\t\t\t\t\t\t\t\t\t\t\t<span *ngIf=\"pars.required === true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input [value]='item.parameters[it3].value' placeholder=\"value\" name=\"{{pars.name}}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=number ngControl=\"value\" required autocomplete=\"off\">\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span *ngIf=\"pars.required === false\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input [value]='item.parameters[it3].value' placeholder=\"value\" name=\"{{pars.name}}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=number ngControl=\"value\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t</div> <!-- End Nested toggle body-->\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> <!-- End toggle block body -->\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\r\n\t\t\t</div>\r\n\t\t\t<!-- Footer -->\r\n\t\t\t<div class=\"modal-buttons space-around\">\r\n\t\t\t\t<button *ngIf=\"mylist !== null\" class=\"icon-button white\" (click)=\"onClick_clear()\">\r\n\t\t\t\t\t<i class=\"far fa-trash-alt\"></i>\r\n\t\t\t\t\t<span>Clear</span>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<button [disabled]=\"validateInputs()\" class=\"icon-button blue\" (click)=\"setParameters(); getResults();\">\r\n\t\t\t\t\t<i [ngClass]=\"gettingResults ? 'far fa-sync fa-spin' : 'fas fa-long-arrow-right'\"></i>\r\n\t\t\t\t\t<span>{{ gettingResults ? 'Calculating' : 'Get Results' }}</span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n\r\n\r\n"

/***/ }),

/***/ "./src/app/modules/core/components/modals/spill-response/spill-response.component.scss":
/*!*********************************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/spill-response/spill-response.component.scss ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".jobsons-toggles .jobsons-delete {\n  color: #ED1515;\n  opacity: 0.4;\n  font-size: 16px;\n  transition: 0.2s;\n  transform: scale(0.75);\n}\n.jobsons-toggles .jobsons-delete:hover {\n  opacity: 1;\n  transform: scale(1);\n  transition: 0.2s;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbW9kYWxzL3NwaWxsLXJlc3BvbnNlL0M6XFxVc2Vyc1xcdGdyb3NzXFx3aW0uZ2l0aHViXFxUcmF2ZWxUaW1lL3NyY1xcYXBwXFxtb2R1bGVzXFxjb3JlXFxjb21wb25lbnRzXFxtb2RhbHNcXHNwaWxsLXJlc3BvbnNlXFxzcGlsbC1yZXNwb25zZS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbW9kYWxzL3NwaWxsLXJlc3BvbnNlL3NwaWxsLXJlc3BvbnNlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWVDO0VBQ0MsY0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBVlc7RUFXWCxzQkFBQTtBQ2RGO0FEZ0JFO0VBQ0MsVUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBaEJVO0FDRWIiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL2NvcmUvY29tcG9uZW50cy9tb2RhbHMvc3BpbGwtcmVzcG9uc2Uvc3BpbGwtcmVzcG9uc2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBKb2Jzb25zLnNjc3NcclxuLy8gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuLy8gXHJcbi8vIFNwZWNpZmljIHN0eWxlcyBmb3IgY2hhbmdlcyB3aXRoaW4gam9ic29ucyB0b2dnbGVzXHJcbi8vIFxyXG5cclxuJHNhbnM6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIFwiQXBwbGUgQ29sb3IgRW1vamlcIiwgXCJTZWdvZSBVSSBFbW9qaVwiLCBcIlNlZ29lIFVJIFN5bWJvbFwiO1xyXG4vLyBWYXJpYWJsZXNcclxuJGJvcmRlclJhZGl1czogNHB4O1xyXG4kdHJhbnNpdGlvbjogMC4ycztcclxuJHRleHQ6ICMwQzE0MUU7XHJcblxyXG5cclxuLmpvYnNvbnMtdG9nZ2xlc3tcclxuXHJcblx0LmpvYnNvbnMtZGVsZXRle1xyXG5cdFx0Y29sb3I6ICNFRDE1MTU7XHJcblx0XHRvcGFjaXR5OiAwLjQ7XHJcblx0XHRmb250LXNpemU6IDE2cHg7XHJcblx0XHR0cmFuc2l0aW9uOiAkdHJhbnNpdGlvbjtcclxuXHRcdHRyYW5zZm9ybTogc2NhbGUoMC43NSk7XHJcblxyXG5cdFx0Jjpob3ZlcntcclxuXHRcdFx0b3BhY2l0eTogMTtcclxuXHRcdFx0dHJhbnNmb3JtOiBzY2FsZSgxKTtcclxuXHRcdFx0dHJhbnNpdGlvbjogJHRyYW5zaXRpb247XHJcblx0XHR9XHJcblx0fVxyXG5cclxufVxyXG5cclxuIiwiLmpvYnNvbnMtdG9nZ2xlcyAuam9ic29ucy1kZWxldGUge1xuICBjb2xvcjogI0VEMTUxNTtcbiAgb3BhY2l0eTogMC40O1xuICBmb250LXNpemU6IDE2cHg7XG4gIHRyYW5zaXRpb246IDAuMnM7XG4gIHRyYW5zZm9ybTogc2NhbGUoMC43NSk7XG59XG4uam9ic29ucy10b2dnbGVzIC5qb2Jzb25zLWRlbGV0ZTpob3ZlciB7XG4gIG9wYWNpdHk6IDE7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gIHRyYW5zaXRpb246IDAuMnM7XG59Il19 */"

/***/ }),

/***/ "./src/app/modules/core/components/modals/spill-response/spill-response.component.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/modules/core/components/modals/spill-response/spill-response.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: DateTimeValidator, SpillResponseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateTimeValidator", function() { return DateTimeValidator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpillResponseComponent", function() { return SpillResponseComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _services_traveltimeservices_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/traveltimeservices.service */ "./src/app/modules/core/services/traveltimeservices.service.ts");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _models_reach__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../models/reach */ "./src/app/modules/core/models/reach.ts");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _shared_messageType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../shared/messageType */ "./src/app/shared/messageType.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _turf_turf__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @turf/turf */ "./node_modules/@turf/turf/turf.min.js");
/* harmony import */ var _turf_turf__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_turf_turf__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _gages_gages_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../gages/gages.component */ "./src/app/modules/core/components/modals/gages/gages.component.ts");
/* harmony import */ var _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../services/nwisservices.service */ "./src/app/modules/core/services/nwisservices.service.ts");














var DateTimeValidator = function (fc) {
    var date = new Date(fc.value);
    var isValid = !isNaN(date.valueOf());
    return isValid ? null : {
        isValid: {
            valid: false
        }
    };
};
var SpillResponseComponent = /** @class */ (function () {
    //#endregion
    function SpillResponseComponent(config, activeModal, traveltimeservice, mapservice, studyservice, tstrservice, modalService, nwisservice) {
        this.activeModal = activeModal;
        this.modalService = modalService;
        this.nwisservice = nwisservice;
        this.ShowGages = false;
        this.dateModel = new Date();
        this.reachList = [];
        this.inputIsValid = false;
        this._recoveryratio = 1;
        this.dischargeSub = new rxjs__WEBPACK_IMPORTED_MODULE_10__["BehaviorSubject"](undefined);
        this.reachIDs = [];
        this.model = {};
        this.showhidetitle = 'Show Reaches';
        this.showReaches = true;
        this.gettingResults = false;
        this.reachesReady = false;
        this.lastIndex = null;
        this.selectedIndex = null;
        this.currentStep = 0;
        this._dtData = false;
        // customize default values of modals used by this component tree
        config.backdrop = 'static';
        config.keyboard = false;
        this.TravelTimeService = traveltimeservice;
        this.MapService = mapservice;
        this.NWISService = nwisservice;
        this.StudyService = studyservice;
        this.messager = tstrservice;
        // if(this.StudyService.selectedStudy.SelectedDriftData.length > 0){     //add back in when DRIFT becomes available
        //   this._dtData = true;
        // }
    }
    Object.defineProperty(SpillResponseComponent.prototype, "Recratio", {
        //#region "Setters"
        get: function () {
            return this.recratio;
        },
        set: function (v) {
            this.recratio = v;
            //this.updateRecRatio(v);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillResponseComponent.prototype, "SpillMass", {
        get: function () {
            return this._spillMass;
        },
        set: function (v) {
            this._spillMass = v;
            this.StudyService.selectedStudy.SpillMass = this._spillMass;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillResponseComponent.prototype, "Discharge", {
        get: function () {
            return this._discharge;
        },
        set: function (v) {
            this._discharge = v;
            this.StudyService.selectedStudy.Discharge = this._discharge;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillResponseComponent.prototype, "RecoveryRatio", {
        get: function () {
            return this._recoveryratio;
        },
        set: function (v) {
            this._recoveryratio = v;
            this.StudyService.selectedStudy.RecoveryRatio = this._recoveryratio;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillResponseComponent.prototype, "HasDTData", {
        get: function () {
            return this._dtData;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SpillResponseComponent.prototype, "UseDTData", {
        get: function () {
            return this._useDTData;
        },
        set: function (v) {
            this._useDTData = v;
        },
        enumerable: true,
        configurable: true
    });
    SpillResponseComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.TravelTimeService.getJobsonConfigurationObject() // get reach
            .toPromise().then(function (data) {
            _this.reach_reference = data;
            _this.units = _this.MapService.unitsOptions;
            _this.abbrev = _this.MapService.abbrevOptions;
            _this.populateReachArray();
        }); // get service {description: Initial description}
        this.formGroup = new _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormGroup"]({
            activeEndDate: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormControl"](new Date(), { validators: [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required, DateTimeValidator] })
        }, { updateOn: 'change' });
        this.StudyService.dateSub.subscribe(function (result) {
            if (result) {
                _this.dateModel = result;
            }
        });
        this.NWISService.gagesArray.subscribe(function (data) {
            if (typeof (data) != 'undefined') {
                _this.MapService.showGages.subscribe(function (data) {
                    _this.ShowGages = data;
                });
            }
            else { }
        });
    };
    //#region "Gages"
    SpillResponseComponent.prototype.openGagesModal = function () {
        var modalConfig = this.modalService.open(_gages_gages_component__WEBPACK_IMPORTED_MODULE_12__["GagesComponent"]);
        modalConfig.componentInstance.title = 'Gages';
    };
    //#endregion
    SpillResponseComponent.prototype.log = function (val) { console.log(val); };
    SpillResponseComponent.prototype.validateInputs = function () {
        if (typeof (this.SpillMass) === "number" && typeof (this.Discharge) === "number" && typeof (this.RecoveryRatio) === "number") {
            return false;
        }
        else {
            return true;
        }
    };
    SpillResponseComponent.prototype.updateDischarge = function () {
        this.FirstReachDischarge = (this.reachList[0]['parameters'][0].value).toFixed(2);
    };
    SpillResponseComponent.prototype.updateRecRatio = function (v) {
        this.reachList.forEach(function (item) {
            item.parameters[5].value = v;
            console.log(item.parameters[5]);
        });
    };
    //#region "Methods"
    SpillResponseComponent.prototype.setParameters = function () {
        this.setDischarge();
        this.setRecoveryRatio();
    };
    SpillResponseComponent.prototype.setDischarge = function () {
        var _this = this;
        if (this.reachList.length > 0) {
            this.StudyService.selectedStudy.Discharge = this._discharge;
            var accumRatio_1 = [this._discharge];
            var cond_1 = false;
            var value_1;
            // current function is using ratio of i-th - 1 reach, it can be easily adjusted to nearest gage flow value;
            this.reachList.forEach(function (item) {
                if (cond_1) {
                    item.parameters[1].value = (accumRatio_1[accumRatio_1.length - 1] * item.parameters[0].value).toFixed(3); // Number(this.StudyService.selectedStudy.Discharge) *
                    value_1 = (item.parameters[1].value / item.parameters[0].value).toFixed(3);
                    accumRatio_1.push(value_1);
                }
                else {
                    item.parameters[1].value = _this._discharge;
                    value_1 = (item.parameters[1].value / item.parameters[0].value).toFixed(3);
                    accumRatio_1.push(value_1);
                    cond_1 = true;
                }
            });
            this.StudyService.SetWorkFlow('hasDischarge', true);
        }
        else {
            this.setDischarge();
        }
        this.StudyService.setDischarge(this._discharge);
    };
    SpillResponseComponent.prototype.setRecoveryRatio = function () {
        var _this = this;
        if (this.reachList.length > 0) {
            this.StudyService.selectedStudy.RecoveryRatio = this.RecoveryRatio;
            this.reachList.forEach(function (item) {
                item.parameters[5].value = _this.RecoveryRatio;
            });
        }
        this.StudyService.setRecoveryRatio(this.RecoveryRatio);
    };
    SpillResponseComponent.prototype.setConc = function (event) {
        if (this.reachList) {
            this.StudyService.selectedStudy.SpillMass = this._spillMass;
            this.StudyService.setConcentration(this._spillMass);
        }
    };
    SpillResponseComponent.prototype.validateForm = function (mainForm) {
        console.log(mainForm.$valid);
        if (mainForm.$valid) {
            return true;
        }
        else {
            return false;
        }
    };
    SpillResponseComponent.prototype.customTrackBy = function (index, obj) {
        return index;
    };
    SpillResponseComponent.prototype.beforeChange = function ($event) {
        this.currentStep = +($event.panelId);
    };
    //Future enhancement - allowing user to remove gage parameters.
    /*public removeReach(index): void {   // remove reach by id
      if (index >= 0) {
        this.reachList.splice(index, this.reachList.length);
        this.reachIDs.splice(index, this.reachList.length);
      }
    }*/
    SpillResponseComponent.prototype.getLabel = function (label) {
        try {
            switch (label) {
                case 'leadingEdge':
                    return 'Leading Edge';
                case 'MostProbable':
                    return 'Most Probable';
                case 'concentration':
                    return 'Concentration';
                case 'time':
                    return 'Time';
                case 'MaximumProbable':
                    return 'Maximum Probable';
                case 'peakConcentration':
                    return 'Peak Concentration';
                case 'trailingEdge':
                    return 'Trailing Edge';
                case 'name':
                    return 'Name';
                case 'description':
                    return 'Description';
            } // end switch
        }
        catch (e) {
            var x = e;
        }
    };
    SpillResponseComponent.prototype.getResults = function () {
        var _this = this;
        // Set default footer height to half, show buttons to switch
        $('#mapWrapper').attr('class', 'half-map');
        $('body').attr('class', 'half-toast-map');
        $('#mapHeightToggle').attr('class', 'visible');
        this.gettingResults = true;
        if (this.dateModel instanceof Date) {
        }
        else {
            this.dateModel = new Date(this.dateModel);
        }
        var tempReachList = [];
        var postReachList = [];
        var tempSpillMass = this.StudyService.selectedStudy.SpillMass;
        if (!this.StudyService.isMetric()) {
            for (var i = 0; i < this.reachList.length; i++) {
                var newreach = new _models_reach__WEBPACK_IMPORTED_MODULE_6__["reach"](this.reach_reference); // new Jobson reaches object that will store initial object
                newreach.name = this.reachList[i].name;
                newreach.parameters[2].value = this.reachList[i].parameters[2].value; // slope
                newreach.parameters[1].value = (this.reachList[i].parameters[1].value * 0.028316847); // real-time discharge from cfs to cms
                newreach.parameters[0].value = (this.reachList[i].parameters[0].value * 0.028316847); // mean annual discharge from cfs to cms
                newreach.parameters[3].value = (this.reachList[i].parameters[3].value / 0.00000038610215855); // drainage area from square miles to square meters
                newreach.parameters[4].value = (this.reachList[i].parameters[4].value / 3.2808); // length from feet to meters
                newreach.parameters[0].unit.unit = this.units.metric['discharge']; // mean annual discharge
                newreach.parameters[0].unit.abbr = this.abbrev.metric['discharge'];
                newreach.parameters[1].unit.unit = this.units.metric['discharge']; // real-time discharge
                newreach.parameters[1].unit.abbr = this.abbrev.metric['discharge'];
                newreach.parameters[2].unit.unit = this.units.metric['slope'];
                newreach.parameters[2].unit.abbr = this.abbrev.metric['slope'];
                newreach.parameters[3].unit.unit = this.units.metric['drainageArea'];
                newreach.parameters[3].unit.abbr = this.abbrev.metric['drainageArea'];
                newreach.parameters[4].unit.unit = this.units.metric['distance'];
                newreach.parameters[4].unit.abbr = this.abbrev.metric['distance'];
                tempReachList.push(newreach);
            }
            tempReachList.forEach(function (reach) {
                reach.parameters.splice(6, 1);
                postReachList.push(reach);
            });
            tempSpillMass = this.StudyService.selectedStudy.SpillMass * 0.453592; //sends spill mass to Jobson's in kg
        }
        else {
            this.reachList.forEach(function (reach) {
                reach.parameters.splice(6, 1);
                postReachList.push(reach);
            });
        }
        this.TravelTimeService.ExecuteJobson(tempSpillMass, this.dateModel.toISOString(), postReachList)
            .toPromise().then(function (data) {
            _this.StudyService.selectedStudy.Results = data;
            _this.StudyService.SetWorkFlow('totResults', true);
            _this.gettingResults = false;
            _this.activeModal.dismiss();
            _this.StudyService.setProcedure(3); // open next panel;
        })
            .catch(function (err) {
            console.log('error: ', err.message);
            _this.sm(err, 'Time of Travel Services');
            _this.gettingResults = false;
        });
    };
    SpillResponseComponent.prototype.openCloseItem = function (index) {
        this.selectedIndex = index;
        if (this.reachList[this.selectedIndex].parameters.show) {
            this.reachList[this.selectedIndex].parameters.show = false;
        }
        else {
            if (this.lastIndex !== null) {
                this.reachList[this.lastIndex].parameters.show = false;
            }
            this.reachList[this.selectedIndex].parameters.show = true;
        }
        this.lastIndex = this.selectedIndex;
    };
    SpillResponseComponent.prototype.identify = function (index, item) {
        return item.id;
    };
    SpillResponseComponent.prototype.populateReachArray = function () {
        for (var i = 0; i < this.StudyService.selectedStudy.Reaches.length; i++) { // remove last traversing lines
            if (this.StudyService.selectedStudy.Reaches[i].properties.nhdplus_comid) {
                var newreach = new _models_reach__WEBPACK_IMPORTED_MODULE_6__["reach"](this.reach_reference); // new Jobson reaches object that will store initial object
                if (i > 0) {
                    newreach.description = "reach";
                }
                ;
                newreach.name = this.StudyService.selectedStudy.Reaches[i].properties.nhdplus_comid;
                newreach.parameters[2].value = this.StudyService.selectedStudy.Reaches[i].properties.Slope;
                var selectedUnits = void 0;
                if (this.StudyService.isMetric()) {
                    selectedUnits = this.units.metric;
                    newreach.parameters[0].value = Object(_turf_turf__WEBPACK_IMPORTED_MODULE_11__["round"])((this.StudyService.selectedStudy.Reaches[i].properties.Discharge * 0.028316847), 3); // cfs to cms
                    newreach.parameters[3].value = (this.StudyService.selectedStudy.Reaches[i].properties.DrainageArea * 1000000); // square kilometers to square meters
                    newreach.parameters[4].value = (this.StudyService.selectedStudy.Reaches[i].properties.Length * 1000).toFixed(3); // kilometers to meters
                }
                else {
                    selectedUnits = this.units.imperial;
                    newreach.parameters[0].value = Object(_turf_turf__WEBPACK_IMPORTED_MODULE_11__["round"])((this.StudyService.selectedStudy.Reaches[i].properties.Discharge), 3); // cfs
                    newreach.parameters[3].value = (this.StudyService.selectedStudy.Reaches[i].properties.DrainageArea * 0.386102); // square kilometers to square miles
                    newreach.parameters[4].value = (this.StudyService.selectedStudy.Reaches[i].properties.Length * 3280.84).toFixed(3); // kilometers to feet
                }
                newreach.parameters[0].unit.unit = selectedUnits['discharge']; // mean annual discharge
                newreach.parameters[1].unit.unit = selectedUnits['discharge']; // real-time discharge
                newreach.parameters[2].unit.unit = selectedUnits['slope'];
                newreach.parameters[3].unit.unit = selectedUnits['drainageArea'];
                newreach.parameters[4].unit.unit = selectedUnits['distance'];
                this.reachList.push(newreach);
            }
            else {
            }
        }
        this.reachesReady = true;
    };
    SpillResponseComponent.prototype.sm = function (msg, mType, title, timeout) {
        if (mType === void 0) { mType = _shared_messageType__WEBPACK_IMPORTED_MODULE_9__["INFO"]; }
        try {
            var options = null;
            if (timeout)
                options = { timeOut: timeout };
            this.messager.show(msg, title, options, mType);
        }
        catch (e) {
        }
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('reaches', { static: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbAccordion"])
    ], SpillResponseComponent.prototype, "accordion1", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('acc', { static: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbAccordion"])
    ], SpillResponseComponent.prototype, "accordion", void 0);
    SpillResponseComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-spill-response',
            template: __webpack_require__(/*! ./spill-response.component.html */ "./src/app/modules/core/components/modals/spill-response/spill-response.component.html"),
            styles: [__webpack_require__(/*! ./spill-response.component.scss */ "./src/app/modules/core/components/modals/spill-response/spill-response.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModalConfig"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"], _services_traveltimeservices_service__WEBPACK_IMPORTED_MODULE_3__["TravelTimeService"], _services_map_service__WEBPACK_IMPORTED_MODULE_4__["MapService"], _services_study_service__WEBPACK_IMPORTED_MODULE_7__["StudyService"], ngx_toastr__WEBPACK_IMPORTED_MODULE_8__["ToastrService"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModal"], _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_13__["NWISService"]])
    ], SpillResponseComponent);
    return SpillResponseComponent;
}());



/***/ }),

/***/ "./src/app/modules/core/components/sidebar/sidebar.component.html":
/*!************************************************************************!*\
  !*** ./src/app/modules/core/components/sidebar/sidebar.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"sidebar\">\r\n\r\n\t<!-- \r\n\t\tMap Layers \r\n\t\tMap Layers \r\n\t\tMap Layers \r\n\t-->\r\n\t<!-- Header -->\r\n    <div class=\"toggle-header\" (click)=\"showMapLayers = !showMapLayers\">\r\n\t\t<div class=\"text\">Map Layers</div>\r\n\t\t<div class=\"icon\">\r\n\t\t\t<i class=\"far\" [ngClass]=\"showMapLayers ? 'fa-minus-circle' : 'fa-plus-circle'\"></i>\r\n\t\t</div>\r\n    </div>\r\n\t<!-- Map Layers Body -->\r\n    <div class=\"toggle-block\" [ngClass]=\"{'visible': showMapLayers}\">\r\n\r\n\t\t<div class=\"toggle-block-body\">\r\n\t\t\t<!-- Base Maps -->\r\n\t\t\t<h3>Base Maps</h3>\r\n\t\t\t<div *ngFor=\"let item of baselayers\" class=\"sidebar-toggle-row\">\r\n\t\t\t\t<input *ngIf=\"item.visible; else disabled\" type=\"radio\" id=\"basemap{{item.name}}\" name=\"mapLayer\" (change)=\"SetBaselayer(item.name);\" [checked]=\"item.name\" />\r\n\t\t\t\t<ng-template #disabled>\r\n\t\t\t\t\t<input type=\"radio\" id=\"basemap{{item.name}}\" name=\"mapLayer\" (change)=\"model.baselayers === item.name; SetBaselayer(item.name);\" />\r\n\t\t\t\t</ng-template>\r\n\t\t\t\t<label for=\"basemap{{item.name}}\">{{item.name}}</label>\r\n\t\t\t</div>\r\n\t\t\t<!-- Overlays -->\r\n\t\t\t<h3>Overlays</h3>\r\n\t\t\t<div *ngFor=\"let item of overlays\" class=\"sidebar-toggle-row\" [hidden]=\"ishiddenOverlay\">\r\n\t\t\t\t<input *ngIf=\"item.visible; else disabled\" id=\"overlay{{item.name}}\" type=\"checkbox\" name=\"options\" (change)=\"model.overlays === item.name; SetOverlay(item.name);\" [checked]=\"item.name\" />\r\n\t\t\t\t<ng-template #disabled>\r\n\t\t\t\t\t<input type=\"checkbox\" name=\"options\" id=\"overlay{{item.name}}\" (change)=\"model.overlays === item.name; SetOverlay(item.name);\" [checked]=\"item.name === model.overlays\" />\r\n\t\t\t\t</ng-template>\r\n\t\t\t\t<label for=\"overlay{{item.name}}\">{{item.name}}</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\t<!-- End Map Layers -->\r\n\r\n\t<!-- \r\n\t\tIdentify Area \r\n\t\tIdentify Area \r\n\t\tIdentify Area \r\n\t-->\r\n\t<!-- Header -->\r\n    <div class=\"toggle-header\" (click)=\"SetProcedureType(1)\" [ngClass]=\"{'notoggle': SelectedProcedureType == 1}\">\r\n\t\t<div class=\"text\">Identify Area</div>\r\n\t\t<div class=\"icon\">\r\n\t\t\t<i class=\"far\" [ngClass]=\"this.StudyService.GetWorkFlow('hasReaches') ? 'fa-check-circle' : ''\"></i>\r\n\t\t</div>\r\n\t</div>\r\n    <div class=\"toggle-block\" [ngClass]=\"{'visible': SelectedProcedureType == 1}\">\r\n\t\t\r\n\t\t<div class=\"toggle-block-body\">\r\n\r\n\t\t\t<!-- Steps -->\r\n\t\t\t<div *ngIf=\"zoom < 10\">\r\n\t\t\t\t<h5>Step 1:</h5>\r\n\t\t\t\t<p>Use the map or the search tool below to identify an area of interest. At zoom level <b>10 or greater</b>, trace methods will be enabled.</p>\r\n\t\t\t\t<div class=\"sidebar-zoom-level\">\r\n\t\t\t\t\t<span>Current Zoom Level:</span>\r\n\t\t\t\t\t<b>{{this.MapService.CurrentZoomLevel.value}}</b>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div *ngIf=\"zoom > 9\">\r\n\t\t\t\t<h5>Step 2:</h5>\r\n\t\t\t\t<p>You have zoomed in sufficiently to select a trace method. Select an option below then click or tap a point on the map.</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- Search box -->\r\n\t\t\t<div id=\"searchBox\"></div>\r\n\t\t\t<!-- Search Help -->\r\n\t\t\t<button class=\"search-help-toggle\" *ngIf=\"!showSearchHelp\" (click)=\"showSearchHelp = true\">\r\n\t\t\t\t<i class=\"far fa-question-circle\"></i> \r\n\t\t\t\t<span>Search Help</span>\r\n\t\t\t</button>\r\n\t\t\t<button class=\"search-help-toggle\" *ngIf=\"showSearchHelp\" (click)=\"showSearchHelp = false\">\r\n\t\t\t\t<i class=\"far fa-times\"></i> \r\n\t\t\t\t<span>Hide Help</span>\r\n\t\t\t</button>\r\n\t\t\t<!-- Help body -->\r\n\t\t\t<div class=\"search-help\" [ngClass]=\"{'visible': showSearchHelp}\">\r\n\t\t\t\t<label cla>Supported search strings:</label>\r\n\t\t\t\t<div class=\"search-strings\">\r\n\t\t\t\t\t<span>GNIS locations</span>\r\n\t\t\t\t\t<span>States</span>\r\n\t\t\t\t\t<span>Zip Codes</span>\r\n\t\t\t\t\t<span>Area Codes</span>\r\n\t\t\t\t\t<span>USGS Sites</span>\r\n\t\t\t\t\t<span>Street Address</span>\r\n\t\t\t\t\t<span>Hydrologic Unit</span>\r\n\t\t\t\t\t<span>Lat/Long</span>\r\n\t\t\t\t\t<span>('43.9,-72.1' or '43.9N,72.1W')</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<small>\r\n\t\t\t\t\tSearch provided by <a href=\"https://txpub.usgs.gov/dss/search_api/2.0/\" target=\"_blank\">USGS Search JavaScript API</a>\r\n\t\t\t\t</small>\r\n\t\t\t  </div>\r\n\r\n\r\n\t\t\t<!-- Methods -->\r\n\t\t\t<div id=\"methods\">\r\n\t\t\t\t<!-- Start over -->\r\n\t\t\t\t<button class=\"red icon-button full-width\" *ngIf=\"StudyService.GetWorkFlow('hasReaches') || StudyService.GetWorkFlow('hasError')\" (click)=\"reset()\">\r\n\t\t\t\t\t<i class=\"far fa-undo\"></i>\r\n\t\t\t\t\tStart Over\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<button id=\"response\" class=\"full-width icon-button\" [disabled]=\"!StudyService.GetWorkFlow('reachedZoom')\" (click)=\"SetMethodType('response')\" [ngClass]=\"{'waiting': MapService.isClickable}\">\r\n\t\t\t\t\t<i [ngClass]=\"StudyService.checkingDelineatedPoint && SelectedMethodType === 'response' && !StudyService.GetWorkFlow('hasError') ? 'far fa-sync fa-spin' : 'far fa-map-marker-alt'\"></i>\r\n\t\t\t\t\tSpill Response\r\n\t\t\t\t</button>\r\n\t\t\t\t<button id=\"planning\" class=\"full-width icon-button\" [disabled]=\"!StudyService.GetWorkFlow('reachedZoom')\" (click)=\"SetMethodType('planning')\" [ngClass]=\"{'waiting': MapService.isClickable}\">\r\n\t\t\t\t\t<i [ngClass]=\"StudyService.checkingDelineatedPoint && SelectedMethodType === 'planning' && !StudyService.GetWorkFlow('hasError') ? 'far fa-sync fa-spin' : 'far fa-map-marker-alt'\"></i>\r\n\t\t\t\t\tSpill Planning\r\n\t\t\t\t</button>\r\n\t\t\t\t<button [disabled]=\"StudyService.GetWorkFlow('hasPOI')\" id=\"equations\" class=\"full-width\" (click)=\"open_config()\">Configure</button>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t</div>\r\n\t\t<!-- End identify area panel --> \r\n\r\n\t</div>\r\n\t\r\n\r\n\t<!-- \r\n\t\tScenarios \r\n\t\tScenarios \r\n\t\tScenarios \r\n\t-->\r\n\t<!-- Header -->\r\n\r\n\t<div class=\"toggle-header\" (click)=\"SetProcedureType(2)\" [ngClass]=\"{'notoggle': SelectedProcedureType == 2, 'blocked': !this.StudyService.GetWorkFlow('hasReaches')}\">\r\n\t\t<div class=\"text\">Scenarios</div>\r\n\t\t<div class=\"icon\">\r\n\t\t\t<i class=\"far\" class=\"far fa-check-circle\"></i>\r\n\t\t\t<!-- <i class=\"far\" [ngClass]=\"this.StudyService.selectedStudy || this.StudyService.GetWorkFlow('totResults') ? 'fa-check-circle' : ''\"></i> -->\r\n\t\t</div>\r\n\t</div>\r\n    <div class=\"toggle-block\" [ngClass]=\"{'visible': SelectedProcedureType == 2}\">\r\n\t\t<div class=\"toggle-block-body\">\r\n\r\n\t\t\t<span *ngFor=\"let item of AvailableScenarioTypes\">\r\n\t\t\t\t<div class=\"sidebar-toggle-row\">\r\n\t\t\t\t\t<input type=\"checkbox\" id=\"scenario{{item.name}}\" name=\"scenario\" [checked]=\"item.selected\" (change)=\"ToggleScenario(item)\"/>\r\n\t\t\t\t\t<label for=\"scenario{{item.name}}\">{{item.name}}</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"space10\"></div>\r\n\r\n\t\t\t\t<button class=\"full-width blue\" (click)=\"open(SelectedScenario)\">Continue</button>\r\n\t\t\t\t\r\n\t\t\t</span>\r\n\r\n\t\t</div>\r\n\t</div>\r\n\r\n\r\n\t<!-- \r\n\t\tBuild Report \r\n\t\tBuild Report \r\n\t\tBuild Report \r\n\t-->\r\n\t<!-- Header -->\r\n\r\n\t<div class=\"toggle-header\" (click)=\"SetProcedureType(3)\" [ngClass]=\"{'notoggle': SelectedProcedureType == 3, 'blocked': !this.StudyService.selectedStudy || !this.StudyService.GetWorkFlow('totResults')}\">\r\n\t\t<div class=\"text\">Build Report</div>\r\n\t\t<div class=\"icon\">\r\n\t\t\t<i class=\"far\" class=\"far fa-check-circle\"></i>\r\n\t\t\t<!-- <i class=\"far\" [ngClass]=\"this.StudyService.selectedStudy || this.StudyService.GetWorkFlow('totResults') ? 'fa-check-circle' : ''\"></i> -->\r\n\t\t</div>\r\n\t</div>\r\n    <div class=\"toggle-block no-bottom-border\" [ngClass]=\"{'visible': SelectedProcedureType == 3}\">\r\n\t\t<div class=\"toggle-block-body\">\r\n\r\n\t\t\t<div *ngIf=\"!CanContinue\">\r\n\t\t\t\t<h5>Step 1:</h5>\r\n\t\t\t\t<p>Select report components below.</p>\r\n\t\t\t</div>\r\n\t\t\t<div *ngIf=\"CanContinue\">\r\n\t\t\t\t<h5>Step 2:</h5>\r\n\t\t\t\t<p>Click \"Continue\" to proceed.</p>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<span class=\"sidebar-toggle-row\" *ngFor=\"let option of StudyService.ReportOptions; let i = index; trackBy:identify\">\r\n\t\t\t\t<!-- <div class=\"sidebar-toggle-row\">\r\n\t\t\t\t\t<input type=\"checkbox\" id=\"option{{item.name}}\" name=\"report\" [checked]=\"option.checked\" (change)=\"ToggleReportOptions(i)\"/>\r\n\t\t\t\t\t<label for=\"option{{option.name}}\">{{option.name}}</label>\r\n\t\t\t\t</div> -->\r\n\t\t\t\t<input type=\"checkbox\" name=\"report\" id=\"{{option.name}}Option\" [checked]=\"option.checked\" (change)=\"ToggleReportOptions(i)\" />\r\n\t\t\t\t<label for=\"{{option.name}}Option\">{{option.name}}</label>\r\n\t\t\t</span>\r\n\r\n\t\t\t<div class=\"space10\"></div>\r\n\r\n\t\t\t<button class=\"full-width blue\" (click)=\"open('Report')\" [disabled]=\"!CanContinue\">Continue</button>\r\n\r\n\t\t</div>\r\n\t</div>\r\n\r\n\r\n\t<!-- Footer, USGS Links -->\r\n\t<div class=\"sidebar-footer\">\r\n\t\t<div class=\"identification\">Powered by <a href=\"https://wim.usgs.gov/\" target=\"_blank\">WIM <img src=\"assets/images/favicon.png\"/></a></div>\r\n\t\t\r\n\t\t<div class=\"sidebar-footer-links\">\r\n\t\t\t<a href=\"https://usgs.gov\" target=\"_blank\">USGS Home</a><a href=\"https://answers.usgs.gov\" target=\"_blank\">Contact\r\n\t\t\t\tUSGS</a>\r\n\t\t\t<a href=\"https://search.usgs.gov\" target=\"_blank\">Search USGS</a>\r\n\t\t\t<a href=\"https://www2.usgs.gov/laws/accessibility.html\" target=\"_blank\">Accessibility</a>\r\n\t\t\t<a href=\"https://www2.usgs.gov/foia/\" target=\"_blank\">FOIA</a>\r\n\t\t\t<a href=\"https://www2.usgs.gov/laws/privacy.html\" target=\"_blank\">Privacy</a>\r\n\t\t\t<a href=\"https://www2.usgs.gov/laws/policies_notices.html\" target=\"_blank\">Policies &amp; Notices</a>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\r\n</div> <!-- End Sidebar -->\r\n"

/***/ }),

/***/ "./src/app/modules/core/components/sidebar/sidebar.component.scss":
/*!************************************************************************!*\
  !*** ./src/app/modules/core/components/sidebar/sidebar.component.scss ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@charset \"UTF-8\";\n.sidebar {\n  max-height: 100%;\n  overflow: auto;\n}\n.sidebar .toggle-block .toggle-block-body p {\n  font-size: 13.5px;\n  line-height: 16px;\n  padding-top: 0;\n  margin-bottom: 0;\n}\n.sidebar .toggle-block .toggle-block-body .sidebar-toggle-row {\n  margin: 4px 0;\n  display: flex;\n}\n.sidebar .toggle-block .toggle-block-body .sidebar-toggle-row label {\n  padding-left: 10px;\n  margin-bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.sidebar .toggle-block .toggle-block-body .sidebar-toggle-row label:hover {\n  cursor: pointer;\n}\n.sidebar .toggle-block .toggle-block-body .sidebar-zoom-level {\n  display: flex;\n  justify-content: flex-start;\n  margin-bottom: 14px;\n}\n.sidebar .toggle-block .toggle-block-body .sidebar-zoom-level span, .sidebar .toggle-block .toggle-block-body .sidebar-zoom-level b {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.sidebar .toggle-block .toggle-block-body .sidebar-zoom-level span {\n  font-size: 14px;\n  letter-spacing: 0.3px;\n}\n.sidebar .toggle-block .toggle-block-body .sidebar-zoom-level b {\n  font-size: 24px;\n  font-weight: 700;\n  margin-left: 6px;\n  box-sizing: border-box;\n  padding-bottom: 1px;\n}\n.sidebar .toggle-block .toggle-block-body #searchBox {\n  display: block;\n  width: 100%;\n}\n.sidebar .toggle-block .toggle-block-body .search-help-toggle {\n  background-color: transparent;\n  color: #0C141E;\n  opacity: 0.5;\n  transition: 0.2s;\n  text-align: center;\n  display: block;\n  width: 100%;\n  text-align: center;\n  font-size: 13px;\n  font-weight: 600;\n}\n.sidebar .toggle-block .toggle-block-body .search-help-toggle i {\n  margin-right: 5px;\n}\n.sidebar .toggle-block .toggle-block-body .search-help-toggle:hover {\n  opacity: 1;\n  transition: 0.2s;\n}\n.sidebar .toggle-block .toggle-block-body .search-help-toggle:hover span {\n  text-decoration: underline;\n}\n.sidebar .toggle-block .toggle-block-body .search-help {\n  box-sizing: border-box;\n  padding: 0 2px;\n  background: #EEF0F3;\n  border-radius: 10px;\n  max-height: 0px;\n  border: 0px solid transparent;\n  transition: max-height 0.2s ease, border 0.1s ease 0.1s;\n  overflow: hidden;\n}\n.sidebar .toggle-block .toggle-block-body .search-help.visible {\n  max-height: 320px;\n  transition: max-height 0.2s ease, border 0s ease 0s;\n  border: 1px solid #D9DDE4;\n}\n.sidebar .toggle-block .toggle-block-body .search-help label {\n  text-align: center;\n  display: block;\n  font-size: 14px;\n  font-weight: 600;\n  margin: 6px auto 5px auto;\n}\n.sidebar .toggle-block .toggle-block-body .search-help .search-strings {\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  flex-wrap: wrap;\n}\n.sidebar .toggle-block .toggle-block-body .search-help .search-strings span {\n  margin: 0px 0;\n  font-size: 12.5px;\n  font-weight: 500;\n  font-family: monospace;\n  border-radius: 5px;\n}\n.sidebar .toggle-block .toggle-block-body .search-help .search-strings span:after {\n  content: \"\";\n  display: inline-block;\n  margin: 0 5px;\n}\n.sidebar .toggle-block .toggle-block-body .search-help .search-strings span:last-child:after {\n  display: none;\n}\n.sidebar .toggle-block .toggle-block-body .search-help small {\n  display: block;\n  text-align: center;\n  margin-bottom: 8px;\n  font-size: 11px;\n  margin-top: 6px;\n}\n.sidebar .toggle-block .toggle-block-body #methods {\n  padding-top: 5px;\n}\n.sidebar .toggle-block .toggle-block-body #methods button {\n  margin-top: 10px;\n}\n.sidebar-footer {\n  display: block;\n  margin-top: 15px;\n  padding-bottom: 10px;\n}\n.sidebar-footer .identification {\n  display: block;\n  font-size: 14px;\n  font-weight: 600;\n  text-align: center;\n  margin-bottom: 10px;\n}\n.sidebar-footer .identification img {\n  height: 24px;\n  width: auto;\n}\n.sidebar-footer .sidebar-footer-links {\n  text-align: center;\n  font-size: 11px;\n  line-height: 12px;\n}\n.sidebar-footer .sidebar-footer-links a {\n  color: var(--textLight);\n  font-weight: 400;\n  display: inline-block;\n  margin: 3px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvc2lkZWJhci9zaWRlYmFyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL2NvcmUvY29tcG9uZW50cy9zaWRlYmFyL0M6XFxVc2Vyc1xcdGdyb3NzXFx3aW0uZ2l0aHViXFxUcmF2ZWxUaW1lL3NyY1xcYXBwXFxtb2R1bGVzXFxjb3JlXFxjb21wb25lbnRzXFxzaWRlYmFyXFxzaWRlYmFyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQ1FoQjtFQUNDLGdCQUFBO0VBQ0EsY0FBQTtBRE5EO0FDWUU7RUFDQyxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FEVEg7QUNhRTtFQUNDLGFBQUE7RUFDQSxhQUFBO0FEWEg7QUNhRztFQUNDLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtBRFhKO0FDYUk7RUFDQyxlQUFBO0FEWEw7QUNtQkU7RUFDQyxhQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQkFBQTtBRGpCSDtBQ21CRztFQUNDLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0FEakJKO0FDb0JHO0VBQ0MsZUFBQTtFQUNBLHFCQUFBO0FEbEJKO0FDb0JHO0VBQ0MsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0FEbEJKO0FDeUJFO0VBQ0MsY0FBQTtFQUNBLFdBQUE7QUR2Qkg7QUN5QkU7RUFDQyw2QkFBQTtFQUNBLGNBekVJO0VBMEVKLFlBQUE7RUFDQSxnQkE1RVU7RUE2RVYsa0JBQUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FEdkJIO0FDeUJHO0VBQ0MsaUJBQUE7QUR2Qko7QUMwQkc7RUFDQyxVQUFBO0VBQ0EsZ0JBMUZTO0FEa0ViO0FDMEJJO0VBQ0MsMEJBQUE7QUR4Qkw7QUM2QkU7RUFDQyxzQkFBQTtFQUNBLGNBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLDZCQUFBO0VBQ0EsdURBQUE7RUFDQSxnQkFBQTtBRDNCSDtBQzZCRztFQUNDLGlCQUFBO0VBQ0EsbURBQUE7RUFDQSx5QkFBQTtBRDNCSjtBQzhCRztFQUNDLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLHlCQUFBO0FENUJKO0FDK0JHO0VBQ0MsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUQ3Qko7QUMrQkk7RUFDQyxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7QUQ3Qkw7QUM4Qks7RUFDQyxZQUFBO0VBQ0EscUJBQUE7RUFDQSxhQUFBO0FENUJOO0FDK0JLO0VBQ0MsYUFBQTtBRDdCTjtBQ21DRztFQUNDLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QURqQ0o7QUNzQ0U7RUFDQyxnQkFBQTtBRHBDSDtBQ3FDRztFQUNDLGdCQUFBO0FEbkNKO0FDK0NBO0VBQ0MsY0FBQTtFQUNBLGdCQUFBO0VBQ0Esb0JBQUE7QUQ1Q0Q7QUM4Q0M7RUFDQyxjQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBRDVDRjtBQzhDRTtFQUNDLFlBQUE7RUFDQSxXQUFBO0FENUNIO0FDZ0RDO0VBQ0Msa0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUQ5Q0Y7QUNnREU7RUFDQyx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0FEOUNIIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvc2lkZWJhci9zaWRlYmFyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGNoYXJzZXQgXCJVVEYtOFwiO1xuLnNpZGViYXIge1xuICBtYXgtaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdzogYXV0bztcbn1cblxuLnNpZGViYXIgLnRvZ2dsZS1ibG9jayAudG9nZ2xlLWJsb2NrLWJvZHkgcCB7XG4gIGZvbnQtc2l6ZTogMTMuNXB4O1xuICBsaW5lLWhlaWdodDogMTZweDtcbiAgcGFkZGluZy10b3A6IDA7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG4uc2lkZWJhciAudG9nZ2xlLWJsb2NrIC50b2dnbGUtYmxvY2stYm9keSAuc2lkZWJhci10b2dnbGUtcm93IHtcbiAgbWFyZ2luOiA0cHggMDtcbiAgZGlzcGxheTogZmxleDtcbn1cbi5zaWRlYmFyIC50b2dnbGUtYmxvY2sgLnRvZ2dsZS1ibG9jay1ib2R5IC5zaWRlYmFyLXRvZ2dsZS1yb3cgbGFiZWwge1xuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuLnNpZGViYXIgLnRvZ2dsZS1ibG9jayAudG9nZ2xlLWJsb2NrLWJvZHkgLnNpZGViYXItdG9nZ2xlLXJvdyBsYWJlbDpob3ZlciB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5zaWRlYmFyIC50b2dnbGUtYmxvY2sgLnRvZ2dsZS1ibG9jay1ib2R5IC5zaWRlYmFyLXpvb20tbGV2ZWwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gIG1hcmdpbi1ib3R0b206IDE0cHg7XG59XG4uc2lkZWJhciAudG9nZ2xlLWJsb2NrIC50b2dnbGUtYmxvY2stYm9keSAuc2lkZWJhci16b29tLWxldmVsIHNwYW4sIC5zaWRlYmFyIC50b2dnbGUtYmxvY2sgLnRvZ2dsZS1ibG9jay1ib2R5IC5zaWRlYmFyLXpvb20tbGV2ZWwgYiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuLnNpZGViYXIgLnRvZ2dsZS1ibG9jayAudG9nZ2xlLWJsb2NrLWJvZHkgLnNpZGViYXItem9vbS1sZXZlbCBzcGFuIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBsZXR0ZXItc3BhY2luZzogMC4zcHg7XG59XG4uc2lkZWJhciAudG9nZ2xlLWJsb2NrIC50b2dnbGUtYmxvY2stYm9keSAuc2lkZWJhci16b29tLWxldmVsIGIge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIG1hcmdpbi1sZWZ0OiA2cHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHBhZGRpbmctYm90dG9tOiAxcHg7XG59XG4uc2lkZWJhciAudG9nZ2xlLWJsb2NrIC50b2dnbGUtYmxvY2stYm9keSAjc2VhcmNoQm94IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xufVxuLnNpZGViYXIgLnRvZ2dsZS1ibG9jayAudG9nZ2xlLWJsb2NrLWJvZHkgLnNlYXJjaC1oZWxwLXRvZ2dsZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogIzBDMTQxRTtcbiAgb3BhY2l0eTogMC41O1xuICB0cmFuc2l0aW9uOiAwLjJzO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDEzcHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG4uc2lkZWJhciAudG9nZ2xlLWJsb2NrIC50b2dnbGUtYmxvY2stYm9keSAuc2VhcmNoLWhlbHAtdG9nZ2xlIGkge1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cbi5zaWRlYmFyIC50b2dnbGUtYmxvY2sgLnRvZ2dsZS1ibG9jay1ib2R5IC5zZWFyY2gtaGVscC10b2dnbGU6aG92ZXIge1xuICBvcGFjaXR5OiAxO1xuICB0cmFuc2l0aW9uOiAwLjJzO1xufVxuLnNpZGViYXIgLnRvZ2dsZS1ibG9jayAudG9nZ2xlLWJsb2NrLWJvZHkgLnNlYXJjaC1oZWxwLXRvZ2dsZTpob3ZlciBzcGFuIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG4uc2lkZWJhciAudG9nZ2xlLWJsb2NrIC50b2dnbGUtYmxvY2stYm9keSAuc2VhcmNoLWhlbHAge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBwYWRkaW5nOiAwIDJweDtcbiAgYmFja2dyb3VuZDogI0VFRjBGMztcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgbWF4LWhlaWdodDogMHB4O1xuICBib3JkZXI6IDBweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgdHJhbnNpdGlvbjogbWF4LWhlaWdodCAwLjJzIGVhc2UsIGJvcmRlciAwLjFzIGVhc2UgMC4xcztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5zaWRlYmFyIC50b2dnbGUtYmxvY2sgLnRvZ2dsZS1ibG9jay1ib2R5IC5zZWFyY2gtaGVscC52aXNpYmxlIHtcbiAgbWF4LWhlaWdodDogMzIwcHg7XG4gIHRyYW5zaXRpb246IG1heC1oZWlnaHQgMC4ycyBlYXNlLCBib3JkZXIgMHMgZWFzZSAwcztcbiAgYm9yZGVyOiAxcHggc29saWQgI0Q5RERFNDtcbn1cbi5zaWRlYmFyIC50b2dnbGUtYmxvY2sgLnRvZ2dsZS1ibG9jay1ib2R5IC5zZWFyY2gtaGVscCBsYWJlbCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgbWFyZ2luOiA2cHggYXV0byA1cHggYXV0bztcbn1cbi5zaWRlYmFyIC50b2dnbGUtYmxvY2sgLnRvZ2dsZS1ibG9jay1ib2R5IC5zZWFyY2gtaGVscCAuc2VhcmNoLXN0cmluZ3Mge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG4gIGZsZXgtd3JhcDogd3JhcDtcbn1cbi5zaWRlYmFyIC50b2dnbGUtYmxvY2sgLnRvZ2dsZS1ibG9jay1ib2R5IC5zZWFyY2gtaGVscCAuc2VhcmNoLXN0cmluZ3Mgc3BhbiB7XG4gIG1hcmdpbjogMHB4IDA7XG4gIGZvbnQtc2l6ZTogMTIuNXB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG4uc2lkZWJhciAudG9nZ2xlLWJsb2NrIC50b2dnbGUtYmxvY2stYm9keSAuc2VhcmNoLWhlbHAgLnNlYXJjaC1zdHJpbmdzIHNwYW46YWZ0ZXIge1xuICBjb250ZW50OiBcIuKAolwiO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG1hcmdpbjogMCA1cHg7XG59XG4uc2lkZWJhciAudG9nZ2xlLWJsb2NrIC50b2dnbGUtYmxvY2stYm9keSAuc2VhcmNoLWhlbHAgLnNlYXJjaC1zdHJpbmdzIHNwYW46bGFzdC1jaGlsZDphZnRlciB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4uc2lkZWJhciAudG9nZ2xlLWJsb2NrIC50b2dnbGUtYmxvY2stYm9keSAuc2VhcmNoLWhlbHAgc21hbGwge1xuICBkaXNwbGF5OiBibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgbWFyZ2luLXRvcDogNnB4O1xufVxuLnNpZGViYXIgLnRvZ2dsZS1ibG9jayAudG9nZ2xlLWJsb2NrLWJvZHkgI21ldGhvZHMge1xuICBwYWRkaW5nLXRvcDogNXB4O1xufVxuLnNpZGViYXIgLnRvZ2dsZS1ibG9jayAudG9nZ2xlLWJsb2NrLWJvZHkgI21ldGhvZHMgYnV0dG9uIHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cblxuLnNpZGViYXItZm9vdGVyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuLnNpZGViYXItZm9vdGVyIC5pZGVudGlmaWNhdGlvbiB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cbi5zaWRlYmFyLWZvb3RlciAuaWRlbnRpZmljYXRpb24gaW1nIHtcbiAgaGVpZ2h0OiAyNHB4O1xuICB3aWR0aDogYXV0bztcbn1cbi5zaWRlYmFyLWZvb3RlciAuc2lkZWJhci1mb290ZXItbGlua3Mge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgbGluZS1oZWlnaHQ6IDEycHg7XG59XG4uc2lkZWJhci1mb290ZXIgLnNpZGViYXItZm9vdGVyLWxpbmtzIGEge1xuICBjb2xvcjogdmFyKC0tdGV4dExpZ2h0KTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW46IDNweDtcbn0iLCIkc2FuczogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiwgXCJBcHBsZSBDb2xvciBFbW9qaVwiLCBcIlNlZ29lIFVJIEVtb2ppXCIsIFwiU2Vnb2UgVUkgU3ltYm9sXCI7XHJcbi8vIFZhcmlhYmxlc1xyXG4kYm9yZGVyUmFkaXVzOiA0cHg7XHJcbiR0cmFuc2l0aW9uOiAwLjJzO1xyXG4kdGV4dDogIzBDMTQxRTtcclxuXHJcblxyXG4vLyBTdHlsZXMgc3BlY2lmaWMgdG8gdGhlIHNpZGViYXJcclxuLnNpZGViYXJ7XHJcblx0bWF4LWhlaWdodDogMTAwJTtcclxuXHRvdmVyZmxvdzogYXV0bztcclxufVxyXG4uc2lkZWJhciAudG9nZ2xlLWJsb2Nre1xyXG5cclxuXHQudG9nZ2xlLWJsb2NrLWJvZHl7XHJcblxyXG5cdFx0cHtcclxuXHRcdFx0Zm9udC1zaXplOiAxMy41cHg7XHJcblx0XHRcdGxpbmUtaGVpZ2h0OiAxNnB4O1xyXG5cdFx0XHRwYWRkaW5nLXRvcDogMDtcclxuXHRcdFx0bWFyZ2luLWJvdHRvbTogMDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gQ2hlY2tib3ggb3IgcmFkaW8gKGFuZCBsYWJlbCkgd3JhcHBlci9yb3dcclxuXHRcdC5zaWRlYmFyLXRvZ2dsZS1yb3d7XHJcblx0XHRcdG1hcmdpbjogNHB4IDA7XHJcblx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFxyXG5cdFx0XHRsYWJlbHtcclxuXHRcdFx0XHRwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcblx0XHRcdFx0bWFyZ2luLWJvdHRvbTogMDtcclxuXHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblxyXG5cdFx0XHRcdCY6aG92ZXJ7XHJcblx0XHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ3VycmVudCBab29tIExldmVsXHJcblx0XHQvLyBDdXJyZW50IFpvb20gTGV2ZWxcclxuXHRcdC8vIEN1cnJlbnQgWm9vbSBMZXZlbFxyXG5cdFx0LnNpZGViYXItem9vbS1sZXZlbHtcclxuXHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0anVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG5cdFx0XHRtYXJnaW4tYm90dG9tOiAxNHB4O1xyXG5cclxuXHRcdFx0c3Bhbixie1xyXG5cdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c3BhbntcclxuXHRcdFx0XHRmb250LXNpemU6IDE0cHg7XHJcblx0XHRcdFx0bGV0dGVyLXNwYWNpbmc6IDAuM3B4O1xyXG5cdFx0XHR9XHJcblx0XHRcdGJ7XHJcblx0XHRcdFx0Zm9udC1zaXplOiAyNHB4O1xyXG5cdFx0XHRcdGZvbnQtd2VpZ2h0OiA3MDA7XHJcblx0XHRcdFx0bWFyZ2luLWxlZnQ6IDZweDtcclxuXHRcdFx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG5cdFx0XHRcdHBhZGRpbmctYm90dG9tOiAxcHg7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBTZWFyY2hcclxuXHRcdC8vIFNlYXJjaFxyXG5cdFx0Ly8gU2VhcmNoXHJcblx0XHQjc2VhcmNoQm94e1xyXG5cdFx0XHRkaXNwbGF5OiBibG9jaztcclxuXHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHR9XHJcblx0XHQuc2VhcmNoLWhlbHAtdG9nZ2xle1xyXG5cdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuXHRcdFx0Y29sb3I6ICR0ZXh0O1xyXG5cdFx0XHRvcGFjaXR5OiAwLjU7XHJcblx0XHRcdHRyYW5zaXRpb246ICR0cmFuc2l0aW9uO1xyXG5cdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0XHRcdGRpc3BsYXk6IGJsb2NrO1xyXG5cdFx0XHR3aWR0aDogMTAwJTtcclxuXHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdFx0XHRmb250LXNpemU6IDEzcHg7XHJcblx0XHRcdGZvbnQtd2VpZ2h0OiA2MDA7XHJcblxyXG5cdFx0XHRpe1xyXG5cdFx0XHRcdG1hcmdpbi1yaWdodDogNXB4O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQmOmhvdmVye1xyXG5cdFx0XHRcdG9wYWNpdHk6IDE7XHJcblx0XHRcdFx0dHJhbnNpdGlvbjogJHRyYW5zaXRpb247XHJcblxyXG5cdFx0XHRcdHNwYW57XHJcblx0XHRcdFx0XHR0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIFNlYXJjaCBoZWxwIGJvZHlcclxuXHRcdC5zZWFyY2gtaGVscHtcclxuXHRcdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcclxuXHRcdFx0cGFkZGluZzogMCAycHg7XHJcblx0XHRcdGJhY2tncm91bmQ6I0VFRjBGMztcclxuXHRcdFx0Ym9yZGVyLXJhZGl1czogMTBweDtcclxuXHRcdFx0bWF4LWhlaWdodDogMHB4O1xyXG5cdFx0XHRib3JkZXI6IDBweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuXHRcdFx0dHJhbnNpdGlvbjogbWF4LWhlaWdodCAwLjJzIGVhc2UsIGJvcmRlciAwLjFzIGVhc2UgMC4xcztcclxuXHRcdFx0b3ZlcmZsb3c6IGhpZGRlbjtcclxuXHJcblx0XHRcdCYudmlzaWJsZXtcclxuXHRcdFx0XHRtYXgtaGVpZ2h0OiAzMjBweDtcclxuXHRcdFx0XHR0cmFuc2l0aW9uOiBtYXgtaGVpZ2h0IDAuMnMgZWFzZSwgYm9yZGVyIDBzIGVhc2UgMHM7XHJcblx0XHRcdFx0Ym9yZGVyOiAxcHggc29saWQgI0Q5RERFNDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGFiZWx7XHJcblx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdFx0XHRcdGRpc3BsYXk6IGJsb2NrO1xyXG5cdFx0XHRcdGZvbnQtc2l6ZTogMTRweDtcclxuXHRcdFx0XHRmb250LXdlaWdodDogNjAwO1xyXG5cdFx0XHRcdG1hcmdpbjogNnB4IGF1dG8gNXB4IGF1dG87XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC5zZWFyY2gtc3RyaW5nc3tcclxuXHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0XHRcdGZsZXgtd3JhcDogd3JhcDtcclxuXHJcblx0XHRcdFx0c3BhbntcclxuXHRcdFx0XHRcdG1hcmdpbjogMHB4IDA7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDEyLjVweDtcclxuXHRcdFx0XHRcdGZvbnQtd2VpZ2h0OiA1MDA7XHJcblx0XHRcdFx0XHRmb250LWZhbWlseTogbW9ub3NwYWNlO1xyXG5cdFx0XHRcdFx0Ym9yZGVyLXJhZGl1czogNXB4O1xyXG5cdFx0XHRcdFx0JjphZnRlcntcclxuXHRcdFx0XHRcdFx0Y29udGVudDogJ1xcMDAyMDIyJztcclxuXHRcdFx0XHRcdFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG5cdFx0XHRcdFx0XHRtYXJnaW46IDAgNXB4O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdCY6bGFzdC1jaGlsZDphZnRlcntcclxuXHRcdFx0XHRcdFx0ZGlzcGxheTogbm9uZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFByb3ZpZGVkIGJ5XHJcblx0XHRcdHNtYWxse1xyXG5cdFx0XHRcdGRpc3BsYXk6IGJsb2NrO1xyXG5cdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRcdFx0XHRtYXJnaW4tYm90dG9tOiA4cHg7XHJcblx0XHRcdFx0Zm9udC1zaXplOiAxMXB4O1xyXG5cdFx0XHRcdG1hcmdpbi10b3A6IDZweDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE1ldGhvZCBCdXR0b25zXHJcblx0XHQjbWV0aG9kc3tcclxuXHRcdFx0cGFkZGluZy10b3A6IDVweDtcdFxyXG5cdFx0XHRidXR0b257XHJcblx0XHRcdFx0bWFyZ2luLXRvcDoxMHB4O1xyXG5cdFx0XHR9XHRcdFxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLnNpZGViYXItZm9vdGVye1xyXG5cdGRpc3BsYXk6IGJsb2NrO1xyXG5cdG1hcmdpbi10b3A6IDE1cHg7XHJcblx0cGFkZGluZy1ib3R0b206IDEwcHg7XHJcblxyXG5cdC5pZGVudGlmaWNhdGlvbntcclxuXHRcdGRpc3BsYXk6IGJsb2NrO1xyXG5cdFx0Zm9udC1zaXplOiAxNHB4O1xyXG5cdFx0Zm9udC13ZWlnaHQ6IDYwMDtcclxuXHRcdHRleHQtYWxpZ246IGNlbnRlcjsgXHJcblx0XHRtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG5cclxuXHRcdGltZ3tcclxuXHRcdFx0aGVpZ2h0OiAyNHB4O1xyXG5cdFx0XHR3aWR0aDogYXV0bztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC5zaWRlYmFyLWZvb3Rlci1saW5rc3tcclxuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRcdGZvbnQtc2l6ZTogMTFweDtcclxuXHRcdGxpbmUtaGVpZ2h0OiAxMnB4O1xyXG5cclxuXHRcdGF7XHJcblx0XHRcdGNvbG9yOiB2YXIoLS10ZXh0TGlnaHQpO1xyXG5cdFx0XHRmb250LXdlaWdodDogNDAwO1xyXG5cdFx0XHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcblx0XHRcdG1hcmdpbjogM3B4O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/modules/core/components/sidebar/sidebar.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/modules/core/components/sidebar/sidebar.component.ts ***!
  \**********************************************************************/
/*! exports provided: SidebarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidebarComponent", function() { return SidebarComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _shared_messageType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/messageType */ "./src/app/shared/messageType.ts");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var _models_study__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../models/study */ "./src/app/modules/core/models/study.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _modals_spill_response_spill_response_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../modals/spill-response/spill-response.component */ "./src/app/modules/core/components/modals/spill-response/spill-response.component.ts");
/* harmony import */ var _modals_configuration_configuration_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../modals/configuration/configuration.component */ "./src/app/modules/core/components/modals/configuration/configuration.component.ts");
/* harmony import */ var _modals_report_report_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../modals/report/report.component */ "./src/app/modules/core/components/modals/report/report.component.ts");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_11__);












var SidebarComponent = /** @class */ (function () {
    // tslint:disable-next-line: max-line-length
    function SidebarComponent(mapservice, cdRef, toastr, studyservice, config, modalService) {
        var _this = this;
        this.cdRef = cdRef;
        this.modalService = modalService;
        this.AvailableScenarioTypes = [{ name: 'Jobson\'s', selected: true }];
        this._canContinue = false;
        this.SelectedScenario = 'Jobsons';
        this.ishiddenBasemaps = true;
        this.ishiddenOverlay = false;
        this.baselayers = [];
        this.overlays = [];
        this.zoom = 4;
        this.isInsideWaterBody = false;
        this.toggleButton = true;
        this.messager = toastr;
        this.MapService = mapservice;
        this.StudyService = studyservice;
        config.backdrop = 'static';
        config.keyboard = false;
        this.MapService.isInsideWaterBody.subscribe(function (data) {
            _this.isInsideWaterBody = data;
        });
        this.MapService.CurrentZoomLevel.next(this.zoom);
        this.MapService.nominalZoomLevel.next(this.MapService.scaleLookup(this.zoom));
        this.MapService.CurrentZoomLevel.subscribe(function (z) {
            _this.zoom = z;
            if (z > 9 && _this.toggleButton === true) {
                _this.StudyService.SetWorkFlow('reachedZoom', true);
            }
            else {
                _this.StudyService.SetWorkFlow('reachedZoom', false);
            }
        });
    }
    Object.defineProperty(SidebarComponent.prototype, "CanContinue", {
        get: function () {
            if (this.StudyService.ReportOptions) {
                for (var _i = 0, _a = this.StudyService.ReportOptions; _i < _a.length; _i++) {
                    var element = _a[_i];
                    if (element.checked) {
                        this._canContinue = true;
                        return this._canContinue;
                        break;
                    }
                }
            }
            this._canContinue = false;
            return this._canContinue;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SidebarComponent.prototype, "SelectedProcedureType", {
        get: function () {
            return this._selectedproceduretype;
        },
        set: function (v) {
            this._selectedproceduretype = v;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SidebarComponent.prototype, "SelectedStudy", {
        get: function () { return this.StudyService.selectedStudy; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SidebarComponent.prototype, "SelectedMethodType", {
        get: function () {
            return (this.StudyService && this.StudyService.selectedStudy ? this.StudyService.selectedStudy.MethodType : '');
        },
        enumerable: true,
        configurable: true
    });
    SidebarComponent.prototype.ngAfterViewChecked = function () {
        this.cdRef.detectChanges();
    };
    SidebarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.MapService.LayersControl.subscribe(function (data) {
            if (_this.overlays.length > 0 || _this.baselayers.length > 0) {
                _this.overlays = [];
                _this.baselayers = [];
            }
            _this.overlays = data.overlays;
            _this.baselayers = data.baseLayers;
        });
        search_api.create('searchBox', {
            include_usgs_sw: true,
            include_usgs_gw: true,
            include_usgs_sp: true,
            include_usgs_at: true,
            include_usgs_ot: true,
            on_result: function (o) {
                _this.MapService.setBounds([
                    [o.result.properties.LatMin, o.result.properties.LonMin],
                    [o.result.properties.LatMax, o.result.properties.LonMax]
                ]);
                // MarkerMaker icon
                var redCircle = leaflet__WEBPACK_IMPORTED_MODULE_11__["divIcon"]({ className: 'wmm-circle wmm-borderless wmm-red wmm-size-35' });
                var marker = leaflet__WEBPACK_IMPORTED_MODULE_11__["marker"]([o.result.properties.Lat, o.result.properties.Lon], {
                    icon: redCircle,
                    opacity: 0.7
                });
                _this.MapService.AddMapLayer({ name: 'Search Location', layer: marker, visible: true });
            },
            on_failure: function (o) {
                // Should we alert the user ? this can be used if (for example length of the array is not sufficient for search)
                // alert("Sorry, a location could not be found for '" + o.val() + "'");
            }
        });
        this.model = {
            baselayers: {},
            overlays: {}
        };
        this.SelectedProcedureType = 1; // set initial procedure type
        this.StudyService.procedureType$.subscribe(function (data) {
            if (!_this.canUpdateProcedure(data)) {
                return;
            }
            _this.SelectedProcedureType = data;
        });
    };
    SidebarComponent.prototype.SetBaselayer = function (LayerName) {
        this.MapService.SetBaselayer(LayerName);
    };
    SidebarComponent.prototype.SetOverlay = function (LayerName) {
        this.MapService.SetOverlay(LayerName);
    };
    //#region "Methods"
    SidebarComponent.prototype.GetClass = function (pType) {
        if (this.SelectedProcedureType === pType) {
            return 'list-group-item-active';
        }
        else {
            return 'list-group-item';
        }
    };
    SidebarComponent.prototype.SetMethodType = function (MethodType) {
        this.StudyService.SetWorkFlow('hasMethod', true); // map click will result in POI selection
        this.StudyService.selectedStudy = new _models_study__WEBPACK_IMPORTED_MODULE_6__["Study"](MethodType);
        this.MapService.isClickable = true;
        this.MapService.setCursor('crosshair');
        if (MethodType === 'response') {
            this.StudyService.ReportOptions = [
                { name: 'Map of study area', checked: false },
                { name: 'Table of values', checked: false },
                { name: 'Graph of timeline', checked: false }
            ];
        }
        else { // planning method report options
            this.StudyService.ReportOptions = [
                { name: 'Map of study area', checked: false },
                { name: 'Table of values', checked: false }
            ];
        }
    };
    SidebarComponent.prototype.ToggleScenario = function (i) {
        if (this.AvailableScenarioTypes && this.AvailableScenarioTypes[i]) {
            // if(this.AvailableScenarioTypes[i].selected === false) {
            //   this.AvailableScenarioTypes[i].selected = true;
            this.SelectedScenario = i.name;
            // } else {
            // this.AvailableScenarioTypes[i].selected = false;
            // }
        }
    };
    SidebarComponent.prototype.ToggleReportOptions = function (i) {
        if (this.StudyService.ReportOptions && this.StudyService.ReportOptions[i]) {
            if (!this.StudyService.ReportOptions[i].checked) {
                this.StudyService.ReportOptions[i].checked = true;
            }
            else {
                this.StudyService.ReportOptions[i].checked = false;
            }
        }
    };
    SidebarComponent.prototype.HideReportOptions = function () {
        if (this.StudyService.ReportOptions) {
            this.StudyService.ReportOptions.forEach(function (item) {
                if (item.checked === true) {
                    return false;
                }
            });
            return true;
        }
    };
    SidebarComponent.prototype.open = function (scenario) {
        switch (scenario) {
            case 'Jobsons':
                if (this.isInsideWaterBody) {
                    this.sm("Selected point of interest is inside of a water body.... please select different location");
                }
                else {
                    var jobsonsModalRef = this.modalService.open(_modals_spill_response_spill_response_component__WEBPACK_IMPORTED_MODULE_8__["SpillResponseComponent"]);
                    jobsonsModalRef.componentInstance.title = 'Jobsons';
                }
                return;
            case 'Report':
                var reportModalRef = this.modalService.open(_modals_report_report_component__WEBPACK_IMPORTED_MODULE_10__["ReportComponent"]);
                reportModalRef.componentInstance.title = 'Report';
                return;
            default: return;
        }
    };
    SidebarComponent.prototype.reset = function () {
        window.location.reload();
    };
    SidebarComponent.prototype.SetProcedureType = function (indx) {
        this.StudyService.setProcedure(indx);
    };
    SidebarComponent.prototype.open_config = function () {
        var modalConfig = this.modalService.open(_modals_configuration_configuration_component__WEBPACK_IMPORTED_MODULE_9__["ConfigurationComponent"]);
        modalConfig.componentInstance.title = 'Configure';
    };
    //#endregion
    //#region "Private methods"
    SidebarComponent.prototype.init = function () {
        this.SelectedProcedureType = ProcedureType.IDENTIFY;
    };
    SidebarComponent.prototype.canUpdateProcedure = function (pType) {
        try {
            switch (pType) {
                case ProcedureType.MAPLAYERS:
                    if (this.SelectedProcedureType === 0) {
                        return false;
                    }
                    return true;
                case ProcedureType.IDENTIFY:
                    if (this.SelectedProcedureType === 1) {
                        return false;
                    }
                    return true;
                case ProcedureType.SCENARIO:
                    // proceed only if Study Selected
                    // tslint:disable-next-line: max-line-length
                    if (!this.StudyService.GetWorkFlow('hasReaches')) {
                        throw new Error('Can not proceed until study area options are selected.');
                    }
                    if (this.SelectedProcedureType === 2) {
                        return false;
                    }
                    return true;
                case ProcedureType.REPORT:
                    if (!this.StudyService.selectedStudy || !this.StudyService.GetWorkFlow('totResults')) {
                        return;
                    }
                    if (this.SelectedProcedureType === 3) {
                        return false;
                    }
                    return true;
                default:
                    return false;
            } // end switch
        }
        catch (e) {
            this.sm(e.message, _shared_messageType__WEBPACK_IMPORTED_MODULE_4__["WARNING"]);
            return false;
        }
    };
    SidebarComponent.prototype.sm = function (msg, mType, title, timeout) {
        if (mType === void 0) { mType = _shared_messageType__WEBPACK_IMPORTED_MODULE_4__["INFO"]; }
        try {
            var options = null;
            if (timeout) {
                options = { timeOut: timeout };
            }
            this.messager.show(msg, title, options, mType);
        }
        catch (e) {
        }
    };
    SidebarComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'tot-sidebar',
            template: __webpack_require__(/*! ./sidebar.component.html */ "./src/app/modules/core/components/sidebar/sidebar.component.html"),
            providers: [],
            styles: [__webpack_require__(/*! ./sidebar.component.scss */ "./src/app/modules/core/components/sidebar/sidebar.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_map_service__WEBPACK_IMPORTED_MODULE_5__["MapService"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"], ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"], _services_study_service__WEBPACK_IMPORTED_MODULE_2__["StudyService"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__["NgbModalConfig"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__["NgbModal"]])
    ], SidebarComponent);
    return SidebarComponent;
}());

var ProcedureType;
(function (ProcedureType) {
    ProcedureType[ProcedureType["MAPLAYERS"] = 0] = "MAPLAYERS";
    ProcedureType[ProcedureType["IDENTIFY"] = 1] = "IDENTIFY";
    ProcedureType[ProcedureType["SCENARIO"] = 2] = "SCENARIO";
    ProcedureType[ProcedureType["REPORT"] = 3] = "REPORT";
})(ProcedureType || (ProcedureType = {}));


/***/ }),

/***/ "./src/app/modules/core/core-routing.module.ts":
/*!*****************************************************!*\
  !*** ./src/app/modules/core/core-routing.module.ts ***!
  \*****************************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");



var routes = [];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/modules/core/core.component.html":
/*!**************************************************!*\
  !*** ./src/app/modules/core/core.component.html ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"app-body\">\r\n\r\n\t<!-- Sidebar -->\r\n\t<tot-sidebar id=\"sidebarWrapper\"></tot-sidebar>\r\n\r\n\t<!-- Main content -->\r\n\t<div class=\"app-content\">\r\n\r\n\t\t<!-- Button to toggle map height -->\r\n\t\t<div id=\"mapHeightToggle\" class=\"map-height-toggle\">\r\n\t\t\t<button (click)=\"changeMapSize('full')\" [ngClass]=\"{'active': mapSize === 'full'}\">\r\n\t\t\t\t<i class=\"far fa-rectangle-portrait\"></i>\r\n\t\t\t\tFull\r\n\t\t\t</button>\r\n\t\t\t<button (click)=\"changeMapSize('half')\" [ngClass]=\"{'active': mapSize === 'half' || !mapSize}\">\r\n\t\t\t\t<i class=\"far fa-rectangle-landscape\"></i>\r\n\t\t\t\tHalf\r\n\t\t\t</button>\r\n\t\t\t<button (click)=\"changeMapSize('small')\" [ngClass]=\"{'active': mapSize === 'small'}\">\r\n\t\t\t\t<i class=\"far fa-rectangle-wide\"></i>\r\n\t\t\t\tSmall\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<!-- Map container -->\r\n\t\t<tot-map class=\"{{mapSize}}-map\" id=\"mapWrapper\" [report]=\"false\" [mapSize]=\"mapSize\" style=\"position: relative;\"></tot-map><!--[modal]=\"false\"-->\r\n\r\n\t\t<!-- Bottom footer / data view -->\r\n\t\t<tot-footer class=\"footer\"></tot-footer>\r\n\r\n\r\n\t</div>\r\n</div>"

/***/ }),

/***/ "./src/app/modules/core/core.component.scss":
/*!**************************************************!*\
  !*** ./src/app/modules/core/core.component.scss ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".app-body {\n  display: flex;\n  flex-grow: 3;\n  width: 100vw;\n  max-width: 100vw;\n  min-width: 100vw;\n}\n.app-body tot-sidebar {\n  height: 100%;\n  width: 280px;\n  min-width: 280px;\n  max-width: 280px;\n}\n@media (max-width: 768px) {\n  .app-body tot-sidebar {\n    position: fixed;\n    left: -280px;\n    top: 50px;\n    z-index: 1050;\n    background: white;\n    box-shadow: 5px 10px 10px rgba(0, 20, 40, 0.14);\n    transition: all 0.25s ease;\n  }\n  .app-body tot-sidebar.menu-visible {\n    left: 0px;\n    transition: all 0.25s ease;\n  }\n}\n.app-body .app-content {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex-grow: 3;\n  width: 100%;\n  position: relative;\n  height: 100%;\n  max-width: 90%;\n  max-width: calc(100vw - 280px);\n}\n@media (max-width: 768px) {\n  .app-body .app-content {\n    max-width: 100vw;\n  }\n}\n.app-body .app-content tot-map {\n  height: 50%;\n  overflow: hidden;\n  width: 100%;\n  max-height: 50%;\n  height: 100%;\n  max-height: 100%;\n  min-height: 100%;\n}\n.app-body .app-content tot-map.half-map {\n  height: 46%;\n  max-height: 46%;\n  min-height: 46%;\n}\n.app-body .app-content tot-map.small-map {\n  height: 26%;\n  max-height: 26%;\n  min-height: 26%;\n}\n.app-body .app-content tot-map.report-map {\n  height: 100%;\n  max-height: 100%;\n  min-height: 100%;\n}\n.app-body .app-content tot-footer {\n  width: 100%;\n  flex-grow: 3;\n  display: flex;\n  overflow: auto;\n  max-width: 100%;\n}\n.app-body .app-content #mapHeightToggle {\n  position: absolute;\n  height: 44px;\n  background-color: transparent;\n  width: 100%;\n  z-index: 500;\n  display: flex;\n  justify-content: center;\n  box-sizing: border-box;\n  padding-top: 10px;\n  top: -100px;\n  transition: 0.2s;\n}\n.app-body .app-content #mapHeightToggle.visible {\n  top: 0px;\n  transition: 0.2s;\n}\n.app-body .app-content #mapHeightToggle button {\n  margin: 0;\n  padding: 0px 10px 1px 10px;\n  border-radius: 0;\n  font-size: 15px;\n}\n.app-body .app-content #mapHeightToggle button:nth-child(1) {\n  border-top-left-radius: 2px;\n  border-bottom-left-radius: 2px;\n}\n.app-body .app-content #mapHeightToggle button:nth-child(3) {\n  border-top-right-radius: 2px;\n  border-bottom-right-radius: 2px;\n}\n.app-body .app-content #mapHeightToggle button.active {\n  background-color: #0652D6;\n}\n.app-body .app-content #mapHeightToggle button.active:hover {\n  text-decoration: none;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL0M6XFxVc2Vyc1xcdGdyb3NzXFx3aW0uZ2l0aHViXFxUcmF2ZWxUaW1lL3NyY1xcYXBwXFxtb2R1bGVzXFxjb3JlXFxjb3JlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL2NvcmUvY29yZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNDLGFBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUNERDtBRE1DO0VBQ0MsWUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FDSkY7QURPRTtFQVBEO0lBUUUsZUFBQTtJQUNBLFlBQUE7SUFDQSxTQUFBO0lBQ0EsYUFBQTtJQUNBLGlCQUNBO0lBQ0EsK0NBQUE7SUFDQSwwQkFBQTtFQ0xEO0VET0M7SUFDQyxTQUFBO0lBQ0EsMEJBQUE7RUNMRjtBQUNGO0FEWUM7RUFDQyxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLDhCQUFBO0FDVkY7QURhRTtFQVpEO0lBYUUsZ0JBQUE7RUNWRDtBQUNGO0FEYUU7RUFDQyxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUlDLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FDZEo7QURnQkc7RUFDQyxXQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUNkSjtBRGdCRztFQUNDLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQ2RKO0FEZ0JHO0VBQ0MsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUNkSjtBRGlCRTtFQUNDLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0FDZkg7QURtQkU7RUFDQyxrQkFBQTtFQUNBLFlBQUE7RUFDQSw2QkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtBQ2pCSDtBRG1CRztFQUNDLFFBQUE7RUFDQSxnQkFBQTtBQ2pCSjtBRG9CRztFQUNDLFNBQUE7RUFDQSwwQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ2xCSjtBRHVCSTtFQUNDLDJCQUFBO0VBQ0EsOEJBQUE7QUNyQkw7QUR1Qkk7RUFDQyw0QkFBQTtFQUNBLCtCQUFBO0FDckJMO0FEd0JJO0VBQ0MseUJBQUE7QUN0Qkw7QUR3Qks7RUFDQyxxQkFBQTtBQ3RCTiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29yZS9jb3JlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG4uYXBwLWJvZHl7XHJcblx0ZGlzcGxheTogZmxleDtcclxuXHRmbGV4LWdyb3c6IDM7XHJcblx0d2lkdGg6IDEwMHZ3O1xyXG5cdG1heC13aWR0aDogMTAwdnc7XHJcblx0bWluLXdpZHRoOiAxMDB2dztcclxuXHJcblx0Ly8gU2lkZWJhclxyXG5cdC8vIFNpZGViYXJcclxuXHQvLyBTaWRlYmFyXHJcblx0dG90LXNpZGViYXJ7XHJcblx0XHRoZWlnaHQ6IDEwMCU7XHJcblx0XHR3aWR0aDogMjgwcHg7XHJcblx0XHRtaW4td2lkdGg6IDI4MHB4O1xyXG5cdFx0bWF4LXdpZHRoOiAyODBweDtcclxuXHJcblx0XHQvLyBPbmx5IHNob3cgb24gbW9iaWxlXHJcblx0XHRAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuXHRcdFx0cG9zaXRpb246IGZpeGVkO1xyXG5cdFx0XHRsZWZ0OiAtMjgwcHg7XHJcblx0XHRcdHRvcDogNTBweDtcclxuXHRcdFx0ei1pbmRleDogMTA1MDtcclxuXHRcdFx0YmFja2dyb3VuZDpcclxuXHRcdFx0d2hpdGU7XHJcblx0XHRcdGJveC1zaGFkb3c6IDVweCAxMHB4IDEwcHggcmdiYSgwLDIwLDQwLDAuMTQpO1xyXG5cdFx0XHR0cmFuc2l0aW9uOiBhbGwgMC4yNXMgZWFzZTtcclxuXHJcblx0XHRcdCYubWVudS12aXNpYmxle1xyXG5cdFx0XHRcdGxlZnQ6IDBweDtcclxuXHRcdFx0XHR0cmFuc2l0aW9uOiBhbGwgMC4yNXMgZWFzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gTWFpbiBjb250ZW50XHJcblx0Ly8gTWFwIGFuZCBkYXRhXHJcblx0Ly8gU2l6ZSBjYW4gYmUgdG9nZ2xlZFxyXG5cdC5hcHAtY29udGVudHtcclxuXHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRmbGV4LWdyb3c6IDM7XHJcblx0XHR3aWR0aDogMTAwJTtcclxuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHRcdGhlaWdodDogMTAwJTtcclxuXHRcdG1heC13aWR0aDogOTAlO1xyXG5cdFx0bWF4LXdpZHRoOiBjYWxjKDEwMHZ3IC0gMjgwcHgpO1xyXG5cclxuXHRcdC8vIEZ1bGwgd2lkdGggb24gbW9iaWxlXHJcblx0XHRAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuXHRcdFx0bWF4LXdpZHRoOiAxMDB2dztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBNYXAgd3JhcHBlciAtIHNldC9jaGFuZ2UgaGVpZ2h0IGhlcmVcclxuXHRcdHRvdC1tYXB7XHJcblx0XHRcdGhlaWdodDogNTAlO1xyXG5cdFx0XHRvdmVyZmxvdzogaGlkZGVuO1xyXG5cdFx0XHR3aWR0aDogMTAwJTtcclxuXHRcdFx0bWF4LWhlaWdodDogNTAlO1xyXG5cclxuXHRcdFx0Ly8gQ2xhc3NlcyB0byBkZWZpbmUgaGVpZ2h0XHJcblx0XHRcdC8vICYuZnVsbC1tYXB7XHJcblx0XHRcdFx0aGVpZ2h0OiAxMDAlO1xyXG5cdFx0XHRcdG1heC1oZWlnaHQ6IDEwMCU7XHJcblx0XHRcdFx0bWluLWhlaWdodDogMTAwJTtcclxuXHRcdFx0Ly8gfVxyXG5cdFx0XHQmLmhhbGYtbWFwe1xyXG5cdFx0XHRcdGhlaWdodDogNDYlO1xyXG5cdFx0XHRcdG1heC1oZWlnaHQ6IDQ2JTtcclxuXHRcdFx0XHRtaW4taGVpZ2h0OiA0NiU7XHJcblx0XHRcdH1cclxuXHRcdFx0Ji5zbWFsbC1tYXB7XHJcblx0XHRcdFx0aGVpZ2h0OiAyNiU7XHJcblx0XHRcdFx0bWF4LWhlaWdodDogMjYlO1xyXG5cdFx0XHRcdG1pbi1oZWlnaHQ6IDI2JTtcclxuXHRcdFx0fVxyXG5cdFx0XHQmLnJlcG9ydC1tYXB7XHJcblx0XHRcdFx0aGVpZ2h0OiAxMDAlO1xyXG5cdFx0XHRcdG1heC1oZWlnaHQ6IDEwMCU7XHJcblx0XHRcdFx0bWluLWhlaWdodDoxMDAlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR0b3QtZm9vdGVye1xyXG5cdFx0XHR3aWR0aDogMTAwJTtcclxuXHRcdFx0ZmxleC1ncm93OiAzO1xyXG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRvdmVyZmxvdzogYXV0bztcclxuXHRcdFx0bWF4LXdpZHRoOiAxMDAlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZsb2F0aW5nIGJ1dHRvbnMgdG8gdG9nZ2xlIG1hcCBoZWlnaHRcclxuXHRcdCNtYXBIZWlnaHRUb2dnbGV7XHJcblx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHRcdFx0aGVpZ2h0OiA0NHB4O1xyXG5cdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O1xyXG5cdFx0XHR3aWR0aDogMTAwJTtcclxuXHRcdFx0ei1pbmRleDogNTAwO1xyXG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcclxuXHRcdFx0cGFkZGluZy10b3A6IDEwcHg7XHJcblx0XHRcdHRvcDogLTEwMHB4O1xyXG5cdFx0XHR0cmFuc2l0aW9uOiAwLjJzO1xyXG5cclxuXHRcdFx0Ji52aXNpYmxle1xyXG5cdFx0XHRcdHRvcDogMHB4O1xyXG5cdFx0XHRcdHRyYW5zaXRpb246IDAuMnM7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGJ1dHRvbntcclxuXHRcdFx0XHRtYXJnaW46IDA7XHJcblx0XHRcdFx0cGFkZGluZzogMHB4IDEwcHggMXB4IDEwcHg7XHJcblx0XHRcdFx0Ym9yZGVyLXJhZGl1czogMDtcclxuXHRcdFx0XHRmb250LXNpemU6IDE1cHg7XHJcblxyXG5cdFx0XHRcdGl7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQmOm50aC1jaGlsZCgxKXtcclxuXHRcdFx0XHRcdGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDJweDtcclxuXHRcdFx0XHRcdGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDJweDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JjpudGgtY2hpbGQoMyl7XHJcblx0XHRcdFx0XHRib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMnB4O1xyXG5cdFx0XHRcdFx0Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDJweDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdCYuYWN0aXZle1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogIzA2NTJENjtcclxuXHJcblx0XHRcdFx0XHQmOmhvdmVye1xyXG5cdFx0XHRcdFx0XHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5cclxuIiwiLmFwcC1ib2R5IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1ncm93OiAzO1xuICB3aWR0aDogMTAwdnc7XG4gIG1heC13aWR0aDogMTAwdnc7XG4gIG1pbi13aWR0aDogMTAwdnc7XG59XG4uYXBwLWJvZHkgdG90LXNpZGViYXIge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAyODBweDtcbiAgbWluLXdpZHRoOiAyODBweDtcbiAgbWF4LXdpZHRoOiAyODBweDtcbn1cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAuYXBwLWJvZHkgdG90LXNpZGViYXIge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBsZWZ0OiAtMjgwcHg7XG4gICAgdG9wOiA1MHB4O1xuICAgIHotaW5kZXg6IDEwNTA7XG4gICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgYm94LXNoYWRvdzogNXB4IDEwcHggMTBweCByZ2JhKDAsIDIwLCA0MCwgMC4xNCk7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMjVzIGVhc2U7XG4gIH1cbiAgLmFwcC1ib2R5IHRvdC1zaWRlYmFyLm1lbnUtdmlzaWJsZSB7XG4gICAgbGVmdDogMHB4O1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjI1cyBlYXNlO1xuICB9XG59XG4uYXBwLWJvZHkgLmFwcC1jb250ZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZsZXgtZ3JvdzogMztcbiAgd2lkdGg6IDEwMCU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtYXgtd2lkdGg6IDkwJTtcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMHZ3IC0gMjgwcHgpO1xufVxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5hcHAtYm9keSAuYXBwLWNvbnRlbnQge1xuICAgIG1heC13aWR0aDogMTAwdnc7XG4gIH1cbn1cbi5hcHAtYm9keSAuYXBwLWNvbnRlbnQgdG90LW1hcCB7XG4gIGhlaWdodDogNTAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LWhlaWdodDogNTAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDEwMCU7XG59XG4uYXBwLWJvZHkgLmFwcC1jb250ZW50IHRvdC1tYXAuaGFsZi1tYXAge1xuICBoZWlnaHQ6IDQ2JTtcbiAgbWF4LWhlaWdodDogNDYlO1xuICBtaW4taGVpZ2h0OiA0NiU7XG59XG4uYXBwLWJvZHkgLmFwcC1jb250ZW50IHRvdC1tYXAuc21hbGwtbWFwIHtcbiAgaGVpZ2h0OiAyNiU7XG4gIG1heC1oZWlnaHQ6IDI2JTtcbiAgbWluLWhlaWdodDogMjYlO1xufVxuLmFwcC1ib2R5IC5hcHAtY29udGVudCB0b3QtbWFwLnJlcG9ydC1tYXAge1xuICBoZWlnaHQ6IDEwMCU7XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDEwMCU7XG59XG4uYXBwLWJvZHkgLmFwcC1jb250ZW50IHRvdC1mb290ZXIge1xuICB3aWR0aDogMTAwJTtcbiAgZmxleC1ncm93OiAzO1xuICBkaXNwbGF5OiBmbGV4O1xuICBvdmVyZmxvdzogYXV0bztcbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuLmFwcC1ib2R5IC5hcHAtY29udGVudCAjbWFwSGVpZ2h0VG9nZ2xlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBoZWlnaHQ6IDQ0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICB3aWR0aDogMTAwJTtcbiAgei1pbmRleDogNTAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG4gIHRvcDogLTEwMHB4O1xuICB0cmFuc2l0aW9uOiAwLjJzO1xufVxuLmFwcC1ib2R5IC5hcHAtY29udGVudCAjbWFwSGVpZ2h0VG9nZ2xlLnZpc2libGUge1xuICB0b3A6IDBweDtcbiAgdHJhbnNpdGlvbjogMC4ycztcbn1cbi5hcHAtYm9keSAuYXBwLWNvbnRlbnQgI21hcEhlaWdodFRvZ2dsZSBidXR0b24ge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDBweCAxMHB4IDFweCAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAwO1xuICBmb250LXNpemU6IDE1cHg7XG59XG4uYXBwLWJvZHkgLmFwcC1jb250ZW50ICNtYXBIZWlnaHRUb2dnbGUgYnV0dG9uOm50aC1jaGlsZCgxKSB7XG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDJweDtcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMnB4O1xufVxuLmFwcC1ib2R5IC5hcHAtY29udGVudCAjbWFwSGVpZ2h0VG9nZ2xlIGJ1dHRvbjpudGgtY2hpbGQoMykge1xuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMnB4O1xuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMnB4O1xufVxuLmFwcC1ib2R5IC5hcHAtY29udGVudCAjbWFwSGVpZ2h0VG9nZ2xlIGJ1dHRvbi5hY3RpdmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDY1MkQ2O1xufVxuLmFwcC1ib2R5IC5hcHAtY29udGVudCAjbWFwSGVpZ2h0VG9nZ2xlIGJ1dHRvbi5hY3RpdmU6aG92ZXIge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59Il19 */"

/***/ }),

/***/ "./src/app/modules/core/core.component.ts":
/*!************************************************!*\
  !*** ./src/app/modules/core/core.component.ts ***!
  \************************************************/
/*! exports provided: CoreComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreComponent", function() { return CoreComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");



var CoreComponent = /** @class */ (function () {
    //show: boolean = true;
    function CoreComponent(config, modalService) {
        this.modalService = modalService;
    }
    CoreComponent.prototype.changeMapSize = function (size) {
        this.mapSize = size;
        $('body').attr('class', size + '-toast-map');
    };
    CoreComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'tot-core',
            template: __webpack_require__(/*! ./core.component.html */ "./src/app/modules/core/core.component.html"),
            providers: [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModalConfig"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModal"]],
            styles: [__webpack_require__(/*! ./core.component.scss */ "./src/app/modules/core/core.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModalConfig"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModal"]])
    ], CoreComponent);
    return CoreComponent;
}());



/***/ }),

/***/ "./src/app/modules/core/core.module.ts":
/*!*********************************************!*\
  !*** ./src/app/modules/core/core.module.ts ***!
  \*********************************************/
/*! exports provided: CoreModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreModule", function() { return CoreModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _components_sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/sidebar/sidebar.component */ "./src/app/modules/core/components/sidebar/sidebar.component.ts");
/* harmony import */ var _components_footer_footer_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/footer/footer.component */ "./src/app/modules/core/components/footer/footer.component.ts");
/* harmony import */ var _components_map_map_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/map/map.component */ "./src/app/modules/core/components/map/map.component.ts");
/* harmony import */ var _asymmetrik_ngx_leaflet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @asymmetrik/ngx-leaflet */ "./node_modules/@asymmetrik/ngx-leaflet/dist/index.js");
/* harmony import */ var _core_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core.component */ "./src/app/modules/core/core.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var mat_progress_buttons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! mat-progress-buttons */ "./node_modules/mat-progress-buttons/esm5/mat-progress-buttons.es5.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _services_navigationservices_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/navigationservices.service */ "./src/app/modules/core/services/navigationservices.service.ts");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./services/study.service */ "./src/app/modules/core/services/study.service.ts");
/* harmony import */ var _services_traveltimeservices_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./services/traveltimeservices.service */ "./src/app/modules/core/services/traveltimeservices.service.ts");
/* harmony import */ var ngx_print__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ngx-print */ "./node_modules/ngx-print/fesm5/ngx-print.js");
/* harmony import */ var src_app_app_routing_module__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! src/app/app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm5/ng-bootstrap.js");
/* harmony import */ var _components_appcharts_appcharts_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/appcharts/appcharts.component */ "./src/app/modules/core/components/appcharts/appcharts.component.ts");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ng2-charts */ "./node_modules/ng2-charts/fesm5/ng2-charts.js");
/* harmony import */ var _services_chart_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./services/chart.service */ "./src/app/modules/core/services/chart.service.ts");
/* harmony import */ var _components_map_map_module__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/map/map.module */ "./src/app/modules/core/components/map/map.module.ts");
/* harmony import */ var _ng_select_ng_select__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @ng-select/ng-select */ "./node_modules/@ng-select/ng-select/fesm5/ng-select-ng-select.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _components_modals_report_report_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/modals/report/report.component */ "./src/app/modules/core/components/modals/report/report.component.ts");
/* harmony import */ var _components_modals_report_report_module__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/modals/report/report.module */ "./src/app/modules/core/components/modals/report/report.module.ts");
/* harmony import */ var angulartics2__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! angulartics2 */ "./node_modules/angulartics2/fesm5/angulartics2.js");
/* harmony import */ var _components_appcharts_appcharts_module__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/appcharts/appcharts.module */ "./src/app/modules/core/components/appcharts/appcharts.module.ts");
/* harmony import */ var _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./services/nwisservices.service */ "./src/app/modules/core/services/nwisservices.service.ts");
/* harmony import */ var _services_nldiservices_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./services/nldiservices.service */ "./src/app/modules/core/services/nldiservices.service.ts");































var CoreModule = /** @class */ (function () {
    function CoreModule() {
    }
    CoreModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [_components_sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_2__["SidebarComponent"], _core_component__WEBPACK_IMPORTED_MODULE_6__["CoreComponent"], _components_footer_footer_component__WEBPACK_IMPORTED_MODULE_3__["FooterComponent"]],
            imports: [
                _asymmetrik_ngx_leaflet__WEBPACK_IMPORTED_MODULE_5__["LeafletModule"].forRoot(),
                _angular_forms__WEBPACK_IMPORTED_MODULE_24__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_24__["ReactiveFormsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatExpansionModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatInputModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_8__["CommonModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_9__["BrowserModule"],
                _ng_select_ng_select__WEBPACK_IMPORTED_MODULE_23__["NgSelectModule"],
                mat_progress_buttons__WEBPACK_IMPORTED_MODULE_10__["MatProgressButtonsModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_11__["BrowserAnimationsModule"],
                ngx_print__WEBPACK_IMPORTED_MODULE_16__["NgxPrintModule"],
                src_app_app_routing_module__WEBPACK_IMPORTED_MODULE_17__["AppRoutingModule"],
                _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__["NgbModule"],
                ng2_charts__WEBPACK_IMPORTED_MODULE_20__["ChartsModule"],
                _components_map_map_module__WEBPACK_IMPORTED_MODULE_22__["MapModule"],
                _components_modals_report_report_module__WEBPACK_IMPORTED_MODULE_26__["ReportModule"],
                angulartics2__WEBPACK_IMPORTED_MODULE_27__["Angulartics2Module"].forRoot(),
                _components_appcharts_appcharts_module__WEBPACK_IMPORTED_MODULE_28__["AppChartsModule"]
            ],
            providers: [_services_map_service__WEBPACK_IMPORTED_MODULE_13__["MapService"], _services_navigationservices_service__WEBPACK_IMPORTED_MODULE_12__["NavigationService"], _services_study_service__WEBPACK_IMPORTED_MODULE_14__["StudyService"], _services_traveltimeservices_service__WEBPACK_IMPORTED_MODULE_15__["TravelTimeService"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_18__["NgbActiveModal"], _services_chart_service__WEBPACK_IMPORTED_MODULE_21__["ChartService"], _services_nwisservices_service__WEBPACK_IMPORTED_MODULE_29__["NWISService"], _services_nldiservices_service__WEBPACK_IMPORTED_MODULE_30__["NLDIService"]],
            exports: [_components_sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_2__["SidebarComponent"], _components_map_map_component__WEBPACK_IMPORTED_MODULE_4__["MapComponent"], _core_component__WEBPACK_IMPORTED_MODULE_6__["CoreComponent"], _components_footer_footer_component__WEBPACK_IMPORTED_MODULE_3__["FooterComponent"], _components_appcharts_appcharts_component__WEBPACK_IMPORTED_MODULE_19__["AppchartsComponent"], _components_modals_report_report_component__WEBPACK_IMPORTED_MODULE_25__["ReportComponent"]],
            bootstrap: [_core_component__WEBPACK_IMPORTED_MODULE_6__["CoreComponent"]]
        })
    ], CoreModule);
    return CoreModule;
}());



/***/ }),

/***/ "./src/app/modules/core/models/gages.ts":
/*!**********************************************!*\
  !*** ./src/app/modules/core/models/gages.ts ***!
  \**********************************************/
/*! exports provided: gages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gages", function() { return gages; });
var gages = /** @class */ (function () {
    function gages(arg) {
        this.comid = arg.comid;
        this.identifier = arg.identifier;
        this.name = arg.name;
        this.navigation = arg.navigation;
        this.uri = arg.uri;
        this.source = arg.source;
        if (typeof (arg.value) == 'undefined') {
            this.value = '-999999';
        }
        else {
            this.value = arg.value;
        }
        if (typeof (arg.record) == 'undefined') {
            this.record = new Date();
        }
        else {
            this.record = arg.record;
        }
        this.drainagearea = Number(arg.drainagearea).toFixed(1);
        if (typeof (arg.status) == 'undefined') {
            this.status = 'Inactive';
        }
        else {
            this.status = arg.status;
        }
    }
    return gages;
}());



/***/ }),

/***/ "./src/app/modules/core/models/reach.ts":
/*!**********************************************!*\
  !*** ./src/app/modules/core/models/reach.ts ***!
  \**********************************************/
/*! exports provided: reach */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reach", function() { return reach; });
var reach = /** @class */ (function () {
    function reach(arg) {
        this.reaches = {}; //initial input from the service
        this.result = {};
        arg = arg.reaches[0];
        this.description = arg.description;
        this.id = arg.id;
        this.name = arg.name;
        this.parameters = [];
        this._init(arg.parameters);
        this.ischeked = false;
    }
    reach.prototype._init = function (paramlist) {
        for (var i = 0; i < paramlist.length; i++) {
            var newparam = {};
            for (var mykey in paramlist[i]) { //deep copy constructor
                newparam[mykey] = paramlist[i][mykey]; // parameters[key 1][val 1] (key1: val1) //{units: }
            }
            if (newparam["value"] == undefined) { //if there is no value key  in the dictionary --> add key
                newparam["value"] = undefined;
            }
            if (newparam["required"] == undefined) {
                newparam["required"] = false;
            }
            this.parameters.push(newparam);
        }
        ;
    }; //type of array with anything
    return reach;
}());



/***/ }),

/***/ "./src/app/modules/core/models/study.ts":
/*!**********************************************!*\
  !*** ./src/app/modules/core/models/study.ts ***!
  \**********************************************/
/*! exports provided: Study */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Study", function() { return Study; });
var Study = /** @class */ (function () {
    function Study(methodtype) {
        this.Reaches = [];
        this._methodType = methodtype;
    }
    Object.defineProperty(Study.prototype, "MethodType", {
        get: function () {
            return this._methodType;
        },
        enumerable: true,
        configurable: true
    });
    return Study;
}());



/***/ }),

/***/ "./src/app/modules/core/services/chart.service.ts":
/*!********************************************************!*\
  !*** ./src/app/modules/core/services/chart.service.ts ***!
  \********************************************************/
/*! exports provided: ChartService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartService", function() { return ChartService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");



;
var ChartService = /** @class */ (function () {
    function ChartService() {
        this.myarray = [];
        this.newval = { most: true, max: false };
        //DISPLAY FOOTER AND CHARTS;
        this.DisplayBlock = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.display$ = this.DisplayBlock.asObservable();
        //NOTICE ACTION, SELECT FROM THE FOOTER;
        this.ResultReturn = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.return$ = this.ResultReturn.asObservable();
    }
    ChartService.prototype.displayAction = function (key, val) {
        this.newval[key] = val;
        this.DisplayBlock.next(this.newval);
    };
    ChartService.prototype.noticeAction = function (val) {
        this.myarray.push(val);
        this.ResultReturn.next(this.myarray);
    };
    ChartService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], ChartService);
    return ChartService;
}());



/***/ }),

/***/ "./src/app/modules/core/services/map.service.ts":
/*!******************************************************!*\
  !*** ./src/app/modules/core/services/map.service.ts ***!
  \******************************************************/
/*! exports provided: MapService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapService", function() { return MapService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var esri_leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! esri-leaflet */ "./node_modules/esri-leaflet/src/EsriLeaflet.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var leaflet_markercluster__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! leaflet.markercluster */ "./node_modules/leaflet.markercluster/dist/leaflet.markercluster-src.js");
/* harmony import */ var leaflet_markercluster__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(leaflet_markercluster__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _services_study_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../services/study.service */ "./src/app/modules/core/services/study.service.ts");










var MapService = /** @class */ (function () {
    function MapService(http, toastr, studyService) {
        var _this = this;
        // for layers that will show up in the leaflet control
        this.LayersControl = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"]({ baseLayers: [], overlays: [] });
        this._layersControl = {
            baseLayers: [], overlays: []
        };
        this.CurrentZoomLevel = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](undefined);
        this.nominalZoomLevel = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](undefined);
        this.isClickable = false;
        this.fitBounds = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](undefined);
        this.gageDischargeSearch = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](undefined);
        this.layerGroup = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](undefined);
        this.reportlayerGroup = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](undefined);
        this.bounds = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](undefined);
        this.showGages = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](false);
        this.showUpstream = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](false);
        this.states = [];
        this.States = new rxjs__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.states$ = this.States.asObservable();
        this.LatLng = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](undefined);
        this.Poi$ = this.LatLng.asObservable();
        this.isInsideWaterBody = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](false);
        this.messanger = toastr;
        this.StudyService = studyService;
        this.http = http;
        this.Options = {
            zoom: 4,
            center: leaflet__WEBPACK_IMPORTED_MODULE_2__["latLng"](39, -100)
        };
        if (this.unitsOptions == 'metric') {
            this.ScaleOptions = {
                metric: true,
                imperial: false
            };
        }
        else {
            this.ScaleOptions = {
                imperial: true,
                metric: false
            };
        }
        //this.CurrentZoomLevel.next(this.Options.zoom);
        //DISPLAY FOOTER AND CHARTS;
        http.get("assets/data/config.json").subscribe(function (data) {
            //load baselayers
            var conf = data;
            conf.mapLayers.baseLayers.forEach(function (ml) {
                if (ml.visible)
                    _this.CurrentLayer = ml.name;
                else { }
                ml.layer = _this.loadLayer(ml);
                if (ml.layer != null)
                    _this._layersControl.baseLayers.push(ml);
            });
            conf.mapLayers.overlayLayers.forEach(function (ml) {
                ml.layer = _this.loadLayer(ml);
                if (ml.layer != null)
                    _this._layersControl.overlays.push(ml);
            });
            _this.LayersControl.next(_this._layersControl);
            _this.markerOptions = conf.mapLayers.markerOptions;
            _this.unitsOptions = conf.Units;
            _this.abbrevOptions = conf.Abbreviations;
            //this.addDriftGroup(); //add back in after DRIFT data becomes available
        });
    }
    MapService.prototype.AddMapLayer = function (mlayer) {
        var ml = this._layersControl.overlays.find(function (l) { return (l.name === mlayer.name); });
        if (ml != null)
            ml.layer = mlayer.layer;
        else
            this._layersControl.overlays.push(mlayer);
        //Notify subscribers
        this.LayersControl.next(this._layersControl);
    };
    MapService.prototype.HighlightFeature = function (layername, indx) {
        var _this = this;
        var ml = this._layersControl.overlays.find(function (l) { return (l.name === layername); });
        if (!ml)
            return;
        if (!ml.visible) {
            ml.visible = true;
        }
        var j = 0; //counts only lines;
        ml.layer.eachLayer(function (o) {
            if (typeof (o._layers) === "undefined") {
            }
            else if (o.options.radius > 50) {
            }
            else {
                var nhdplusid = Object.values(o._layers)[0]["feature"].properties.nhdplus_comid;
                if (Number(indx) == Number(nhdplusid)) {
                    var polybounds = (Object.values(o._layers)[0]["_bounds"]);
                    _this.map.fitBounds(polybounds, {
                        paddingTopLeft: [100, 100],
                        paddingBottomRight: [100, 100],
                        maxZoom: 14
                    });
                    //record current style
                    o.options2 = o.options;
                    o.setStyle({ color: "#BD00FF", weight: 6, opacity: 1 }); //highlight specific one #FF3333
                }
                else {
                    if (o.options2) {
                        o.setStyle(o.options2);
                    }
                    else {
                        var style = o.options;
                        o.setStyle({ style: style });
                    }
                }
                j += 1;
            }
        });
    };
    MapService.prototype.SetOverlay = function (layername) {
        var ml = this._layersControl.overlays.find(function (l) { return (l.name === layername); });
        if (!ml)
            return;
        if (ml.visible) {
            ml.visible = false;
        }
        else {
            ml.visible = true;
        }
        //notify layercontrol change
        this.LayersControl.next(this._layersControl);
    };
    MapService.prototype.SetBaselayer = function (layername) {
        var _this = this;
        if (this.CurrentLayer != layername) {
            var ml = this._layersControl.baseLayers.find(function (l) { return (l.name === _this.CurrentLayer); });
            if (!ml)
                return;
            ml.visible = false;
        }
        var ml = this._layersControl.baseLayers.find(function (l) { return (l.name === layername); });
        if (ml.visible) {
            ml.visible = false;
        }
        else {
            ml.visible = true;
        }
        this.CurrentLayer = ml.name;
        var tempOptions = this.Options;
        this.LayersControl.next(this._layersControl);
        this.CurrentZoomLevel.next(tempOptions.zoom);
    };
    MapService.prototype.setCursor = function (type) {
        switch (type) {
            case "crosshair":
                document.getElementById('leaflet').style.cursor = 'crosshair';
                break;
            case "":
                document.getElementById('leaflet').style.cursor = '';
                break;
            default:
                break;
        }
    };
    MapService.prototype.setBounds = function (loc) {
        this._bound = loc;
        this.bounds.next(loc);
        this.fitBounds.next(this._bound);
    };
    MapService.prototype.getFlowLineLayerGroup = function (features, method, isMetric, mostMax) {
        var _this = this;
        var layerGroup = new leaflet__WEBPACK_IMPORTED_MODULE_2__["FeatureGroup"]([]);
        var reportlayerGroup = new leaflet__WEBPACK_IMPORTED_MODULE_2__["FeatureGroup"]([]);
        var nhdcomid;
        var rtDischarge;
        var maDischarge;
        var length; //accumulated distance
        var drainage;
        var velocity;
        //var peak_tot;  //for testing only
        var accutot;
        var accutotmax;
        var velocityMax;
        var temppoint;
        var gagesArray = [];
        features.forEach(function (i) {
            if (i.geometry.type === 'Point') {
                var siteID = i.properties.identifier.replace("USGS-", "");
                // MarkerMaker Icon
                var blackTriangle = leaflet__WEBPACK_IMPORTED_MODULE_2__["divIcon"]({ className: 'wmm-triangle wmm-black wmm-size-15' });
                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["marker"]([i.geometry.coordinates[1], i.geometry.coordinates[0]], {
                    icon: blackTriangle
                }).bindPopup('<h3>Streamgages</h3><br /><b>Station ID: </b>' + siteID + '<br /><b>Station Name: </b>' + i.properties.name + '<br /><b>Station Latitude: </b>' + i.geometry.coordinates[1] + '<br /><b>Station Longitude: </b>' + i.geometry.coordinates[0] + '<br /><b>NWIS page: </b><a href="' + i.properties.uri + '" target="_blank">link</a><br /><b>StreamStats Gage page: </b><a href="https://streamstatsags.cr.usgs.gov/gagepages/html/' + siteID + '.htm" target="_blank">link</a>'));
                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["marker"]([i.geometry.coordinates[1], i.geometry.coordinates[0]], {
                    icon: blackTriangle
                }));
                gagesArray.push(i);
            }
            else if (typeof i.properties.nhdplus_comid === 'undefined') {
                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline_dash));
                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline_dash));
            }
            else {
                if (_this.StudyService.selectedStudy.MethodType === 'planning') { //colorize spill planning trace
                    if (mostMax === 'most') {
                        if (i.properties.IsWaterBody === 1 || isNaN(i.properties.accutot)) {
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline_break)); //gray
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline_break));
                        }
                        else if (i.properties.accutot > 0 && i.properties.accutot <= 6) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline2dash)); //red, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline2dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline2)); //red
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline2));
                            }
                        }
                        else if (i.properties.accutot > 6 && i.properties.accutot <= 12) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline3dash)); //red orange, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline3dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline3)); //red orange
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline3));
                            }
                        }
                        else if (i.properties.accutot > 12 && i.properties.accutot <= 24) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline4dash)); //orange, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline4dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline4)); //orange
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline4));
                            }
                        }
                        else if (i.properties.accutot > 24 && i.properties.accutot <= 36) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline5dash)); //yellow, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline5dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline5)); //yellow
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline5));
                            }
                        }
                        else if (i.properties.accutot > 36 && i.properties.accutot <= 48) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline6dash)); //lime green, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline6dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline6)); //lime green
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline6));
                            }
                        }
                        else {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7dash)); //dark green, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7)); //dark green
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7));
                            }
                        }
                    }
                    else if (mostMax === 'max') {
                        if (i.properties.IsWaterBody === 1 || isNaN(i.properties.accutot)) {
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline_break)); //gray
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline_break));
                        }
                        else if (i.properties.accutotmax > 0 && i.properties.accutotmax <= 6) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline2dash)); //red, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline2dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline2)); //red
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline2));
                            }
                        }
                        else if (i.properties.accutotmax > 6 && i.properties.accutotmax <= 12) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline3dash)); //red orange, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline3dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline3)); //red orange
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline3));
                            }
                        }
                        else if (i.properties.accutotmax > 12 && i.properties.accutotmax <= 24) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline4dash)); //orange, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline4dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline4)); //orange
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline4));
                            }
                        }
                        else if (i.properties.accutotmax > 24 && i.properties.accutotmax <= 36) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline5dash)); //yellow, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline5dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline5)); //yellow
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline5));
                            }
                        }
                        else if (i.properties.accutotmax > 36 && i.properties.accutotmax <= 48) {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline6dash)); //lime green, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline6dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline6)); //lime green
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline6));
                            }
                        }
                        else {
                            if (i.properties.CanalDitch > 50 || i.properties.Connector > 50) {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7dash)); //dark green, dashed
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7dash));
                            }
                            else {
                                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7)); //dark green
                                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7));
                            }
                        }
                    }
                }
                else { //spill response trace
                    layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7)); //dark green
                    reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](i, _this.markerOptions.Polyline7));
                }
                //reach pop-up text assignments
                if (_this.StudyService.selectedStudy.MethodType === 'response') {
                    nhdcomid = 'Reach ID: ' + String(i.properties.nhdplus_comid);
                    if (_this.StudyService.GetWorkFlow('totResults')) { //travel times have been calculated
                        if (isMetric) {
                            maDischarge = 'Mean annual discharge: ' + String((i.properties.Discharge * 0.0283).toUSGSvalue()); //cfs to cms
                            //remember to grab accumulated length
                            length = 'Length: ' + String((i.properties.Length * 1).toUSGSvalue()); //kilometers (single reach)
                            drainage = ' Drainage area: ' + String(i.properties.DrainageArea); //square kilometers
                            temppoint = i.geometry.coordinates[i.geometry.coordinates.length - 1];
                            //items below to be hooked up later - items above come from selectedStudy.SpillResponseResponse, items below come from selectedStudy.Results
                            //velocity = 'Velocity (most probable): ' + String(i.properties.VelocityMost);    
                            //velocityMax = 'Velocity (max probable): ' + String(i.properties.VelocityMax);
                            //accutot = 'Travel time (most probable): ' + String(i.properties.accutot);
                            //accutotmax = 'Travel time (max probable): ' + String(i.properties.accutotmax);            
                        }
                        else { //imperial units
                            maDischarge = 'Mean annual discharge: ' + String(i.properties.Discharge); // cfs
                            length = 'Length: ' + String((i.properties.Length * 0.6214).toUSGSvalue()); //miles (single reach)
                            drainage = ' Drainage area: ' + String(Math.round((i.properties.DrainageArea * 0.386102) * 10) / 10); //square miles
                            temppoint = i.geometry.coordinates[i.geometry.coordinates.length - 1];
                            //items below to be hooked up later - items above come from selectedStudy.SpillResponseResponse, items below come from selectedStudy.Results
                            // velocity = 'Velocity (most probable): ' + String(i.properties.VelocityMost);
                            // velocityMax = 'Velocity (max probable): ' + String(i.properties.VelocityMax);
                            // accutot = 'Travel time (most probable): ' + String(i.properties.accutot);
                            // accutotmax = 'Travel time (max probable): ' + String(i.properties.accutotmax);            
                        }
                    }
                    else { //have not yet calculated travel times
                        if (isMetric) {
                            maDischarge = 'Mean annual discharge: ' + String((i.properties.Discharge * 0.0283).toUSGSvalue()); //cfs to cms
                            length = 'Length: ' + String((i.properties.Length * 1).toUSGSvalue()); //kilometers (single reach)
                            drainage = ' Drainage area: ' + String(i.properties.DrainageArea); //square kilometers
                            temppoint = i.geometry.coordinates[i.geometry.coordinates.length - 1];
                        }
                        else { //imperial units
                            maDischarge = 'Mean annual discharge: ' + String(i.properties.Discharge); // cfs
                            length = 'Length: ' + String((i.properties.Length * 0.6214).toUSGSvalue()); //miles (single reach)
                            drainage = ' Drainage area: ' + String(Math.round((i.properties.DrainageArea * 0.386102) * 10) / 10); //square miles
                            temppoint = i.geometry.coordinates[i.geometry.coordinates.length - 1];
                        }
                    }
                }
                else { //methodType = planning
                    nhdcomid = 'Reach ID: ' + String(i.properties.nhdplus_comid);
                    rtDischarge = 'Real-time discharge: ' + String(i.properties.RTDischarge);
                    maDischarge = 'Mean annual discharge: ' + String(i.properties.Discharge);
                    length = 'Length: ' + String(i.properties.acculength);
                    drainage = ' Drainage area: ' + String(i.properties.DrainageArea);
                    velocity = 'Velocity (most probable): ' + String(i.properties.VelocityMost);
                    velocityMax = 'Velocity (max probable): ' + String(i.properties.VelocityMax);
                    //peak_tot = 'Peak ToT for reach only: ' + String(i.properties.T_p); for testing only
                    accutot = 'Travel time (most probable): ' + String(i.properties.accutot);
                    accutotmax = 'Travel time (max probable): ' + String(i.properties.accutotmax);
                    temppoint = i.geometry.coordinates[i.geometry.coordinates.length - 1];
                }
                //reach end node assignments
                if (method === 'response') {
                    if (isMetric) {
                        if (mostMax === "most") {
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' km<sup>2</sup><br />' + length + ' km<br />' + maDischarge + ' cms'));
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' km<sup>2</sup><br />' + length + 'km<br />' + rtDischarge + ' cms<br />' + maDischarge + ' cms'));
                        }
                        else { //max probable scenario
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' km<sup>2</sup><br />' + length + ' km<br />' + maDischarge + ' cms'));
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' km<sup>2</sup><br />' + length + 'km<br />' + rtDischarge + ' cms<br />' + maDischarge + ' cms'));
                        }
                    }
                    else { //imperial units
                        if (mostMax === "most") {
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' mi<sup>2</sup><br />' + length + ' mi<br />' + maDischarge + ' cfs'));
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' mi<sup>2</sup><br />' + length + 'mi<br />' + rtDischarge + ' cfs<br />' + maDischarge + ' cfs'));
                        }
                        else { //max probable scenario
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' mi<sup>2</sup><br />' + length + ' mi<br />' + maDischarge + ' cfs'));
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' mi<sup>2</sup><br />' + length + 'mi<br />' + rtDischarge + ' cfs'));
                        }
                    }
                }
                else { //planning
                    if (isMetric) {
                        if (mostMax === "most") {
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' km<sup>2</sup><br />' + length + ' km<br />' + rtDischarge + ' cms<br />' + maDischarge + ' cms<br />' + velocity + ' m/s<br />' + accutot + ' hrs'));
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' km<sup>2</sup><br />' + length + ' km<br />' + rtDischarge + ' cms<br />' + maDischarge + ' cms<br />' + velocity + ' m/s<br />' + accutot + 'hrs'));
                        }
                        else { //max probable scenario
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' km<sup>2</sup><br />' + length + ' km<br />' + rtDischarge + ' cms<br />' + maDischarge + ' cms<br />' + velocityMax + ' m/s<br />' + accutotmax + ' hrs'));
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' km<sup>2</sup><br />' + length + ' km<br />' + rtDischarge + ' cms<br />' + maDischarge + ' cms<br />' + velocityMax + ' m/s<br />' + accutotmax + 'hrs'));
                        }
                    }
                    else {
                        if (mostMax === "most") {
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' mi<sup>2</sup><br />' + length + ' mi<br />' + rtDischarge + ' cfs<br />' + maDischarge + ' cfs<br />' + velocity + ' f/s<br />' + accutot + ' hrs'));
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' mi<sup>2</sup><br />' + length + ' mi<br />' + rtDischarge + ' cfs<br />' + maDischarge + ' cfs<br />' + velocity + ' f/s<br />' + accutot + ' hrs'));
                        }
                        else { //max probable scenario
                            layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' mi<sup>2</sup><br />' + length + ' mi<br />' + rtDischarge + ' cfs<br />' + maDischarge + ' cfs<br />' + velocityMax + ' f/s<br />' + accutotmax + ' hrs'));
                            reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_2__["circle"]([temppoint[1], temppoint[0]], _this.markerOptions.EndNode).bindPopup(nhdcomid + '<br />' + drainage + ' mi<sup>2</sup><br />' + length + ' mi<br />' + rtDischarge + ' cfs<br />' + maDischarge + ' cfs<br />' + velocityMax + ' f/s<br />' + accutotmax + ' hrs'));
                        }
                    }
                }
                _this.layerGroup.next(layerGroup);
                _this.reportlayerGroup.next(reportlayerGroup);
            }
        });
        // because it is async it takes time to process function above, once we have it done - we get the bounds
        // Potential to improve
        setTimeout(function () {
            _this.setBounds(layerGroup.getBounds());
        });
    };
    MapService.prototype.addDriftGroup = function () {
        var _this = this;
        this.http.get('assets/data/mydatas.geojson').subscribe(function (data) {
            var markers = Object(leaflet__WEBPACK_IMPORTED_MODULE_2__["markerClusterGroup"])();
            var geojsonMarkerOptions = {
                radius: 8,
                fillColor: "#ff7800",
                color: "#000",
                weight: 1,
                opacity: 1,
                fillOpacity: 0.8
            };
            var geoJsonLayer = leaflet__WEBPACK_IMPORTED_MODULE_2__["geoJSON"](data, {
                pointToLayer: function (feature, latlng) {
                    switch (feature.properties.Condition) {
                        case 'Injection': return leaflet__WEBPACK_IMPORTED_MODULE_2__["circleMarker"](latlng, geojsonMarkerOptions);
                        case 'Reach': return leaflet__WEBPACK_IMPORTED_MODULE_2__["circleMarker"](latlng);
                    }
                },
                onEachFeature: function (feature, layer) {
                    layer.bindPopup(feature.properties.RiverName + ' ' + feature.properties.Condition + ' - ' + feature.properties.Study);
                }
            });
            markers.addLayer(geoJsonLayer);
            _this.AddMapLayer({ name: 'DRIFT endpoints', layer: markers, visible: false });
            //var geoObject = JSON.parse(data);
            _this.StudyService.DriftData = data.features; //geoObject;
        });
    };
    MapService.prototype.loadLayer = function (ml) {
        try {
            switch (ml.type) {
                case 'agsbase':
                    return esri_leaflet__WEBPACK_IMPORTED_MODULE_3__["basemapLayer"](ml.layer);
                case 'tile':
                    //https://leafletjs.com/reference-1.5.0.html#tilelayer
                    return leaflet__WEBPACK_IMPORTED_MODULE_2__["tileLayer"](ml.url, ml.layerOptions);
                case 'agsDynamic':
                    //https://esri.github.io/esri-leaflet/api-reference/layers/dynamic-map-layer.html
                    var options = ml.layerOptions;
                    options.url = ml.url;
                    return esri_leaflet__WEBPACK_IMPORTED_MODULE_3__["dynamicMapLayer"](options);
                case 'agsTile':
                    var options = ml.layerOptions;
                    options.url = ml.url;
                    return esri_leaflet__WEBPACK_IMPORTED_MODULE_3__["tiledMapLayer"](options);
                default:
                    console.warn("No condition exists for maplayers of type ", ml.type, "see config maplayer for: " + ml.name);
            } //end switch
        }
        catch (error) {
            console.error(ml.name + " failed to load mapllayer", error);
            return null;
        }
    };
    MapService.prototype.findState = function (latlng) {
        var _this = this;
        while (this.states.length > 0) {
            this.states.splice(0, this.states.length);
        }
        this.http.get("assets/data/states.json").subscribe(function (data) {
            var conf = data;
            conf.States.forEach(function (bbox) {
                if (latlng.lng > bbox.xmin && latlng.lng < bbox.xmax && latlng.lat > bbox.ymin && latlng.lat < bbox.ymax) {
                    _this.states.push(bbox.STUSPS);
                }
            });
            _this.States.next(_this.states);
        });
    };
    MapService.prototype.SetPoi = function (latlng) {
        this.latlng = latlng;
        this.LatLng.next(this.latlng);
    };
    MapService.prototype.GetPOI = function () {
        return this.latlng;
    };
    MapService.prototype.scaleLookup = function (mapZoom) {
        switch (mapZoom) {
            case 19: return '1,128';
            case 18: return '2,256';
            case 17: return '4,513';
            case 16: return '9,027';
            case 15: return '18,055';
            case 14: return '36,111';
            case 13: return '72,223';
            case 12: return '144,447';
            case 11: return '288,895';
            case 10: return '577,790';
            case 9: return '1,155,581';
            case 8: return '2,311,162';
            case 7: return '4,622,324';
            case 6: return '9,244,649';
            case 5: return '18,489,298';
            case 4: return '36,978,596';
            case 3: return '73,957,193';
            case 2: return '147,914,387';
            case 1: return '295,828,775';
            case 0: return '591,657,550';
        }
    };
    MapService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"], ngx_toastr__WEBPACK_IMPORTED_MODULE_7__["ToastrService"], _services_study_service__WEBPACK_IMPORTED_MODULE_8__["StudyService"]])
    ], MapService);
    return MapService;
}());



/***/ }),

/***/ "./src/app/modules/core/services/navigationservices.service.ts":
/*!*********************************************************************!*\
  !*** ./src/app/modules/core/services/navigationservices.service.ts ***!
  \*********************************************************************/
/*! exports provided: NavigationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigationService", function() { return NavigationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _shared_messageType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/messageType */ "./src/app/shared/messageType.ts");







var NavigationService = /** @class */ (function () {
    function NavigationService(http, toastr) {
        this.http = http;
        this.navigationGeoJSON$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](undefined);
        this.messager = toastr;
    }
    Object.defineProperty(NavigationService.prototype, "baseURL", {
        get: function () { return " https://test.streamstats.usgs.gov/NavigationServices"; },
        enumerable: true,
        configurable: true
    });
    NavigationService.prototype.getAvailableNavigationResources = function () {
        var url = this.baseURL + "/navigation";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError('getAvailableNavigationResources', [])));
    };
    NavigationService.prototype.getNavigationResource = function (identifier) {
        var url = this.baseURL + "/navigation/" + identifier;
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError('getNavigationResource', [])));
    };
    NavigationService.prototype.getRoute = function (identifier, configuredResource, includeproperties) {
        if (includeproperties === void 0) { includeproperties = true; }
        var url = this.baseURL + "/navigation/" + identifier + "/route?properties=" + includeproperties;
        console.log(configuredResource);
        console.log(url);
        return this.http.post(url, configuredResource)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError('getRoute', [])));
    };
    NavigationService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            console.error(error);
            _this.sm("Please try again.", _shared_messageType__WEBPACK_IMPORTED_MODULE_6__["ERROR"], "Http Error Occured!", 0);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(result);
        };
    };
    NavigationService.prototype.sm = function (msg, mType, title, timeout) {
        if (mType === void 0) { mType = _shared_messageType__WEBPACK_IMPORTED_MODULE_6__["INFO"]; }
        try {
            var options = null;
            if (timeout)
                options = { timeOut: timeout };
            this.messager.show(msg, title, options, mType);
        }
        catch (e) {
        }
    };
    NavigationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"], ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"]])
    ], NavigationService);
    return NavigationService;
}());



/***/ }),

/***/ "./src/app/modules/core/services/nldiservices.service.ts":
/*!***************************************************************!*\
  !*** ./src/app/modules/core/services/nldiservices.service.ts ***!
  \***************************************************************/
/*! exports provided: NLDIService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NLDIService", function() { return NLDIService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _shared_messageType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/messageType */ "./src/app/shared/messageType.ts");







var NLDIService = /** @class */ (function () {
    function NLDIService(http, toastr) {
        this.http = http;
        this.messager = toastr;
    }
    Object.defineProperty(NLDIService.prototype, "baseURL", {
        get: function () { return "https://labs.waterdata.usgs.gov/api/nldi/pygeoapi/processes/"; },
        enumerable: true,
        configurable: true
    });
    NLDIService.prototype.GetRainDropPath = function (lat, lon, dir) {
        var url = this.baseURL + "nldi-flowtrace/execution";
        var post = {
            "inputs": [
                {
                    "id": "lat",
                    "type": "text/plain",
                    "value": lat
                },
                {
                    "id": "lon",
                    "type": "text/plain",
                    "value": lon
                },
                {
                    "id": "raindroptrace",
                    "type": "text/plain",
                    "value": "True"
                },
                {
                    "id": "direction",
                    "type": "text/plain",
                    "value": dir
                }
            ]
        };
        return this.http.post(url, post)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError('Execute', [])));
    };
    NLDIService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            console.error(error);
            _this.sm("Please try again.", _shared_messageType__WEBPACK_IMPORTED_MODULE_6__["ERROR"], "Http Error Occured!", 0);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(result);
        };
    };
    NLDIService.prototype.sm = function (msg, mType, title, timeout) {
        if (mType === void 0) { mType = _shared_messageType__WEBPACK_IMPORTED_MODULE_6__["INFO"]; }
        try {
            var options = null;
            if (timeout)
                options = { timeOut: timeout };
            this.messager.show(msg, title, options, mType);
        }
        catch (e) {
        }
    };
    NLDIService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"], ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"]])
    ], NLDIService);
    return NLDIService;
}());



/***/ }),

/***/ "./src/app/modules/core/services/nwisservices.service.ts":
/*!***************************************************************!*\
  !*** ./src/app/modules/core/services/nwisservices.service.ts ***!
  \***************************************************************/
/*! exports provided: NWISService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NWISService", function() { return NWISService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/map.service */ "./src/app/modules/core/services/map.service.ts");
/* harmony import */ var _shared_messageType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/messageType */ "./src/app/shared/messageType.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_8__);









var NWISService = /** @class */ (function () {
    function NWISService(http, mapservice, toastr) {
        this.http = http;
        this.gages = [];
        this.gagesArray = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](undefined);
        this.showGages = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](false);
        this.gagessub = [];
        this.StreamGages = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.gages$ = this.StreamGages.asObservable();
        this.MapService = mapservice;
        this.messanger = toastr;
    }
    Object.defineProperty(NWISService.prototype, "baseURL", {
        get: function () { return "https://waterservices.usgs.gov/nwis"; },
        enumerable: true,
        configurable: true
    });
    NWISService.prototype.getGageInfoNwis = function (site) {
        var baseurl = "https://waterdata.usgs.gov/nwis/inventory?search_site_no=" + site + "&search_site_no_match_type=exact&group_key=NONE&format=sitefile_output&sitefile_output_format=xml&column_name=agency_cd&column_name=site_no&column_name=station_nm&column_name=site_tp_cd&column_name=lat_va&column_name=long_va&column_name=dec_lat_va&column_name=dec_long_va&column_name=coord_meth_cd&column_name=coord_acy_cd&column_name=coord_datum_cd&column_name=dec_coord_datum_cd&column_name=district_cd&column_name=state_cd&column_name=county_cd&column_name=country_cd&column_name=land_net_ds&column_name=map_nm&column_name=map_scale_fc&column_name=alt_va&column_name=alt_meth_cd&column_name=alt_acy_va&column_name=alt_datum_cd&column_name=huc_cd&column_name=basin_cd&column_name=topo_cd&column_name=data_types_cd&column_name=instruments_cd&column_name=construction_dt&column_name=inventory_dt&column_name=drain_area_va&column_name=contrib_drain_area_va&column_name=tz_cd&column_name=local_time_fg&column_name=reliability_cd&column_name=gw_file_cd&column_name=nat_aqfr_cd&column_name=aqfr_cd&column_name=aqfr_type_cd&column_name=well_depth_va&column_name=hole_depth_va&column_name=depth_src_cd&column_name=project_no&column_name=rt_bol&column_name=peak_begin_date&column_name=peak_end_date&column_name=peak_count_nu&column_name=qw_begin_date&column_name=qw_end_date&column_name=qw_count_nu&column_name=gw_begin_date&column_name=gw_end_date&column_name=gw_count_nu&column_name=sv_begin_date&column_name=sv_end_date&column_name=sv_count_nu&list_of_search_criteria=search_site_no";
        return (this.http.get(baseurl, { responseType: 'text' }));
    };
    NWISService.prototype.getGageInfoNwisv2 = function (site) {
        var baseurl = "https://waterservices.usgs.gov/nwis/site/?site=" + site + "&siteoutput=expanded";
        return (this.http.get(baseurl, { responseType: 'text' }));
    };
    NWISService.prototype.sm = function (msg, mType, title, timeout) {
        if (mType === void 0) { mType = _shared_messageType__WEBPACK_IMPORTED_MODULE_6__["INFO"]; }
        try {
            var options = null;
            if (timeout) {
                options = { timeOut: timeout };
            }
            this.messanger.show(msg, title, options, mType);
        }
        catch (e) {
        }
    };
    NWISService.prototype.getDateSpecificFlow = function (starttime, site) {
        var _this = this;
        this.gages = []; //clear array
        var month = starttime.month;
        var day = starttime.day;
        var hour = starttime.hour;
        var min = starttime.minute;
        if (hour < 10) {
            hour = "0" + hour;
        }
        if (month < 10) {
            month = "0" + month;
        }
        if (min < 10) {
            min = "0" + min;
        }
        if (day < 10) {
            day = "0" + day;
        }
        var dischargetime = starttime.year + "-" + month + "-" + day + "T" + hour + ":" + min + "%2b0500&endDT=";
        var enddisttime;
        if (Number(hour) > 19) {
            hour = 4 + (hour - 24);
            if (hour < 10) {
                hour = "0" + hour;
            }
            enddisttime = starttime.year + "-" + month + "-" + day + "T" + hour + ":" + min + +"%2b0500&";
        }
        else if (Number(hour) < 10) {
            hour = Number(hour) + 4;
            if (hour < 10) {
                hour = "0" + hour;
            }
            enddisttime = starttime.year + "-" + month + "-" + day + "T" + hour + ":" + min + "%2b0500&";
        }
        else {
            enddisttime = starttime.year + "-" + month + "-" + day + "T" + (Number(hour) + 4) + ":" + min + "%2b0500&";
        }
        for (var i = 0; i < site.length; i++) {
            var gage = site[i];
            var siteid = (gage.identifier.replace("USGS-", ""));
            //let refid = "05587450"
            var baseurl = "https://nwis.waterservices.usgs.gov/nwis/iv/?format=json&sites=" + siteid + "&startDT=" + dischargetime + enddisttime + "&parameterCd=00060&siteStatus=all";
            this.http.get(baseurl).subscribe(function (result) {
                if ((result.value.timeSeries.length) > 0) {
                    _this.updateDischarge(result);
                    _this.gages.push(result);
                }
            });
        }
        this.StreamGages.next(this.gages);
    };
    NWISService.prototype.getMostRecentFlow = function (site) {
        var _this = this;
        this.gages = [];
        var _loop_1 = function () {
            var gage = site[i];
            var siteid = (gage.properties.identifier.replace("USGS-", ""));
            var baseurl = "https://waterservices.usgs.gov/nwis/iv/?format=json&sites=" + siteid + "&parameterCd=00060&siteStatus=active";
            this_1.http.get(baseurl).subscribe(function (result) {
                _this.gages.push(result);
                _this.MapService.showGages.next(true);
                _this.getGageInfoNwisv2(siteid).subscribe(function (Nwisresult) {
                    var _a;
                    var csv = [];
                    var lines = Nwisresult.split('#');
                    lines.forEach(function (element) {
                        var cols = element.split(';');
                        csv.push(cols);
                    });
                    var myresult = csv[csv.length - 1][0];
                    var jsonresult = JSON.stringify(myresult);
                    var myarrayv1 = jsonresult.split('\\n');
                    var myarrayv2 = [];
                    myarrayv1.forEach(function (item) {
                        var temparray = item.split('\\t');
                        myarrayv2.push(temparray);
                    });
                    var params = myarrayv2[1];
                    var time = myarrayv2[2];
                    var value = myarrayv2[3];
                    var len = params.length;
                    var data = [];
                    for (var x = 0; x < len; x++) {
                        var element = (_a = {},
                            _a[params[x].toString()] = value[x],
                            _a["time"] = time[x],
                            _a);
                        data.push(element);
                    }
                    var mydata = JSON.stringify(data);
                    var parsedJson = JSON.parse(mydata);
                    //let contribda = parsedJson[30].contrib_drain_area_va;
                    //let da = parsedJson[29].drain_area_va;
                    parsedJson.forEach(function (item) {
                        //let contribda = 0;
                        var da = 0;
                        if (item.hasOwnProperty('drain_area_va')) { //use the following to also check for contributing da...  item.hasOwnProperty('contrib_drain_area_va')
                            // if (item.contrib_drain_area_va > 0) {
                            //   contribda = item.contrib_drain_area_va
                            // } else 
                            if (item.drain_area_va > 0) {
                                da = item.drain_area_va;
                            }
                            // if (contribda > 0) {
                            //   this.updateGageData(result, gage, contribda);
                            // } else 
                            if (da > 0) {
                                _this.updateGageData(result, gage, da);
                            }
                            else {
                                _this.http.get("https://test.streamstats.usgs.gov/gagestatsservices/stations/" + siteid).subscribe(function (SSresult) {
                                    try {
                                        //check for drainage area (filter)
                                        var SSd = 0;
                                        if (SSresult.hasOwnProperty('characteristics')) {
                                            SSd = _this.filterDA(SSresult.characteristics);
                                        }
                                        _this.updateGageData(result, gage, SSd);
                                    }
                                    catch (_a) {
                                        //console.error('All methods failed to get drainage area for selected site, using drainage area from nldi nearest reach: ' + siteid)
                                        _this.updateGageData(result, gage, 0);
                                    } //failed
                                }, function (error) {
                                    //console.error('All methods failed to get drainage area for selected site, using drainage area from nldi nearest reach: ' + siteid)
                                    _this.updateGageData(result, gage, 0);
                                });
                            }
                        }
                    });
                    // if ("USGS-" + siteid == site[site.length - 1].identifier) {             //cannot remember what this was for...
                    //   this.updateGageData(result, gage);
                    //   this.MapService.showGages.next(true);
                    // }
                });
            });
        };
        var this_1 = this;
        for (var i = 0; i < site.length; i++) {
            _loop_1();
        }
        this.gagesArray.next(this.gagessub);
        this.StreamGages.next(this.gages);
    };
    NWISService.prototype.updateGageData = function (result, site, F) {
        var newgage = site.properties;
        if (F > 0) {
            newgage.drainagearea = F;
        }
        if (result.value.timeSeries.length > 0) {
            var code = "USGS-" + result.value.timeSeries[0].sourceInfo.siteCode[0].value;
            if (newgage.identifier == code) {
                //console.log('matched and updated discharge values');
                newgage.value = result.value.timeSeries[0].values[0].value[0].value;
                var date = new Date(result.value.timeSeries[0].values[0].value[0].dateTime);
                newgage.record = date;
            }
        }
        else {
            //this.sm('Gage is missing discharge value: ' + site.properties.identifier + "More info on: " + site.properties.uri);
        }
        this.gagessub.push(newgage);
    };
    NWISService.prototype.updateDischarge = function (gage) {
        this.gagessub.forEach(function (g) {
            var code = "USGS-" + gage.value.timeSeries[0].sourceInfo.siteCode[0].value;
            if (g.identifier == code) {
                g.value = gage.value.timeSeries[0].values[0].value[0].value;
                g.record = new Date(gage.value.timeSeries[0].values[0].value[0].dateTime);
            }
        });
        console.log("updated gages array");
        this.gagesArray.next(this.gagessub);
    };
    //checks to see if site is inactive
    NWISService.prototype.getStatus = function (siteid) {
        var url = this.baseURL + "/site/?site=" + siteid + "&siteStatus=inactive";
        console.log(siteid);
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(function (err) {
            if (err.status === 404) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(false);
            }
        }));
    };
    NWISService.prototype.filterDA = function (data) {
        var contribda = 0;
        var da = 0;
        data.forEach(function (element) {
            if (element.variableType.code == 'CONTDA') {
                contribda = element.value;
            }
            else if (element.variableType.code == 'DRNAREA') {
                da = element.value;
            }
        });
        if (contribda > da) {
            return (contribda);
        }
        else {
            return (da);
        }
    };
    NWISService.prototype.check4gages = function (features) {
        var _this = this;
        var layerGroup = new leaflet__WEBPACK_IMPORTED_MODULE_8__["FeatureGroup"]([]);
        var reportlayerGroup = new leaflet__WEBPACK_IMPORTED_MODULE_8__["FeatureGroup"]([]);
        var gagesArray = [];
        features.forEach(function (i) {
            if (i.geometry.type === 'Point') {
                var siteID = i.properties.identifier.replace("USGS-", "");
                // MarkerMaker Icon
                var blackTriangle = leaflet__WEBPACK_IMPORTED_MODULE_8__["divIcon"]({ className: 'wmm-triangle wmm-black wmm-size-15' });
                layerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_8__["marker"]([i.geometry.coordinates[1], i.geometry.coordinates[0]], {
                    icon: blackTriangle
                }).bindPopup('<h3>Streamgages</h3><br /><b>Station ID: </b>' + siteID + '<br /><b>Station Name: </b>' + i.properties.name + '<br /><b>Station Latitude: </b>' + i.geometry.coordinates[1] + '<br /><b>Station Longitude: </b>' + i.geometry.coordinates[0] + '<br /><b>NWIS page: </b><a href="' + i.properties.uri + '" target="_blank">link</a><br /><b>StreamStats Gage page: </b><a href="https://streamstatsags.cr.usgs.gov/gagepages/html/' + siteID + '.htm" target="_blank">link</a>'));
                reportlayerGroup.addLayer(leaflet__WEBPACK_IMPORTED_MODULE_8__["marker"]([i.geometry.coordinates[1], i.geometry.coordinates[0]], {
                    icon: blackTriangle
                }));
                gagesArray.push(i);
            }
        });
        //check if there is a gage data;
        if (gagesArray.length > 0) {
            for (var i = 0; i < gagesArray.length; i++) {
                features.forEach(function (o) {
                    if (o.geometry.type !== "Point") {
                        if (gagesArray[i].properties.comid == String(o.properties.nhdplus_comid)) {
                            gagesArray[i].properties["drainagearea"] = o.properties.DrainageArea / 2.59; //in sqmiles
                        }
                        else { }
                    }
                });
            }
            ;
            //create service
            //add gage
            this.gagesArray.next(gagesArray);
            this.MapService.gageDischargeSearch.next(true);
            this.getMostRecentFlow(gagesArray);
        }
        else {
            this.MapService.gageDischargeSearch.next(true);
        }
        ;
        // because it is async it takes time to process function above, once we have it done - we get the bounds
        // Potential to improve
        setTimeout(function () {
            _this.MapService.setBounds(layerGroup.getBounds());
        });
    };
    NWISService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"], _services_map_service__WEBPACK_IMPORTED_MODULE_5__["MapService"], ngx_toastr__WEBPACK_IMPORTED_MODULE_7__["ToastrService"]])
    ], NWISService);
    return NWISService;
}());



/***/ }),

/***/ "./src/app/modules/core/services/spillplanning.service.ts":
/*!****************************************************************!*\
  !*** ./src/app/modules/core/services/spillplanning.service.ts ***!
  \****************************************************************/
/*! exports provided: SpillPlanningService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpillPlanningService", function() { return SpillPlanningService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");




var SpillPlanningService = /** @class */ (function () {
    function SpillPlanningService(http, toastr) {
        this.http = http;
        this.messanger = toastr;
    }
    SpillPlanningService.prototype.upstreamTOT = function () {
    };
    SpillPlanningService.prototype.relativeDrainage = function (D, MAF) {
        var D_a;
        D_a = (Math.pow(D, 1.25) * 3.13209) / MAF; //3.13209 is the square root of 9.8 from Jobson's
        return D_a;
    };
    SpillPlanningService.prototype.relativeDischarge = function (q, MAF) {
        if (q === void 0) { q = 0; }
        if (MAF === void 0) { MAF = 0; }
        var Q_a;
        if (q > 0) {
            Q_a = q / MAF;
        }
        else {
            Q_a = 1;
        }
        return Q_a;
    };
    SpillPlanningService.prototype.peakVelocity = function (q, MAF, D, m, s) {
        var relativeDis;
        if (q > 0) {
            relativeDis = this.relativeDischarge(q, MAF);
        }
        else {
            relativeDis = this.relativeDischarge();
        }
        if (m === 'most') {
            if (s && s > 0) {
                var V_p = 0.094 + 0.0143 * Math.pow(this.relativeDrainage(D, MAF), 0.919) * Math.pow(relativeDis, -0.469) * Math.pow(s, 0.159) * q / D;
                return V_p;
            }
            else {
                var V_p = 0.02 + 0.051 * Math.pow(this.relativeDrainage(D, MAF), 0.821) * Math.pow(relativeDis, -0.465) * (q / D);
                return V_p;
            }
        }
        else {
            if (s && s > 0) {
                var V_mp = 0.25 + 0.02 * Math.pow(this.relativeDrainage(D, MAF), 0.919) * Math.pow(relativeDis, -0.469) * Math.pow(s, 0.159) * (q / D);
                return V_mp;
            }
            else {
                var V_mp = 0.2 + 0.093 * Math.pow(this.relativeDrainage(D, MAF), 0.821) * Math.pow(relativeDis, -0.465) * (q / D);
                return V_mp;
            }
        }
    };
    SpillPlanningService.prototype.peakTimeofTravel = function (L, q, MAF, D, m, s) {
        var T;
        T = (L * 1000) / this.peakVelocity(q, MAF, D, m, s) * 0.000277778;
        return T;
    };
    SpillPlanningService.prototype.unitPeakConcentration = function (L, q, MAF, D, m, s) {
        var C_up;
        var relativeDis;
        if (q > 0) {
            relativeDis = this.relativeDischarge(q, MAF);
        }
        else {
            relativeDis = this.relativeDischarge();
        }
        C_up = 857 * Math.pow(this.peakTimeofTravel(L, q, MAF, D, m, s), (-0.76 * Math.pow(relativeDis, (-0.079))));
        return C_up;
    };
    SpillPlanningService.prototype.leadingEdge = function (L, q, MAF, D, m, s) {
        if (q === void 0) { q = 0; }
        return (this.peakTimeofTravel(L, q, MAF, D, m, s) * 0.89);
    };
    SpillPlanningService.prototype.trailingEdge = function (L, q, MAF, D, m, s) {
        if (q === void 0) { q = 0; }
        return (2 * Math.pow(10, 6)) / (this.unitPeakConcentration(L, q, MAF, D, m, s) * 3600);
        //return ((2 * Math.pow(10, 6)) / (this.unitPeakConcentration(L, q, MAF, D, m)));
    };
    SpillPlanningService.prototype.passageTime = function (L, q, MAF, D, m, s) {
        if (q === void 0) { q = 0; }
        return ((this.leadingEdge(L, q, MAF, D, m, s) + this.trailingEdge(L, q, MAF, D, m, s)));
    };
    //Unit test according to jobsons example in the report, page 23
    SpillPlanningService.prototype.passageTimeTest = function (L, q, MAF, D, m, s) {
        if (L === void 0) { L = 0; }
        if (q === void 0) { q = 0; }
        if (MAF === void 0) { MAF = 0; }
        if (D === void 0) { D = 0; }
        if (s === void 0) { s = 0; }
        console.log("unit test");
        q = 1068;
        MAF = 730;
        D = 48 * Math.pow(10, 9);
        L = 104.8;
        var Q_r = (this.relativeDischarge(q, MAF)).toFixed(2);
        if (Q_r != "1.46") {
            this.messanger.show("Failed unit test, relative discharge");
        }
        else {
            this.messanger.show("Passed unit test, relative discharge");
        }
        var D_r = (this.relativeDrainage(D, MAF)).toFixed(2);
        if (D_r != "96396867095.29") {
            this.messanger.show("Failed unit test, compute relative drainage");
        }
        else {
            this.messanger.show("Passed unit test, relative drainage");
        }
        var P_v = this.peakVelocity(q, MAF, D, m, s).toFixed(2);
        if (P_v != "1.01") {
            this.messanger.show("Failed unit test, compute peak velocity");
        }
        else {
            this.messanger.show("Passed unit test, compute peak velocity");
        }
        var P_tot = this.peakTimeofTravel(L, q, MAF, D, m, s).toFixed(1);
        if (P_tot != "28.8") {
            this.messanger.show("Failed unit test, peak till time of travel");
        }
        else {
            this.messanger.show("Passed unit test, peak till time of travel");
        }
        var C_u = this.unitPeakConcentration(L, q, MAF, D, m, s).toFixed(1);
        if (C_u != "71.9") {
            this.messanger.show("Failed unit test,  unit peak concentration");
        }
        else {
            this.messanger.show("Passed unit test, unit peak concentration");
        }
        var T_l = this.leadingEdge(L, q, MAF, D, m, s).toFixed(1);
        if (T_l != "25.6") {
            this.messanger.show("Failed unit test,  time of leading edge");
        }
        else {
            this.messanger.show("Passed unit test,  time of leading edge");
        }
        var T_p = this.trailingEdge(L, q, MAF, D, m, s).toFixed(1);
        if (T_p != "7.7") {
            this.messanger.show("Failed unit test,  time of trailing edge");
        }
        else {
            this.messanger.show("Passed unit test, time of trailing edge");
        }
        var TOT = this.passageTime(L, q, MAF, D, m, s).toFixed(1);
        if (TOT != "33.4") {
            this.messanger.show("Failed unit test,  time of passage");
        }
        else {
            this.messanger.show("Passed unit test, time of passage");
        }
    };
    SpillPlanningService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], ngx_toastr__WEBPACK_IMPORTED_MODULE_2__["ToastrService"]])
    ], SpillPlanningService);
    return SpillPlanningService;
}());



/***/ }),

/***/ "./src/app/modules/core/services/study.service.ts":
/*!********************************************************!*\
  !*** ./src/app/modules/core/services/study.service.ts ***!
  \********************************************************/
/*! exports provided: StudyService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StudyService", function() { return StudyService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_extensions_object_DeepCopy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/extensions/object.DeepCopy */ "./src/app/shared/extensions/object.DeepCopy.ts");





;
var StudyService = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](StudyService, _super);
    function StudyService(toastr) {
        var _this = _super.call(this) || this;
        _this.SelectedReturn = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        _this.dateSub = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](undefined);
        _this.study$ = _this.SelectedReturn.asObservable();
        _this.selectedMethod = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        _this.methodType$ = _this.selectedMethod.asObservable();
        _this.WorkFlowControl = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        _this.ResultReturn = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        _this.return$ = _this.ResultReturn.asObservable();
        _this.defDischarge = "cubic meters per second";
        _this.defConcentration = "kilograms";
        _this.defRecoveryRatio = "dimensionless";
        _this.selectedProcedure = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        _this.procedureType$ = _this.selectedProcedure.asObservable();
        _this.unitS = {
            "metric": {
                "discharge": "cubic meters per second",
                "drainageArea": "square meters",
                "distance": "meters",
                "concentration": "kilograms",
                "slope": "meters/meters"
            },
            "imperial": {
                "discharge": "cubic feet per second",
                "drainageArea": "square miles",
                "distance": "miles",
                "concentration": "pounds",
                "slope": "feet/feet"
            }
        };
        _this.abbrev = {
            "metric": {
                "discharge": "cms",
                "drainageArea": "m^2",
                "distance": "m",
                "concentration": "kg",
                "slope": "m/m"
            },
            "imperial": {
                "discharge": "cfs",
                "drainageArea": "mi^2",
                "distance": "mi",
                "concentration": "lbs",
                "slope": "ft/ft"
            }
        };
        _this.UnitsReturn = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        _this.units$ = _this.UnitsReturn.asObservable();
        _this._workflow = { reachedZoom: false, hasMethod: false, hasPOI: false, hasError: false, hasReaches: false, hasDischarge: false, totResults: false, onInit: true };
        _this.units = [
            { name: "metric", isactive: true, units: "kilometers" },
            { name: "imperial", isactive: false, units: "miles" }
        ];
        _this.messager = toastr;
        _this.WorkFlowControl.next(_this._workflow);
        _this.distance = 100;
        _this.UnitsReturn.next('metric');
        _this.selectedProcedure.next(1);
        return _this;
    }
    //SET MASS
    StudyService.prototype.setConcentration = function (mass) {
        this.selectedStudy.SpillMass = mass;
        this.SelectedReturn.next(this.selectedStudy);
    };
    //SET DISCHARGE
    StudyService.prototype.setDischarge = function (discharge) {
        this.selectedStudy.Discharge = discharge;
        this.SelectedReturn.next(this.selectedStudy);
    };
    //SET RECOVERY RATIO
    StudyService.prototype.setRecoveryRatio = function (recoveryRatio) {
        this.selectedStudy.RecoveryRatio = recoveryRatio;
        this.SelectedReturn.next(this.selectedStudy);
    };
    //SET TIME
    StudyService.prototype.setDate = function (datestring) {
        console.log('time change triggered');
        this.selectedStudy.SpillDate = datestring;
        console.log("Study service, triggered");
        console.log(this.selectedStudy.SpillDate);
        this.dateSub.next(new Date(this.selectedStudy.SpillDate));
        //console.log(this.selectedStudy.SpillDate);
        this.SelectedReturn.next(this.selectedStudy);
    };
    StudyService.prototype.setUnits = function (unit) {
        this.defDischarge = this.unitS[unit].discharge;
        this.defConcentration = this.unitS[unit].concentration;
    };
    StudyService.prototype.isMetric = function () {
        var tf;
        this.units.forEach(function (j) {
            if (j.isactive) {
                if (j.name === 'imperial') {
                    tf = false;
                }
                else
                    tf = true;
            }
            else { }
        });
        return tf;
    };
    Object.defineProperty(StudyService.prototype, "checkingDelineatedPoint", {
        get: function () {
            return (this._workflow.hasPOI && !this._workflow.hasReaches);
        },
        enumerable: true,
        configurable: true
    });
    StudyService.prototype.SetWorkFlow = function (step, tf) {
        this._workflow[step] = tf;
        this.WorkFlowControl.next(this._workflow);
    };
    StudyService.prototype.noticeAction = function (action) {
        this.ResultReturn.next(action);
    };
    StudyService.prototype.GetWorkFlow = function (step) {
        if (this._workflow["totResults"]) {
            this.noticeAction(true);
        }
        return this._workflow[step];
    };
    StudyService.prototype.setProcedure = function (indx) {
        this.selectedProcedure.next(indx);
    };
    StudyService.prototype.ResetWorkFlow = function () {
        for (var i in this._workflow) {
            this._workflow[i] = false;
        }
        this.WorkFlowControl.next(this._workflow);
    };
    StudyService.prototype.formatReaches = function (data) {
        var streamArray = [];
        for (var i = 0; i < data.features.length; i++) {
            if (data.features[i].geometry.type === 'LineString') {
                var polylinePoints = this.deepCopy(data.features[i]);
                streamArray.push(polylinePoints);
            }
        }
        streamArray.map(function (reach) {
            reach.properties.show = false;
        });
        if (this.selectedStudy.MethodType == "response") { // response method sorts table by drainage area, smallest to largest
            if (this.selectedStudy.RDP.length > 1) {
                streamArray.shift(); //removes overland trace
            }
            var sortArray = streamArray.sort(function (a, b) {
                return a.properties.DrainageArea - b.properties.DrainageArea;
            });
            return (sortArray);
        }
        else { //planning method sorts table by total travel time, largest to smallest
            streamArray.shift(); //removes overland trace
            var sortArray = streamArray.sort(function (a, b) {
                return b.properties.accutot - a.properties.accutot;
            });
            return (sortArray);
        }
    };
    StudyService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [ngx_toastr__WEBPACK_IMPORTED_MODULE_2__["ToastrService"]])
    ], StudyService);
    return StudyService;
}(_shared_extensions_object_DeepCopy__WEBPACK_IMPORTED_MODULE_4__["deepCopy"]));



/***/ }),

/***/ "./src/app/modules/core/services/traveltimeservices.service.ts":
/*!*********************************************************************!*\
  !*** ./src/app/modules/core/services/traveltimeservices.service.ts ***!
  \*********************************************************************/
/*! exports provided: TravelTimeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TravelTimeService", function() { return TravelTimeService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _shared_messageType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/messageType */ "./src/app/shared/messageType.ts");







var TravelTimeService = /** @class */ (function () {
    function TravelTimeService(http, toastr) {
        this.http = http;
        this.messager = toastr;
    }
    Object.defineProperty(TravelTimeService.prototype, "baseURL", {
        get: function () { return "https://test.streamstats.usgs.gov/timeoftravelservices/"; },
        enumerable: true,
        configurable: true
    });
    TravelTimeService.prototype.getJobsonConfigurationObject = function () {
        var url = this.baseURL + "jobsons";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError('getJobsonConfigurationObject', [])));
    };
    TravelTimeService.prototype.ExecuteJobson = function (massconcentration, starttime, reaches) {
        var url = this.baseURL + "jobsons/Execute?initialmassconcentration=" + massconcentration + "&starttime=" + starttime;
        // I'm thinking this should occure before here (in a validation method or something)
        var reachdictionary = {};
        for (var index = 0; index < reaches.length; index++) {
            reachdictionary[index] = reaches[index];
        }
        return this.http.post(url, { reaches: reachdictionary })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError('Execute', [])));
    };
    TravelTimeService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            console.error(error);
            _this.sm("Please try again.", _shared_messageType__WEBPACK_IMPORTED_MODULE_6__["ERROR"], "Http Error Occured!", 0);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(result);
        };
    };
    TravelTimeService.prototype.sm = function (msg, mType, title, timeout) {
        if (mType === void 0) { mType = _shared_messageType__WEBPACK_IMPORTED_MODULE_6__["INFO"]; }
        try {
            var options = null;
            if (timeout)
                options = { timeOut: timeout };
            this.messager.show(msg, title, options, mType);
        }
        catch (e) {
        }
    };
    TravelTimeService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"], ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"]])
    ], TravelTimeService);
    return TravelTimeService;
}());



/***/ }),

/***/ "./src/app/shared/extensions/number.toUSGSValue.ts":
/*!*********************************************************!*\
  !*** ./src/app/shared/extensions/number.toUSGSValue.ts ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

if (!Number.prototype.toUSGSvalue) {
    Number.prototype.toUSGSvalue = function () {
        var x = parseFloat(this);
        var precision;
        if ((x > 1000000) && (x < 10000000))
            precision = 10000;
        if ((x > 100000) && (x < 1000000))
            precision = 1000;
        if ((x > 10000) && (x < 100000))
            precision = 100;
        if ((x > 1000) && (x < 10000))
            precision = 10;
        if ((x > 100) && (x < 1000))
            precision = 1;
        if (x < 100)
            return Number(x.toPrecision(3));
        return parseInt(((x + (precision * .5)) / precision).toString()) * precision;
    };
}


/***/ }),

/***/ "./src/app/shared/extensions/object.DeepCopy.ts":
/*!******************************************************!*\
  !*** ./src/app/shared/extensions/object.DeepCopy.ts ***!
  \******************************************************/
/*! exports provided: deepCopy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deepCopy", function() { return deepCopy; });
var deepCopy = /** @class */ (function () {
    function deepCopy() {
    }
    //deepCopyConstructor
    deepCopy.prototype.deepCopy = function (obj) {
        var copy;
        // Handle the 3 simple types, and null or undefined
        if (null == obj || "object" != typeof obj)
            return obj;
        // Handle Array
        if (obj instanceof Array) {
            copy = [];
            for (var i = 0, len = obj.length; i < len; i++) {
                copy[i] = this.deepCopy(obj[i]);
            }
            return copy;
        }
        // Handle Object
        if (obj instanceof Object) {
            copy = {};
            for (var attr in obj) {
                if (obj.hasOwnProperty(attr))
                    copy[attr] = this.deepCopy(obj[attr]);
            }
            return copy;
        }
        throw new Error("Unable to copy obj! Its type isn't supported.");
    };
    ;
    deepCopy.prototype.swapElement = function (array, indexA, indexB) {
        var tmp = array[indexA];
        array[indexA] = array[indexB];
        array[indexB] = tmp;
        return array;
    };
    return deepCopy;
}());



/***/ }),

/***/ "./src/app/shared/messageType.ts":
/*!***************************************!*\
  !*** ./src/app/shared/messageType.ts ***!
  \***************************************/
/*! exports provided: INFO, SUCCESS, WARNING, ERROR */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INFO", function() { return INFO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SUCCESS", function() { return SUCCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WARNING", function() { return WARNING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ERROR", function() { return ERROR; });
var INFO = "info";
var SUCCESS = "success";
var WARNING = "warning";
var ERROR = "error";


/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false,
    hmr: false,
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/hmr.ts":
/*!********************!*\
  !*** ./src/hmr.ts ***!
  \********************/
/*! exports provided: hmrBootstrap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hmrBootstrap", function() { return hmrBootstrap; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angularclass_hmr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angularclass/hmr */ "./node_modules/@angularclass/hmr/dist/index.js");
/* harmony import */ var _angularclass_hmr__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_angularclass_hmr__WEBPACK_IMPORTED_MODULE_1__);


var hmrBootstrap = function (module, bootstrap) {
    var ngModule;
    module.hot.accept();
    bootstrap().then(function (mod) { return (ngModule = mod); });
    module.hot.dispose(function () {
        var appRef = ngModule.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ApplicationRef"]);
        var elements = appRef.components.map(function (c) { return c.location.nativeElement; });
        var makeVisible = Object(_angularclass_hmr__WEBPACK_IMPORTED_MODULE_1__["createNewHosts"])(elements);
        ngModule.destroy();
        makeVisible();
    });
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _hmr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hmr */ "./src/hmr.ts");





var bootstrap = function () { return Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"]); };
// HMR Mode
if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].hmr) {
    if (false) {}
    else {
        console.error('HMR is not enabled for webpack-dev-server!');
        console.log('Are you using the --hmr flag for ng serve?');
    }
}
else {
    bootstrap().catch(function (err) { return console.log(err); });
}
// Production mode
if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.error(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\tgross\wim.github\TravelTime\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map